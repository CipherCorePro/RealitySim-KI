
    <!DOCTYPE html>
    <html lang="de" class="dark scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Technische Dokumentation: ver.-20-realitysim-ai</title>
        <style>
        * {
            box-sizing: border-box;
        }
        :root {
            --color-bg: #111827; /* gray-900 */
            --color-sidebar-bg: #1f2937; /* gray-800 */
            --color-text: #d1d5db; /* gray-300 */
            --color-text-dim: #9ca3af; /* gray-400 */
            --color-heading: #93c5fd; /* blue-300 */
            --color-title: #60a5fa; /* blue-400 */
            --color-link: #60a5fa;
            --color-link-hover: #93c5fd; /* blue-300 */
            --color-accent: #34d399; /* green-400 */
            --color-border: #374151; /* gray-700 */
            --color-code-bg: #374151;
            --color-pre-bg: #111827;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--color-bg);
            color: var(--color-text);
            margin: 0;
            line-height: 1.6;
        }
        .container {
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 300px;
            background-color: var(--color-sidebar-bg);
            padding: 2rem;
            border-right: 1px solid var(--color-border);
            position: fixed;
            height: 100%;
            overflow-y: auto;
        }
        .sidebar h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--color-text);
            margin-top: 0;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 1rem;
        }
        .sidebar ul { list-style: none; padding: 0; margin: 0; }
        .sidebar a {
            color: var(--color-text-dim);
            text-decoration: none;
            font-size: 0.9rem;
            word-break: break-all;
        }
        .sidebar a:hover { color: var(--color-link-hover); }
        .main-content {
            flex-grow: 1;
            padding: 3rem;
            margin-left: 300px;
        }
        .prose { max-width: 80ch; }
        .prose.max-w-none { max-width: none; }
        .prose-invert { color: var(--color-text); }
        .prose-invert h1, .prose-invert h2, .prose-invert h3, .prose-invert h4 { color: var(--color-heading); font-weight: 600; margin-top: 1.5em; margin-bottom: 1em; }
        .prose-invert h1 { font-size: 2em; }
        .prose-invert h2 { font-size: 1.5em; }
        .prose-invert h3 { font-size: 1.25em; }
        .prose-invert p { margin-bottom: 1.25em; }
        .prose-invert a { color: var(--color-link); }
        .prose-invert a:hover { color: var(--color-link-hover); text-decoration: underline; }
        .prose-invert strong { color: var(--color-text); font-weight: 600; }
        .prose-invert blockquote { border-left: 4px solid var(--color-border); padding-left: 1em; margin-left: 0; font-style: italic; color: var(--color-text-dim); }
        .prose-invert ul, .prose-invert ol { margin-bottom: 1.25em; padding-left: 1.5em; }
        .prose-invert li > p { margin-bottom: 0.5em; }
        .prose-invert code { background-color: var(--color-code-bg); padding: 0.2em 0.4em; border-radius: 0.25rem; font-size: 0.9em; color: #e5e7eb; }
        .prose-invert pre { background-color: var(--color-pre-bg); border: 1px solid var(--color-border); padding: 1em; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 1.5em; }
        .prose-invert pre code { background-color: transparent; padding: 0; font-size: 1em; }
        .prose-invert table { width: 100%; border-collapse: collapse; margin-bottom: 1.5em; }
        .prose-invert th, .prose-invert td { border: 1px solid var(--color-border); padding: 0.75em; }
        .prose-invert th { background-color: var(--color-sidebar-bg); }
        
        .main-header {
            background-color: var(--color-sidebar-bg);
            padding: 2rem;
            border-radius: 0.5rem;
            margin-bottom: 3rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }
        .main-header h1 {
            font-size: 2.5rem;
            margin: 0 0 0.5rem 0;
            color: var(--color-title);
            font-weight: 700;
        }
        </style>
    </head>
    <body>
        <div class="container">
            <aside class="sidebar">
                <h3>Inhaltsverzeichnis</h3>
                <nav>
                    <ul>
                        <li><a href="#project-overview" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">Projektübersicht</a></li>
                        <li><a href="#file-metadata-json" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">metadata.json</a></li><li><a href="#file-App-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">App.tsx</a></li><li><a href="#file-types-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">types.ts</a></li><li><a href="#file-constants-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">constants.ts</a></li><li><a href="#file-services-simulation-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/simulation.ts</a></li><li><a href="#file-services-geminiService-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/geminiService.ts</a></li><li><a href="#file-components-AgentCard-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/AgentCard.tsx</a></li><li><a href="#file-components-BeliefsChart-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/BeliefsChart.tsx</a></li><li><a href="#file-components-ControlPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/ControlPanel.tsx</a></li><li><a href="#file-components-LogPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/LogPanel.tsx</a></li><li><a href="#file-components-WorldGraph-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/WorldGraph.tsx</a></li><li><a href="#file-components-CreateObjectPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/CreateObjectPanel.tsx</a></li><li><a href="#file-components-IconComponents-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/IconComponents.tsx</a></li><li><a href="#file-components-ExporterPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/ExporterPanel.tsx</a></li><li><a href="#file-components-AdminPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/AdminPanel.tsx</a></li><li><a href="#file-contexts-LanguageContext-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">contexts/LanguageContext.tsx</a></li><li><a href="#file-hooks-useTranslations-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">hooks/useTranslations.ts</a></li><li><a href="#file-translations-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">translations.ts</a></li><li><a href="#file-components-LanguageSwitcher-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/LanguageSwitcher.tsx</a></li><li><a href="#file-components-ProcessingIndicator-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/ProcessingIndicator.tsx</a></li><li><a href="#file-contexts-SettingsContext-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">contexts/SettingsContext.tsx</a></li><li><a href="#file-hooks-useSimulation-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">hooks/useSimulation.ts</a></li><li><a href="#file-services-actions-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/actions.ts</a></li><li><a href="#file-services-simulationUtils-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/simulationUtils.ts</a></li><li><a href="#file-components-AnalyticsDashboard-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/AnalyticsDashboard.tsx</a></li><li><a href="#file-services-memoryService-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/memoryService.ts</a></li><li><a href="#file-Dokumentation-md" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">Dokumentation.md</a></li><li><a href="#file-package-json" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">package.json</a></li><li><a href="#file-index-html" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">index.html</a></li><li><a href="#file-index-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">index.tsx</a></li><li><a href="#file-tsconfig-json" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">tsconfig.json</a></li><li><a href="#file-vite-config-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">vite.config.ts</a></li><li><a href="#file--gitignore" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">.gitignore</a></li><li><a href="#file-README-md" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">README.md</a></li>
                    </ul>
                </nav>
            </aside>
            <main class="main-content">
                <div id="project-overview" class="main-header scroll-mt-20">
                  <h1>Technische Dokumentation: ver.-20-realitysim-ai</h1>
                  <div class="prose prose-invert max-w-none" style="margin-top: 1rem;">
                    <p>"ver.-20-realitysim-ai" ist eine interaktive, webbasierte Simulationsplattform, die eine künstliche Realität modelliert und visualisiert, welche von autonomen KI-Agenten bevölkert wird. Das Projekt integriert einen zentralen Simulationsdienst mit einem KI-Dienst wie Gemini, um komplexe Agentenverhaltensweisen und Weltinteraktionen zu steuern. Die umfangreiche Benutzeroberfläche bietet detaillierte Visualisierungen der Welt (z.B. als Graph) und der Agentenzustände (z.B. Beliefs, Logs), ermöglicht umfassende Steuerung (Erstellung von Objekten, Administratorfunktionen), Export von Daten und Analyse (Dashboards), alles unterstützt durch Internationalisierung und Konfigurationsmöglichkeiten.</p>
                  </div>
                </div>
                
        <div id="file-metadata-json" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> metadata.json</h2>
            <div class="prose prose-invert max-w-none">
            <p>Die vorliegende JSON-Datei definiert Metadaten und Konfigurationsdetails für eine KI-Anwendung oder -Simulation.</p>
<h3><code>MetadataObject</code></h3>
<p>Dieses Objekt stellt die Hauptkonfiguration für die Anwendung dar.</p>
<h4>Eigenschaften</h4>
<ul>
<li><p><strong><code>name</code></strong></p>
<ul>
<li><strong>Typ:</strong> <code>string</code></li>
<li><strong>Beschreibung:</strong> Der Anzeigename der Anwendung oder Simulation. Dieser Name identifiziert die Anwendung eindeutig und ist für den Benutzer sichtbar.</li>
<li><strong>Beispiel:</strong> <code>&quot;Ver. 20 RealitySim AI&quot;</code></li>
</ul>
</li>
<li><p><strong><code>description</code></strong></p>
<ul>
<li><strong>Typ:</strong> <code>string</code></li>
<li><strong>Beschreibung:</strong> Eine detaillierte Beschreibung der Anwendung. Sie erklärt den Zweck, die Kernfunktionen und die Interaktionsmöglichkeiten der Simulationsumgebung.</li>
<li><strong>Beispiel:</strong> <code>&quot;An interactive web-based simulation environment where AI agents with unique beliefs and memories interact with a dynamic world. Control agents with natural language, run simulation steps, and visualize the emergent cognitive behavior of the system.&quot;</code></li>
</ul>
</li>
<li><p><strong><code>requestFramePermissions</code></strong></p>
<ul>
<li><strong>Typ:</strong> <code>string[]</code></li>
<li><strong>Beschreibung:</strong> Ein Array von Zeichenketten, das spezielle Berechtigungen anfordert, die für das Einbetten der Anwendung in einem Iframe erforderlich sein könnten. Ein leeres Array bedeutet, dass keine spezifischen Iframe-Berechtigungen über die Standardeinstellungen hinaus angefordert werden.</li>
<li><strong>Beispiel:</strong> <code>[]</code></li>
</ul>
</li>
<li><p><strong><code>prompt</code></strong></p>
<ul>
<li><strong>Typ:</strong> <code>string</code></li>
<li><strong>Beschreibung:</strong> Ein Initial- oder Standard-Prompt-Text, der möglicherweise verwendet wird, um die Interaktion mit den KI-Agenten oder der Simulation zu initiieren. Eine leere Zeichenkette bedeutet, dass kein Standard-Prompt definiert ist.</li>
<li><strong>Beispiel:</strong> <code>&quot;&quot;</code></li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-App-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> App.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>App.tsx</code></h3>
<p>This file defines the main application component <code>App</code> which orchestrates the user interface for a simulation environment. It integrates various UI panels, modals, and leverages several custom hooks and components to manage simulation state, settings, and interactions.</p>
<h4>Interfaces</h4>
<h5><code>ViewTogglePanelProps</code></h5>
<p>Defines the properties for the <code>ViewTogglePanel</code> component.</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>visibility</code></td>
<td align="left"><code>{ left: boolean; agentCard: boolean; worldMap: boolean; right: boolean; }</code></td>
<td align="left">An object indicating the current visibility status of different UI panels.</td>
</tr>
<tr>
<td align="left"><code>onToggle</code></td>
<td align="left"><code>(panel: keyof ViewTogglePanelProps[&#39;visibility&#39;]) =&gt; void</code></td>
<td align="left">Callback function triggered when a panel visibility toggle button is clicked. It receives the name of the panel to toggle.</td>
</tr>
</tbody></table>
<h5><code>SettingsModalProps</code></h5>
<p>Defines the properties for the <code>SettingsModal</code> component.</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isOpen</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Controls whether the settings modal is currently open or closed.</td>
</tr>
<tr>
<td align="left"><code>onClose</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback function to close the settings modal.</td>
</tr>
</tbody></table>
<h5><code>GenerateWorldModalProps</code></h5>
<p>Defines the properties for the <code>GenerateWorldModal</code> component.</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isOpen</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Controls whether the world generation modal is currently open or closed.</td>
</tr>
<tr>
<td align="left"><code>onClose</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback function to close the world generation modal.</td>
</tr>
<tr>
<td align="left"><code>onGenerate</code></td>
<td align="left"><code>(agentCount: number, entityCounts: { [key: string]: number }) =&gt; void</code></td>
<td align="left">Callback function to initiate world generation. It receives the desired number of agents and an object mapping entity types to their counts.</td>
</tr>
<tr>
<td align="left"><code>isGenerating</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Indicates if the world generation process is currently active. Used to disable input fields and buttons during generation.</td>
</tr>
</tbody></table>
<h5><code>GenerateContentModalProps</code></h5>
<p>Defines the properties for the <code>GenerateContentModal</code> component.</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isOpen</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Controls whether the content generation modal is currently open or closed.</td>
</tr>
<tr>
<td align="left"><code>onClose</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback function to close the content generation modal.</td>
</tr>
<tr>
<td align="left"><code>onGenerateAgents</code></td>
<td align="left"><code>(count: number) =&gt; void</code></td>
<td align="left">Callback function to generate additional agents. It receives the number of agents to generate.</td>
</tr>
<tr>
<td align="left"><code>onGenerateEntities</code></td>
<td align="left"><code>(counts: { [key: string]: number }) =&gt; void</code></td>
<td align="left">Callback function to generate additional entities. It receives an object mapping entity types (e.g., &#39;food&#39;, &#39;water&#39;) to their desired counts.</td>
</tr>
<tr>
<td align="left"><code>isGenerating</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Indicates if an agent or entity generation process is currently active. Used to disable input fields and buttons during generation.</td>
</tr>
</tbody></table>
<h5><code>PsychoanalysisModalProps</code></h5>
<p>Defines the properties for the <code>PsychoanalysisModal</code> component.</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isOpen</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Controls whether the psychoanalysis modal is currently open or closed.</td>
</tr>
<tr>
<td align="left"><code>onClose</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback function to close the psychoanalysis modal.</td>
</tr>
<tr>
<td align="left"><code>report</code></td>
<td align="left"><code>PsychoReport &amp;#124; null</code></td>
<td align="left">The psychoanalysis report data to display, or <code>null</code> if no report is available.</td>
</tr>
<tr>
<td align="left"><code>isGenerating</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Indicates if the psychoanalysis report is currently being generated.</td>
</tr>
<tr>
<td align="left"><code>agentName</code></td>
<td align="left"><code>string &amp;#124; null</code></td>
<td align="left">The name of the agent for whom the psychoanalysis report is being displayed/generated.</td>
</tr>
</tbody></table>
<h4>Components</h4>
<h5><code>ViewTogglePanel</code></h5>
<p>A React functional component that provides buttons to toggle the visibility of different main UI panels (left, agent card, world map, right panel).</p>
<p><strong>Props:</strong> <code>ViewTogglePanelProps</code></p>
<h5><code>SettingsModal</code></h5>
<p>A modal component for configuring application settings, specifically the AI provider (LM Studio or Google Gemini) and their respective model settings.</p>
<p><strong>Props:</strong> <code>SettingsModalProps</code></p>
<h5><code>GenerateWorldModal</code></h5>
<p>A modal component used to initialize a new simulation world. It allows the user to specify the initial number of agents and various entities (food, water, wood, iron, buildings).</p>
<p><strong>Props:</strong> <code>GenerateWorldModalProps</code></p>
<h5><code>GenerateContentModal</code></h5>
<p>A modal component for adding content (agents or entities) to an existing simulation world. It provides separate sections for generating agents and generating specific types of entities.</p>
<p><strong>Props:</strong> <code>GenerateContentModalProps</code></p>
<h5><code>ReportSection</code></h5>
<p>A small helper component used within <code>PsychoanalysisModal</code> to display a titled section of the psychoanalysis report.</p>
<p><strong>Props:</strong></p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>title</code></td>
<td align="left"><code>string</code></td>
<td align="left">The title of the report section.</td>
</tr>
<tr>
<td align="left"><code>content</code></td>
<td align="left"><code>string &amp;#124; undefined</code></td>
<td align="left">The content/text of the report section.</td>
</tr>
</tbody></table>
<h5><code>PsychoanalysisModal</code></h5>
<p>A modal component that displays a detailed psychoanalysis report for a selected agent. It shows different psychological aspects and a therapeutic recommendation. Includes a loading indicator when a report is being generated.</p>
<p><strong>Props:</strong> <code>PsychoanalysisModalProps</code></p>
<h5><code>App</code></h5>
<p>The main application component. It serves as the root of the user interface, managing the overall layout, state, and interactions of the simulation environment.</p>
<p>It fetches global simulation state and handlers from the <code>useSimulation</code> hook, manages the visibility of different UI panels, and orchestrates the display of various sub-components like <code>AgentCard</code>, <code>WorldGraph</code>, <code>LogPanel</code>, <code>ControlPanel</code>, and several modals.</p>
<p><strong>Props:</strong> <code>None</code> (It is the root component and takes no direct props from its parent).</p>
<p><strong>Key Features:</strong></p>
<ul>
<li><strong>Layout Management</strong>: Dynamically adjusts the grid layout based on the visibility of the left, middle (Agent Card/World Map), and right panels.</li>
<li><strong>State Management</strong>: Utilizes <code>useSimulation</code> to access and manipulate the core simulation state (agents, entities, environment, logs, etc.) and various UI-related states (modal visibility, selected agent, generation status).</li>
<li><strong>Internationalization</strong>: Employs <code>useTranslations</code> for multi-language support across the UI elements.</li>
<li><strong>Component Integration</strong>: Renders and manages the lifecycle of numerous child components:<ul>
<li><code>ProcessingIndicator</code>: Shows when steps are being processed.</li>
<li><code>LanguageSwitcher</code>: Allows changing the UI language.</li>
<li><code>ViewTogglePanel</code>: Controls panel visibility.</li>
<li><code>ControlPanel</code>: Provides simulation controls (step, run, reset, generate world/content).</li>
<li><code>AgentCard</code>: Displays detailed information about a selected agent.</li>
<li><code>WorldGraph</code>: Visualizes agents, entities, and the environment.</li>
<li><code>AdminPanel</code>: Provides administrative controls for modifying the world state (visible only for admin agents).</li>
<li><code>CreateObjectPanel</code>: Allows manual creation of new agents and entities.</li>
<li><code>LogPanel</code>: Displays simulation logs.</li>
<li><code>ExporterPanel</code>: Handles importing/exporting simulation state and data.</li>
<li><code>SettingsModal</code>: Configures AI provider settings.</li>
<li><code>GenerateWorldModal</code>: Initiates world generation with configurable parameters.</li>
<li><code>GenerateContentModal</code>: Adds agents or entities to an existing world.</li>
<li><code>PsychoanalysisModal</code>: Displays AI-generated psychoanalysis reports for agents.</li>
<li><code>AnalyticsDashboard</code>: Provides a dashboard for simulation analytics.</li>
</ul>
</li>
<li><strong>Conditional Rendering</strong>: Renders panels and modals conditionally based on their visibility state and the selected agent&#39;s properties (e.g., <code>AdminPanel</code> for admin agents).</li>
<li><strong>Memoization</strong>: Uses <code>useMemo</code> for <code>cultureName</code>, <code>religionName</code>, <code>leaderName</code>, and <code>gridClasses</code> to optimize performance by preventing unnecessary recalculations.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-types-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> types.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>Psyche</code> Interface</h3>
<p>Definiert verschiedene psychische Attribute oder Zustände eines Agenten, jeweils als normalisierter Wert zwischen 0 und 1.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>empathy</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an Empathie (0-1).</td>
</tr>
<tr>
<td align="left"><code>vengefulness</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an Rachsucht (0-1).</td>
</tr>
<tr>
<td align="left"><code>forgiveness</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an Vergebungsbereitschaft (0-1).</td>
</tr>
<tr>
<td align="left"><code>searchForMeaning</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Bedürfnis nach Sinnsuche (0-1).</td>
</tr>
<tr>
<td align="left"><code>decisionPressure</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der empfundene Entscheidungsdruck (0-1).</td>
</tr>
<tr>
<td align="left"><code>fearOfDeath</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Angst vor dem Tod (0-1).</td>
</tr>
<tr>
<td align="left"><code>boredom</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an Langeweile (0-1).</td>
</tr>
<tr>
<td align="left"><code>inspiration</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an Inspiration (0-1).</td>
</tr>
<tr>
<td align="left"><code>fanaticism</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an Fanatismus (0-1).</td>
</tr>
<tr>
<td align="left"><code>spiritualNeed</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an spirituellem Bedürfnis (0-1).</td>
</tr>
<tr>
<td align="left"><code>jealousy</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Maß an Eifersucht (0-1).</td>
</tr>
</tbody></table>
<h3><code>Beliefs</code> Interface</h3>
<p>Ein generisches Interface zur Speicherung von Überzeugungen als Schlüssel-Wert-Paare, wobei der Wert die Intensität oder den Grad der Überzeugung darstellt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[key: string]</code></td>
<td align="left"><code>number</code></td>
<td align="left">Ein dynamischer Schlüssel, der eine Überzeugung repräsentiert, mit einem numerischen Wert.</td>
</tr>
</tbody></table>
<h3><code>Emotions</code> Interface</h3>
<p>Ein generisches Interface zur Speicherung von Emotionen als Schlüssel-Wert-Paare, wobei der Wert die Intensität der Emotion darstellt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[key: string]</code></td>
<td align="left"><code>number</code></td>
<td align="left">Ein dynamischer Schlüssel, der eine Emotion repräsentiert, mit einem numerischen Wert.</td>
</tr>
</tbody></table>
<h3><code>Personality</code> Interface</h3>
<p>Definiert die fünf Hauptdimensionen der Persönlichkeit (Big Five). Jeder Wert liegt zwischen 0 und 1.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>openness</code></td>
<td align="left"><code>number</code></td>
<td align="left">Offenheit für Erfahrungen (0-1).</td>
</tr>
<tr>
<td align="left"><code>conscientiousness</code></td>
<td align="left"><code>number</code></td>
<td align="left">Gewissenhaftigkeit (0-1).</td>
</tr>
<tr>
<td align="left"><code>extraversion</code></td>
<td align="left"><code>number</code></td>
<td align="left">Extraversion (0-1).</td>
</tr>
<tr>
<td align="left"><code>agreeableness</code></td>
<td align="left"><code>number</code></td>
<td align="left">Verträglichkeit (0-1).</td>
</tr>
<tr>
<td align="left"><code>neuroticism</code></td>
<td align="left"><code>number</code></td>
<td align="left">Neurotizismus (emotionale Stabilität) (0-1).</td>
</tr>
</tbody></table>
<h3><code>Skills</code> Interface</h3>
<p>Ein generisches Interface zur Speicherung von Fähigkeiten als Schlüssel-Wert-Paare, wobei der Wert das Fertigkeitsniveau darstellt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[key: string]</code></td>
<td align="left"><code>number</code></td>
<td align="left">Ein dynamischer Schlüssel, der eine Fähigkeit repräsentiert, mit einem numerischen Wert (z.B. <code>{ healing: 15, woodcutting: 22, rhetoric: 5 }</code>).</td>
</tr>
</tbody></table>
<h3><code>GoalType</code> Typ</h3>
<p>Ein Union-Typ, der die möglichen Arten von Zielen definiert, die ein Agent haben kann.</p>
<table>
<thead>
<tr>
<th align="left">Wert</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&#39;becomeLeader&#39;</code></td>
<td align="left">Ziel, Anführer zu werden.</td>
</tr>
<tr>
<td align="left"><code>&#39;buildLargeHouse&#39;</code></td>
<td align="left">Ziel, ein großes Haus zu bauen.</td>
</tr>
<tr>
<td align="left"><code>&#39;masterSkill&#39;</code></td>
<td align="left">Ziel, eine Fähigkeit zu meistern.</td>
</tr>
<tr>
<td align="left"><code>&#39;avengeRival&#39;</code></td>
<td align="left">Ziel, einen Rivalen zu rächen.</td>
</tr>
<tr>
<td align="left"><code>&#39;achieveWealth&#39;</code></td>
<td align="left">Ziel, Reichtum zu erlangen.</td>
</tr>
<tr>
<td align="left"><code>&#39;mentorYoungAgent&#39;</code></td>
<td align="left">Ziel, einen jungen Agenten zu betreuen.</td>
</tr>
<tr>
<td align="left"><code>&#39;seekCounseling&#39;</code></td>
<td align="left">Ziel, Beratung zu suchen.</td>
</tr>
<tr>
<td align="left"><code>&#39;findMeaning&#39;</code></td>
<td align="left">Ziel, Sinn zu finden.</td>
</tr>
<tr>
<td align="left"><code>&#39;forgiveRival&#39;</code></td>
<td align="left">Ziel, einem Rivalen zu vergeben.</td>
</tr>
<tr>
<td align="left"><code>&#39;expressGrief&#39;</code></td>
<td align="left">Ziel, Trauer auszudrücken.</td>
</tr>
</tbody></table>
<h3><code>Goal</code> Interface</h3>
<p>Definiert ein Ziel, das ein Agent verfolgen kann, einschließlich seines Typs, Status und Fortschritts.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>type</code></td>
<td align="left"><code>GoalType</code></td>
<td align="left">Die Art des Ziels.</td>
</tr>
<tr>
<td align="left"><code>status</code></td>
<td align="left"><code>&#39;active&#39; | &#39;completed&#39; | &#39;failed&#39;</code></td>
<td align="left">Der aktuelle Status des Ziels.</td>
</tr>
<tr>
<td align="left"><code>progress</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Fortschritt des Ziels in Prozent (0-100).</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine textuelle Beschreibung des Ziels.</td>
</tr>
<tr>
<td align="left"><code>targetId?</code></td>
<td align="left"><code>string</code></td>
<td align="left">Optional: Die ID des Zielobjekts (z.B. eines anderen Agenten für Rache).</td>
</tr>
</tbody></table>
<h3><code>Trauma</code> Interface</h3>
<p>Beschreibt ein traumatisches Ereignis, das ein Agent erlebt hat.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>event</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung des traumatischen Ereignisses.</td>
</tr>
<tr>
<td align="left"><code>timestamp</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Zeitpunkt, zu dem das Trauma aufgetreten ist (z.B. Spielschritt oder Unix-Timestamp).</td>
</tr>
<tr>
<td align="left"><code>intensity</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Intensität des Traumas (0-1).</td>
</tr>
</tbody></table>
<h3><code>RelationshipType</code> Typ</h3>
<p>Ein Union-Typ, der die möglichen Arten von Beziehungen zwischen Agenten definiert.</p>
<table>
<thead>
<tr>
<th align="left">Wert</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&#39;stranger&#39;</code></td>
<td align="left">Fremder.</td>
</tr>
<tr>
<td align="left"><code>&#39;acquaintance&#39;</code></td>
<td align="left">Bekannter.</td>
</tr>
<tr>
<td align="left"><code>&#39;friend&#39;</code></td>
<td align="left">Freund.</td>
</tr>
<tr>
<td align="left"><code>&#39;rival&#39;</code></td>
<td align="left">Rivale.</td>
</tr>
<tr>
<td align="left"><code>&#39;partner&#39;</code></td>
<td align="left">Partner (im Sinne von Zusammenarbeit oder Bindung).</td>
</tr>
<tr>
<td align="left"><code>&#39;spouse&#39;</code></td>
<td align="left">Ehepartner.</td>
</tr>
<tr>
<td align="left"><code>&#39;ex-partner&#39;</code></td>
<td align="left">Ex-Partner.</td>
</tr>
</tbody></table>
<h3><code>Relationship</code> Interface</h3>
<p>Definiert die Details einer Beziehung zwischen zwei Agenten.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>type</code></td>
<td align="left"><code>RelationshipType</code></td>
<td align="left">Die Art der Beziehung.</td>
</tr>
<tr>
<td align="left"><code>score</code></td>
<td align="left"><code>number</code></td>
<td align="left">Eine numerische Bewertung der Beziehung (z.B. Freundschaftspunktzahl).</td>
</tr>
<tr>
<td align="left"><code>disposition</code></td>
<td align="left"><code>Emotions</code></td>
<td align="left">Eine Sammlung von Emotionen, die den emotionalen Zustand der Beziehung (z.B. Sympathie, Abneigung) darstellen.</td>
</tr>
</tbody></table>
<h3><code>Resonance</code> Interface</h3>
<p>Ein generisches Interface, das wahrscheinlich die Affinität oder den Grad der Resonanz eines Agenten mit bestimmten Konzepten oder Entitäten darstellt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[key: string]</code></td>
<td align="left"><code>number</code></td>
<td align="left">Ein dynamischer Schlüssel, der ein Konzept oder eine Entität repräsentiert, mit einem numerischen Wert für die Resonanz.</td>
</tr>
</tbody></table>
<h3><code>LogEntry</code> Interface</h3>
<p>Stellt einen Eintrag im Protokoll eines Agenten dar, der ein Ereignis oder eine Beobachtung festhält.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>key</code></td>
<td align="left"><code>string</code></td>
<td align="left">Ein eindeutiger Schlüssel oder Name des Protokolleintrags.</td>
</tr>
<tr>
<td align="left"><code>params?</code></td>
<td align="left"><code>{ [key: string]: any }</code></td>
<td align="left">Optional: Ein Objekt mit zusätzlichen Parametern oder Details zum Eintrag.</td>
</tr>
</tbody></table>
<h3><code>SocialMemoryEntry</code> Interface</h3>
<p>Beschreibt einen Eintrag im sozialen Gedächtnis eines Agenten, der Interaktionen mit anderen Agenten festhält.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>agentId</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die ID des Agenten, mit dem interagiert wurde.</td>
</tr>
<tr>
<td align="left"><code>action</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die beschriebene Aktion oder Interaktion.</td>
</tr>
<tr>
<td align="left"><code>result</code></td>
<td align="left"><code>&#39;accepted&#39; | &#39;rejected&#39; | &#39;initiated&#39; | &#39;reciprocated&#39; | &#39;observed&#39;</code></td>
<td align="left">Das Ergebnis der Interaktion.</td>
</tr>
<tr>
<td align="left"><code>emotionalImpact</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der emotionale Einfluss der Interaktion auf den Agenten (-1 bis 1).</td>
</tr>
<tr>
<td align="left"><code>timestamp</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Zeitpunkt des Ereignisses.</td>
</tr>
<tr>
<td align="left"><code>info?</code></td>
<td align="left"><code>string</code></td>
<td align="left">Optional: Zusätzliche Informationen über das Ereignis.</td>
</tr>
</tbody></table>
<h3><code>ResourceType</code> Typ</h3>
<p>Ein Union-Typ, der die vordefinierten Arten von Rohstoffen darstellt.</p>
<table>
<thead>
<tr>
<th align="left">Wert</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&#39;food&#39;</code></td>
<td align="left">Nahrung.</td>
</tr>
<tr>
<td align="left"><code>&#39;water&#39;</code></td>
<td align="left">Wasser.</td>
</tr>
<tr>
<td align="left"><code>&#39;wood&#39;</code></td>
<td align="left">Holz.</td>
</tr>
<tr>
<td align="left"><code>&#39;medicine&#39;</code></td>
<td align="left">Medizin.</td>
</tr>
<tr>
<td align="left"><code>&#39;iron&#39;</code></td>
<td align="left">Eisen.</td>
</tr>
</tbody></table>
<h3><code>CraftedItemType</code> Typ</h3>
<p>Ein Union-Typ, der die vordefinierten Arten von hergestellten Gegenständen darstellt.</p>
<table>
<thead>
<tr>
<th align="left">Wert</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&#39;sword&#39;</code></td>
<td align="left">Schwert.</td>
</tr>
<tr>
<td align="left"><code>&#39;plow&#39;</code></td>
<td align="left">Pflug.</td>
</tr>
<tr>
<td align="left"><code>&#39;advanced_medicine&#39;</code></td>
<td align="left">Fortgeschrittene Medizin.</td>
</tr>
<tr>
<td align="left"><code>&#39;iron_ingot&#39;</code></td>
<td align="left">Eisenbarren.</td>
</tr>
</tbody></table>
<h3><code>ItemType</code> Typ</h3>
<p>Ein Union-Typ, der alle möglichen Gegenstandstypen umfasst, sowohl Rohstoffe als auch hergestellte Gegenstände.</p>
<ul>
<li>Kombination aus <code>ResourceType</code> und <code>CraftedItemType</code>.</li>
</ul>
<h3><code>Inventory</code> Interface</h3>
<p>Stellt das Inventar eines Agenten dar, das die Mengen verschiedener Gegenstände auflistet.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[item: string]</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Name des Gegenstands als Schlüssel und die Menge als Wert.</td>
</tr>
</tbody></table>
<h3><code>Recipe</code> Interface</h3>
<p>Definiert ein Rezept zum Herstellen von Gegenständen.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name des Rezepts.</td>
</tr>
<tr>
<td align="left"><code>output</code></td>
<td align="left"><code>{ item: CraftedItemType, quantity: number }</code></td>
<td align="left">Der Gegenstand und die Menge, die das Rezept produziert.</td>
</tr>
<tr>
<td align="left"><code>ingredients</code></td>
<td align="left"><code>{ [key in ItemType]?: number }</code></td>
<td align="left">Eine Liste der benötigten Zutaten und deren Mengen.</td>
</tr>
<tr>
<td align="left"><code>requiredSkill?</code></td>
<td align="left"><code>{ skill: keyof Skills, level: number }</code></td>
<td align="left">Optional: Eine erforderliche Fähigkeit und das benötigte Niveau, um dieses Rezept auszuführen.</td>
</tr>
<tr>
<td align="left"><code>requiredTech?</code></td>
<td align="left"><code>string</code></td>
<td align="left">Optional: Die ID einer erforderlichen Technologie, um dieses Rezept ausführen zu können.</td>
</tr>
</tbody></table>
<h3><code>TradeOffer</code> Interface</h3>
<p>Definiert ein Handelsangebot auf einem Markt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>offerId</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine eindeutige ID für das Handelsangebot.</td>
</tr>
<tr>
<td align="left"><code>fromAgentId</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die ID des Agenten, der das Angebot erstellt hat.</td>
</tr>
<tr>
<td align="left"><code>item</code></td>
<td align="left"><code>ItemType</code></td>
<td align="left">Der angebotene Gegenstand.</td>
</tr>
<tr>
<td align="left"><code>quantity</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Menge des angebotenen Gegenstands.</td>
</tr>
<tr>
<td align="left"><code>price</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Preis pro Einheit des Gegenstands.</td>
</tr>
</tbody></table>
<h3><code>Market</code> Interface</h3>
<p>Definiert einen Marktplatz, auf dem Handelsangebote gelistet werden.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die eindeutige ID des Marktes.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name des Marktes.</td>
</tr>
<tr>
<td align="left"><code>listings</code></td>
<td align="left"><code>TradeOffer[]</code></td>
<td align="left">Eine Liste der aktuellen Handelsangebote auf diesem Markt.</td>
</tr>
</tbody></table>
<h3><code>Law</code> Interface</h3>
<p>Definiert ein Gesetz, das eine Regelung oder ein Verbot in der Welt darstellt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine eindeutige ID für das Gesetz.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name des Gesetzes.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine detaillierte Beschreibung des Gesetzes.</td>
</tr>
<tr>
<td align="left"><code>violatingAction</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name der Aktion, die durch dieses Gesetz verboten wird.</td>
</tr>
<tr>
<td align="left"><code>punishment</code></td>
<td align="left"><code>{ type: &#39;fine&#39; | &#39;arrest&#39;, amount: number }</code></td>
<td align="left">Die Art der Bestrafung (Geldstrafe oder Verhaftung) und der Betrag (für Geldstrafe) oder die Dauer in Schritten (für Verhaftung).</td>
</tr>
</tbody></table>
<h3><code>Government</code> Interface</h3>
<p>Definiert die Regierungsstruktur einer Welt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>type</code></td>
<td align="left"><code>&#39;monarchy&#39; | &#39;democracy&#39;</code></td>
<td align="left">Die Art der Regierungsform.</td>
</tr>
<tr>
<td align="left"><code>leaderId</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">Die ID des aktuellen Anführers, falls vorhanden.</td>
</tr>
<tr>
<td align="left"><code>laws</code></td>
<td align="left"><code>Law[]</code></td>
<td align="left">Eine Liste der aktuell geltenden Gesetze.</td>
</tr>
</tbody></table>
<h3><code>Election</code> Interface</h3>
<p>Definiert den Zustand einer Wahl.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isActive</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Gibt an, ob gerade eine Wahl stattfindet.</td>
</tr>
<tr>
<td align="left"><code>candidates</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste der IDs der Kandidaten, die zur Wahl stehen.</td>
</tr>
<tr>
<td align="left"><code>votes</code></td>
<td align="left"><code>{ [candidateId: string]: number }</code></td>
<td align="left">Ein Objekt, das die Stimmen für jeden Kandidaten speichert.</td>
</tr>
<tr>
<td align="left"><code>termEndDate</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Zeitpunkt (z.B. Spielschritt), zu dem die Amtszeit des gewählten Anführers endet.</td>
</tr>
</tbody></table>
<h3><code>Technology</code> Interface</h3>
<p>Definiert eine Technologie, die erforscht werden kann, und ihre Auswirkungen.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine eindeutige ID für die Technologie.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name der Technologie.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung der Technologie.</td>
</tr>
<tr>
<td align="left"><code>researchCost</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Kosten in Forschungspunkten, um diese Technologie zu erforschen.</td>
</tr>
<tr>
<td align="left"><code>unlocks</code></td>
<td align="left"><code>{ actions?: string[], recipes?: string[] }</code></td>
<td align="left">Eine Liste von Aktionen und/oder Rezepten, die durch diese Technologie freigeschaltet werden.</td>
</tr>
<tr>
<td align="left"><code>requiredTech?</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Optional: Eine Liste von IDs anderer Technologien, die vor dieser erforscht werden müssen.</td>
</tr>
</tbody></table>
<h3><code>LongTermMemory</code> Interface</h3>
<p>Stellt einen Eintrag im Langzeitgedächtnis eines Agenten dar, der Inhalt, Einbettung und Zeitstempel enthält.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>content</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Inhalt des Gedächtniseintrags.</td>
</tr>
<tr>
<td align="left"><code>embedding</code></td>
<td align="left"><code>number[]</code></td>
<td align="left">Die numerische Vektor-Einbettung des Inhalts.</td>
</tr>
<tr>
<td align="left"><code>timestamp</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Zeitpunkt, zu dem der Eintrag erstellt wurde.</td>
</tr>
</tbody></table>
<h3><code>JailJournalEntry</code> Interface</h3>
<p>Stellt einen Eintrag im Gefängnistagebuch eines Agenten dar.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>timestamp</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Zeitpunkt des Tagebucheintrags.</td>
</tr>
<tr>
<td align="left"><code>entry</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Inhalt des Tagebucheintrags.</td>
</tr>
</tbody></table>
<h3><code>Agent</code> Interface</h3>
<p>Definiert die umfassenden Eigenschaften eines Agenten in der Simulation.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutige ID des Agenten.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Name des Agenten.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung des Agenten.</td>
</tr>
<tr>
<td align="left"><code>x</code></td>
<td align="left"><code>number</code></td>
<td align="left">X-Koordinate der Position des Agenten.</td>
</tr>
<tr>
<td align="left"><code>y</code></td>
<td align="left"><code>number</code></td>
<td align="left">Y-Koordinate der Position des Agenten.</td>
</tr>
<tr>
<td align="left"><code>beliefNetwork</code></td>
<td align="left"><code>Beliefs</code></td>
<td align="left">Die Überzeugungen des Agenten.</td>
</tr>
<tr>
<td align="left"><code>emotions</code></td>
<td align="left"><code>Emotions</code></td>
<td align="left">Die aktuellen Emotionen des Agenten.</td>
</tr>
<tr>
<td align="left"><code>resonance</code></td>
<td align="left"><code>Resonance</code></td>
<td align="left">Die Resonanz des Agenten mit verschiedenen Konzepten.</td>
</tr>
<tr>
<td align="left"><code>socialMemory</code></td>
<td align="left"><code>SocialMemoryEntry[]</code></td>
<td align="left">Eine Liste der sozialen Gedächtniseinträge des Agenten.</td>
</tr>
<tr>
<td align="left"><code>longTermMemory</code></td>
<td align="left"><code>LongTermMemory[]</code></td>
<td align="left">Eine Liste der Langzeitgedächtniseinträge des Agenten.</td>
</tr>
<tr>
<td align="left"><code>lastActions</code></td>
<td align="left"><code>Action[]</code></td>
<td align="left">Eine Liste der letzten ausgeführten Aktionen des Agenten.</td>
</tr>
<tr>
<td align="left"><code>adminAgent</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Gibt an, ob der Agent ein Administrator-Agent ist.</td>
</tr>
<tr>
<td align="left"><code>health</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Gesundheitszustand des Agenten.</td>
</tr>
<tr>
<td align="left"><code>isAlive</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Gibt an, ob der Agent lebt.</td>
</tr>
<tr>
<td align="left"><code>sickness?</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">Optional: Name der Krankheit, an der der Agent leidet.</td>
</tr>
<tr>
<td align="left"><code>conversationHistory</code></td>
<td align="left"><code>{ speakerName: string; message: string; }[]</code></td>
<td align="left">Eine Liste des Gesprächsverlaufs des Agenten.</td>
</tr>
<tr>
<td align="left"><code>age</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Alter des Agenten.</td>
</tr>
<tr>
<td align="left"><code>genome</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine symbolische Darstellung des Genoms des Agenten.</td>
</tr>
<tr>
<td align="left"><code>relationships</code></td>
<td align="left"><code>{ [agentId: string]: Relationship }</code></td>
<td align="left">Beziehungen zu anderen Agenten, indiziert nach Agenten-ID.</td>
</tr>
<tr>
<td align="left"><code>cultureId</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">Die ID der Kultur, der der Agent angehört.</td>
</tr>
<tr>
<td align="left"><code>religionId</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">Die ID der Religion, der der Agent angehört.</td>
</tr>
<tr>
<td align="left"><code>role</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">Die Rolle des Agenten (z.B. Anführer, Handwerker).</td>
</tr>
<tr>
<td align="left"><code>offspringCount</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Anzahl der Nachkommen des Agenten.</td>
</tr>
<tr>
<td align="left"><code>childrenIds?</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Optional: Eine Liste der IDs der Kinder des Agenten.</td>
</tr>
<tr>
<td align="left"><code>hunger</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Hungerwert des Agenten.</td>
</tr>
<tr>
<td align="left"><code>thirst</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Durstwert des Agenten.</td>
</tr>
<tr>
<td align="left"><code>fatigue</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Müdigkeitswert des Agenten.</td>
</tr>
<tr>
<td align="left"><code>inventory</code></td>
<td align="left"><code>Inventory</code></td>
<td align="left">Das Inventar des Agenten.</td>
</tr>
<tr>
<td align="left"><code>personality</code></td>
<td align="left"><code>Personality</code></td>
<td align="left">Die Persönlichkeitsmerkmale des Agenten.</td>
</tr>
<tr>
<td align="left"><code>goals</code></td>
<td align="left"><code>Goal[]</code></td>
<td align="left">Die aktuellen Ziele des Agenten.</td>
</tr>
<tr>
<td align="left"><code>stress</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Stressniveau des Agenten.</td>
</tr>
<tr>
<td align="left"><code>socialStatus</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der soziale Status des Agenten.</td>
</tr>
<tr>
<td align="left"><code>skills</code></td>
<td align="left"><code>Skills</code></td>
<td align="left">Die Fähigkeiten des Agenten.</td>
</tr>
<tr>
<td align="left"><code>trauma</code></td>
<td align="left"><code>Trauma[]</code></td>
<td align="left">Eine Liste der traumatischen Erfahrungen des Agenten.</td>
</tr>
<tr>
<td align="left"><code>psyche</code></td>
<td align="left"><code>Psyche</code></td>
<td align="left">Die psychischen Attribute des Agenten.</td>
</tr>
<tr>
<td align="left"><code>unconsciousState?</code></td>
<td align="left"><code>{ [key: string]: number }</code></td>
<td align="left">Optional: Ein Objekt, das den unbewussten Zustand des Agenten darstellt.</td>
</tr>
<tr>
<td align="left"><code>currency</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Währung, die der Agent besitzt.</td>
</tr>
<tr>
<td align="left"><code>imprisonedUntil?</code></td>
<td align="left"><code>number</code></td>
<td align="left">Optional: Der Zeitpunkt (Spielschritt), bis zu dem der Agent inhaftiert ist.</td>
</tr>
<tr>
<td align="left"><code>jailJournal?</code></td>
<td align="left"><code>JailJournalEntry[]</code></td>
<td align="left">Optional: Das Gefängnistagebuch des Agenten.</td>
</tr>
<tr>
<td align="left"><code>qTable</code></td>
<td align="left"><code>{ [stateAction: string]: number; }</code></td>
<td align="left">Eine Q-Tabelle für das Reinforcement Learning des Agenten.</td>
</tr>
<tr>
<td align="left"><code>lastStressLevel?</code></td>
<td align="left"><code>number</code></td>
<td align="left">Optional: Das letzte aufgezeichnete Stressniveau des Agenten.</td>
</tr>
</tbody></table>
<h3><code>Entity</code> Interface</h3>
<p>Definiert die grundlegenden Eigenschaften einer Entität in der Welt (z.B. Ressourcenknoten, Gebäude).</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutige ID der Entität.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Name der Entität.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung der Entität.</td>
</tr>
<tr>
<td align="left"><code>x</code></td>
<td align="left"><code>number</code></td>
<td align="left">X-Koordinate der Position der Entität.</td>
</tr>
<tr>
<td align="left"><code>y</code></td>
<td align="left"><code>number</code></td>
<td align="left">Y-Koordinate der Position der Entität.</td>
</tr>
<tr>
<td align="left"><code>isResource?</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Optional: Gibt an, ob die Entität eine Ressource ist.</td>
</tr>
<tr>
<td align="left"><code>resourceType?</code></td>
<td align="left"><code>ResourceType</code></td>
<td align="left">Optional: Der Typ der Ressource, falls <code>isResource</code> wahr ist.</td>
</tr>
<tr>
<td align="left"><code>quantity?</code></td>
<td align="left"><code>number</code></td>
<td align="left">Optional: Die Menge der Ressource, falls vorhanden.</td>
</tr>
<tr>
<td align="left"><code>ownerId?</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">Optional: Die ID des Agenten, der die Entität besitzt.</td>
</tr>
<tr>
<td align="left"><code>isMarketplace?</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Optional: Gibt an, ob die Entität ein Marktplatz ist.</td>
</tr>
<tr>
<td align="left"><code>isJail?</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Optional: Gibt an, ob die Entität ein Gefängnis ist.</td>
</tr>
<tr>
<td align="left"><code>inmates?</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Optional: Eine Liste der IDs der Agenten, die sich in diesem Gefängnis befinden.</td>
</tr>
</tbody></table>
<h3><code>EnvironmentState</code> Interface</h3>
<p>Definiert den globalen Zustand der Umgebung.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>[key: string]</code></td>
<td align="left"><code>any</code></td>
<td align="left">Beliebige andere Umgebungseigenschaften.</td>
</tr>
<tr>
<td align="left"><code>width</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Breite der simulierten Welt.</td>
</tr>
<tr>
<td align="left"><code>height</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Höhe der simulierten Welt.</td>
</tr>
<tr>
<td align="left"><code>time</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der aktuelle Zeitpunkt oder Spielschritt in der Simulation.</td>
</tr>
<tr>
<td align="left"><code>election</code></td>
<td align="left"><code>Election | null</code></td>
<td align="left">Der aktuelle Zustand einer Wahl, falls eine stattfindet oder vorbereitet wird.</td>
</tr>
</tbody></table>
<h3><code>Religion</code> Interface</h3>
<p>Definiert eine Religion in der Welt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die eindeutige ID der Religion.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name der Religion.</td>
</tr>
<tr>
<td align="left"><code>dogma</code></td>
<td align="left"><code>Beliefs</code></td>
<td align="left">Die fundamentalen Überzeugungen (Dogmen) der Religion.</td>
</tr>
<tr>
<td align="left"><code>memberIds</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste der IDs der Agenten, die dieser Religion angehören.</td>
</tr>
</tbody></table>
<h3><code>Culture</code> Interface</h3>
<p>Definiert eine Kultur in der Welt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die eindeutige ID der Kultur.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name der Kultur.</td>
</tr>
<tr>
<td align="left"><code>sharedBeliefs</code></td>
<td align="left"><code>Beliefs</code></td>
<td align="left">Die gemeinsamen Überzeugungen, die von den Mitgliedern dieser Kultur geteilt werden.</td>
</tr>
<tr>
<td align="left"><code>memberIds</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste der IDs der Agenten, die dieser Kultur angehören.</td>
</tr>
<tr>
<td align="left"><code>researchPoints</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Forschungspunkte, die die Kultur für die Technologieentwicklung gesammelt hat.</td>
</tr>
<tr>
<td align="left"><code>knownTechnologies</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste der IDs der Technologien, die diese Kultur bereits erforscht hat.</td>
</tr>
</tbody></table>
<h3><code>Transaction</code> Interface</h3>
<p>Stellt eine Transaktion dar, z.B. einen Handel oder eine Übertragung von Gegenständen oder Währung.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>from</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die ID des Absenders (Agenten oder Spezialquelle wie &#39;WORLD&#39;, &#39;NATURE&#39;).</td>
</tr>
<tr>
<td align="left"><code>to</code></td>
<td align="left"><code>string</code></td>
<td align="left">Die ID des Empfängers (Agenten oder Spezialziel wie &#39;MARKET&#39;).</td>
</tr>
<tr>
<td align="left"><code>item</code></td>
<td align="left"><code>ItemType | &#39;currency&#39;</code></td>
<td align="left">Der Gegenstand oder &#39;currency&#39;, der übertragen wird.</td>
</tr>
<tr>
<td align="left"><code>quantity</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Menge des übertragenen Gegenstands oder der Währung.</td>
</tr>
<tr>
<td align="left"><code>step</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Spielschritt, in dem die Transaktion stattgefunden hat.</td>
</tr>
</tbody></table>
<h3><code>ActionContext</code> Interface</h3>
<p>Definiert einen Kontext, der für die Ausführung von Aktionen durch Agenten nützliche Funktionen und globale Daten bereitstellt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>language</code></td>
<td align="left"><code>Language</code></td>
<td align="left">Die Spracheinstellung für den Kontext.</td>
</tr>
<tr>
<td align="left"><code>marketPrices</code></td>
<td align="left"><code>{ [item: string]: number }</code></td>
<td align="left">Die aktuellen Marktpreise für verschiedene Gegenstände.</td>
</tr>
<tr>
<td align="left"><code>addListingToMarket</code></td>
<td align="left"><code>(marketId: string, offer: { fromAgentId: string, item: ItemType, quantity: number}) =&gt; void</code></td>
<td align="left">Eine Funktion, um ein neues Handelsangebot auf einem bestimmten Markt zu erstellen. <br/><strong>Parameter:</strong> <br/> - <code>marketId</code>: Die ID des Marktes. <br/> - <code>offer</code>: Ein Objekt mit <code>fromAgentId</code>, <code>item</code> und <code>quantity</code>.</td>
</tr>
<tr>
<td align="left"><code>executeTrade</code></td>
<td align="left"><code>(buyer: Agent, offer: TradeOffer) =&gt; void</code></td>
<td align="left">Eine Funktion, um einen Handel zwischen einem Käufer-Agenten und einem bestehenden Handelsangebot auszuführen. <br/><strong>Parameter:</strong> <br/> - <code>buyer</code>: Der Agent, der den Gegenstand kaufen möchte. <br/> - <code>offer</code>: Das <code>TradeOffer</code>-Objekt, das angenommen wird.</td>
</tr>
<tr>
<td align="left"><code>castVote</code></td>
<td align="left"><code>(candidateId: string) =&gt; void</code></td>
<td align="left">Eine Funktion, um eine Stimme für einen bestimmten Kandidaten bei einer Wahl abzugeben. <br/><strong>Parameter:</strong> <br/> - <code>candidateId</code>: Die ID des Kandidaten.</td>
</tr>
<tr>
<td align="left"><code>declareCandidacy</code></td>
<td align="left"><code>(agentId: string) =&gt; void</code></td>
<td align="left">Eine Funktion, um die Kandidatur eines Agenten für eine Wahl zu erklären. <br/><strong>Parameter:</strong> <br/> - <code>agentId</code>: Die ID des Agenten, der kandidieren möchte.</td>
</tr>
<tr>
<td align="left"><code>enactLaw</code></td>
<td align="left"><code>(law: Law) =&gt; void</code></td>
<td align="left">Eine Funktion, um ein neues Gesetz zu erlassen. <br/><strong>Parameter:</strong> <br/> - <code>law</code>: Das <code>Law</code>-Objekt, das erlassen werden soll.</td>
</tr>
<tr>
<td align="left"><code>addResearchPoints</code></td>
<td align="left"><code>(cultureId: string, points: number) =&gt; void</code></td>
<td align="left">Eine Funktion, um Forschungspunkte zu einer bestimmten Kultur hinzuzufügen. <br/><strong>Parameter:</strong> <br/> - <code>cultureId</code>: Die ID der Kultur. <br/> - <code>points</code>: Die Anzahl der hinzuzufügenden Forschungspunkte.</td>
</tr>
<tr>
<td align="left"><code>addSocialMemory</code></td>
<td align="left"><code>(agentId: string, memory: SocialMemoryEntry) =&gt; void</code></td>
<td align="left">Eine Funktion, um einen sozialen Gedächtniseintrag zu einem Agenten hinzuzufügen. <br/><strong>Parameter:</strong> <br/> - <code>agentId</code>: Die ID des Agenten, dessen Gedächtnis aktualisiert werden soll. <br/> - <code>memory</code>: Der <code>SocialMemoryEntry</code>, der hinzugefügt werden soll.</td>
</tr>
<tr>
<td align="left"><code>logTransaction</code></td>
<td align="left"><code>(transaction: Omit&lt;Transaction, &#39;step&#39;&gt;) =&gt; void</code></td>
<td align="left">Eine Funktion, um eine Transaktion zu protokollieren. Der <code>step</code>-Parameter wird automatisch hinzugefügt. <br/><strong>Parameter:</strong> <br/> - <code>transaction</code>: Das <code>Transaction</code>-Objekt (ohne den <code>step</code>-Parameter).</td>
</tr>
</tbody></table>
<h3><code>ActionEffect</code> Interface</h3>
<p>Definiert die möglichen Auswirkungen einer Aktion auf verschiedene Statistiken oder Ressourcen eines Agenten.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>statChanges?</code></td>
<td align="left"><code>{ health?: number; hunger?: number; thirst?: number; fatigue?: number; stress?: number; currency?: number; }</code></td>
<td align="left">Optional: Änderungen an den Kernstatistiken des Agenten (z.B. +Gesundheit, -Hunger).</td>
</tr>
<tr>
<td align="left"><code>costs?</code></td>
<td align="left"><code>{ [item: string]: number }</code></td>
<td align="left">Optional: Kosten in Form von Gegenständen, die bei Ausführung der Aktion verbraucht werden.</td>
</tr>
<tr>
<td align="left"><code>skillGain?</code></td>
<td align="left"><code>{ skill: keyof Skills; amount: number; }</code></td>
<td align="left">Optional: Eine Fähigkeit, die der Agent durch die Aktion erlernt oder verbessert, und der Betrag der Verbesserung.</td>
</tr>
</tbody></table>
<h3><code>Action</code> Interface</h3>
<p>Definiert eine Aktion, die ein Agent ausführen kann, einschließlich ihrer Effekte und Ausführungslogik.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der Name der Aktion.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung der Aktion.</td>
</tr>
<tr>
<td align="left"><code>beliefKey?</code></td>
<td align="left"><code>string</code></td>
<td align="left">Optional: Ein Schlüssel, der mit einer Überzeugung verknüpft ist, die die Präferenz des Agenten für diese Aktion beeinflusst.</td>
</tr>
<tr>
<td align="left"><code>isIllegal?</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Optional: Gibt an, ob die Aktion illegal ist (kann dynamisch von der Simulation basierend auf Gesetzen gesetzt werden).</td>
</tr>
<tr>
<td align="left"><code>onSuccess?</code></td>
<td align="left"><code>{ belief: string; delta: number; }</code></td>
<td align="left">Optional: Eine Überzeugung, die sich bei Erfolg der Aktion ändert, und der Betrag der Änderung.</td>
</tr>
<tr>
<td align="left"><code>onFailure?</code></td>
<td align="left"><code>{ belief: string; delta: number; }</code></td>
<td align="left">Optional: Eine Überzeugung, die sich bei Misserfolg der Aktion ändert, und der Betrag der Änderung.</td>
</tr>
<tr>
<td align="left"><code>effects?</code></td>
<td align="left"><code>ActionEffect</code></td>
<td align="left">Optional: Die Effekte, die die Aktion auf den Agenten hat.</td>
</tr>
<tr>
<td align="left"><code>execute?</code></td>
<td align="left"><code>(agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;, worldState: WorldState, context: ActionContext) =&gt; Promise&lt;ActionExecutionResult&gt;</code></td>
<td align="left">Optional: Die Funktion, die die Logik der Aktion ausführt. <br/><strong>Parameter:</strong> <br/> - <code>agent</code>: Der Agent, der die Aktion ausführt. <br/> - <code>allAgents</code>: Eine Map aller Agenten in der Welt. <br/> - <code>allEntities</code>: Eine Map aller Entitäten in der Welt. <br/> - <code>worldState</code>: Der aktuelle globale Zustand der Welt. <br/> - <code>context</code>: Der <code>ActionContext</code> mit Hilfsfunktionen. <br/><strong>Rückgabewert:</strong> Eine Promise, die ein <code>ActionExecutionResult</code> Objekt zurückgibt.</td>
</tr>
</tbody></table>
<h3><code>WorldState</code> Interface</h3>
<p>Definiert den gesamten Zustand der simulierten Welt zu einem bestimmten Zeitpunkt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>environment</code></td>
<td align="left"><code>EnvironmentState</code></td>
<td align="left">Der Zustand der Umgebung (Breite, Höhe, Zeit).</td>
</tr>
<tr>
<td align="left"><code>agents</code></td>
<td align="left"><code>Agent[]</code></td>
<td align="left">Eine Liste aller Agenten in der Welt.</td>
</tr>
<tr>
<td align="left"><code>entities</code></td>
<td align="left"><code>Entity[]</code></td>
<td align="left">Eine Liste aller Entitäten (Ressourcen, Gebäude) in der Welt.</td>
</tr>
<tr>
<td align="left"><code>actions</code></td>
<td align="left"><code>Action[]</code></td>
<td align="left">Eine Liste aller möglichen Aktionen in der Welt.</td>
</tr>
<tr>
<td align="left"><code>cultures</code></td>
<td align="left"><code>Culture[]</code></td>
<td align="left">Eine Liste aller Kulturen in der Welt.</td>
</tr>
<tr>
<td align="left"><code>religions</code></td>
<td align="left"><code>Religion[]</code></td>
<td align="left">Eine Liste aller Religionen in der Welt.</td>
</tr>
<tr>
<td align="left"><code>government</code></td>
<td align="left"><code>Government</code></td>
<td align="left">Die aktuelle Regierungsstruktur der Welt.</td>
</tr>
<tr>
<td align="left"><code>markets</code></td>
<td align="left"><code>Market[]</code></td>
<td align="left">Eine Liste aller Märkte in der Welt.</td>
</tr>
<tr>
<td align="left"><code>techTree</code></td>
<td align="left"><code>Technology[]</code></td>
<td align="left">Eine Liste aller verfügbaren Technologien im Technologiebaum.</td>
</tr>
<tr>
<td align="left"><code>marketPrices?</code></td>
<td align="left"><code>{ [item: string]: number }</code></td>
<td align="left">Optional: Aktuelle globale Marktpreise für Gegenstände.</td>
</tr>
<tr>
<td align="left"><code>transactions?</code></td>
<td align="left"><code>Transaction[]</code></td>
<td align="left">Optional: Eine Liste der jüngsten Transaktionen in der Welt.</td>
</tr>
</tbody></table>
<h3><code>ActionExecutionResult</code> Interface</h3>
<p>Definiert das Ergebnis der Ausführung einer Aktion, das zur Aktualisierung des Weltzustands verwendet wird.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>log</code></td>
<td align="left"><code>LogEntry</code></td>
<td align="left">Ein Protokolleintrag, der das Ergebnis der Aktion beschreibt.</td>
</tr>
<tr>
<td align="left"><code>status</code></td>
<td align="left"><code>&#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;</code></td>
<td align="left">Der Status der Aktionsausführung.</td>
</tr>
<tr>
<td align="left"><code>reward</code></td>
<td align="left"><code>number</code></td>
<td align="left">Eine numerische Belohnung oder Strafe für die Aktion (für Reinforcement Learning).</td>
</tr>
<tr>
<td align="left"><code>sideEffects?</code></td>
<td align="left">`{ createAgent?: Partial<Agent> &amp; { description: string, parents: [Agent, Agent] }; updateReligion?: { agentId: string, newReligionId: string</td>
<td align="left">null }; createEntity?: Partial<Entity> &amp; { ownerId?: string }; addTrauma?: { agentId: string, trauma: Trauma }; }`</td>
</tr>
</tbody></table>
<h3><code>PsychoReport</code> Interface</h3>
<p>Stellt einen strukturierten psychologischen Bericht über einen Agenten dar, möglicherweise generiert von einer KI-Analyse.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Psychodynamik</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Analyse der psychodynamischen Prozesse des Agenten.</td>
</tr>
<tr>
<td align="left"><code>Persönlichkeitsbild</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung des Persönlichkeitsbildes des Agenten.</td>
</tr>
<tr>
<td align="left"><code>Beziehungsdynamik</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Analyse der Beziehungsdynamik des Agenten.</td>
</tr>
<tr>
<td align="left"><code>&#39;Traumatische Spuren oder psychische Belastung&#39;</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung vorhandener Traumata oder psychischer Belastungen.</td>
</tr>
<tr>
<td align="left"><code>&#39;Kulturelle &amp; spirituelle Verarbeitung&#39;</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Analyse, wie der Agent kulturelle und spirituelle Themen verarbeitet.</td>
</tr>
<tr>
<td align="left"><code>&#39;Projektionen oder Verschiebungen&#39;</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Analyse von Projektionen oder emotionalen Verschiebungen.</td>
</tr>
<tr>
<td align="left"><code>&#39;Therapeutische Empfehlung&#39;</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine empfohlene therapeutische Maßnahme oder Intervention.</td>
</tr>
<tr>
<td align="left"><code>unconscious_modifiers?</code></td>
<td align="left"><code>{ [key: string]: number }</code></td>
<td align="left">Optional: Modifikatoren für den unbewussten Zustand des Agenten.</td>
</tr>
<tr>
<td align="left"><code>suggested_goal?</code></td>
<td align="left"><code>Omit&lt;Goal, &#39;status&#39; | &#39;progress&#39;&gt;</code></td>
<td align="left">Optional: Ein vorgeschlagenes Ziel für den Agenten, basierend auf dem Bericht (ohne Status und Fortschritt).</td>
</tr>
</tbody></table>
<h3><code>TimedLogEntry</code> Typ</h3>
<p>Ein <code>LogEntry</code>, erweitert um einen Zeitstempel.</p>
<ul>
<li>Kombination aus <code>LogEntry</code> und der zusätzlichen Eigenschaft <code>timestamp: number</code>.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-constants-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> constants.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Konstanten</h3>
<p>Diese Datei definiert eine Reihe von Konstanten und initialen Zuständen, die in der Simulationsumgebung verwendet werden. Sie gruppiert numerische Werte, String-Arrays, definierte Datensätze und Standardfunktionen zur Initialisierung komplexer Objekte.</p>
<h4>Importierte Typen</h4>
<p>Die Datei importiert verschiedene Typen aus <code>./types</code>, die zur Typisierung der hier definierten Konstanten und Strukturen verwendet werden:</p>
<ul>
<li><code>WorldState</code></li>
<li><code>Agent</code></li>
<li><code>Action</code></li>
<li><code>EnvironmentState</code></li>
<li><code>Emotions</code></li>
<li><code>Beliefs</code></li>
<li><code>Entity</code></li>
<li><code>Goal</code></li>
<li><code>Personality</code></li>
<li><code>Skills</code></li>
<li><code>Technology</code></li>
<li><code>Recipe</code></li>
<li><code>Law</code></li>
<li><code>Government</code></li>
<li><code>LogEntry</code></li>
<li><code>Psyche</code></li>
</ul>
<h4>Numerische Konstanten</h4>
<p>Eine Sammlung von numerischen Konstanten, die verschiedene Aspekte der Simulation steuern:</p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
<th align="left">Standardwert</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>RESONANCE_DECAY_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Zerfallsrate für die Resonanz zwischen Agenten pro Zeitschritt.</td>
<td align="left"><code>0.95</code></td>
</tr>
<tr>
<td align="left"><code>RESONANCE_THRESHOLD</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Mindestwert, den die Resonanz erreichen muss, um als relevant zu gelten.</td>
<td align="left"><code>0.1</code></td>
</tr>
<tr>
<td align="left"><code>RESONANCE_UPDATE_AMOUNT</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Betrag, um den die Resonanz bei Interaktionen aktualisiert wird.</td>
<td align="left"><code>0.2</code></td>
</tr>
<tr>
<td align="left"><code>MAX_LAST_ACTIONS</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die maximale Anzahl von letzten Aktionen, die pro Agent gespeichert werden.</td>
<td align="left"><code>5</code></td>
</tr>
<tr>
<td align="left"><code>AGE_INCREMENT</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Altersinkrement pro Simulationsschritt.</td>
<td align="left"><code>0.1</code></td>
</tr>
<tr>
<td align="left"><code>MIN_REPRODUCTION_AGE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Mindestalter, ab dem Agenten sich fortpflanzen können.</td>
<td align="left"><code>20</code></td>
</tr>
<tr>
<td align="left"><code>MAX_REPRODUCTION_AGE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Höchstalter, bis zu dem Agenten sich fortpflanzen können.</td>
<td align="left"><code>50</code></td>
</tr>
<tr>
<td align="left"><code>MAX_AGE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das maximale Lebensalter eines Agenten.</td>
<td align="left"><code>80</code></td>
</tr>
<tr>
<td align="left"><code>AGE_RELATED_HEALTH_DECLINE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der altersbedingte Gesundheitsverlust pro Simulationsschritt.</td>
<td align="left"><code>0.5</code></td>
</tr>
<tr>
<td align="left"><code>RELATIONSHIP_INCREMENT_PROXIMITY</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Inkrement für Beziehungs-Scores basierend auf der Nähe.</td>
<td align="left"><code>2.0</code></td>
</tr>
<tr>
<td align="left"><code>PROXIMITY_DISTANCE_THRESHOLD</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Distanzschwelle, ab der Näheseffekte wirksam werden.</td>
<td align="left"><code>3</code></td>
</tr>
<tr>
<td align="left"><code>EMOTION_DECAY_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Zerfallsrate für Emotionen pro Zeitschritt.</td>
<td align="left"><code>0.98</code></td>
</tr>
<tr>
<td align="left"><code>DISPOSITION_DECAY_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Zerfallsrate für Dispositionen pro Zeitschritt.</td>
<td align="left"><code>0.998</code></td>
</tr>
<tr>
<td align="left"><code>MAX_SOCIAL_MEMORIES</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die maximale Anzahl sozialer Erinnerungen pro Agent.</td>
<td align="left"><code>20</code></td>
</tr>
<tr>
<td align="left"><code>MAX_LONG_TERM_MEMORIES</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die maximale Anzahl langfristiger Erinnerungen pro Agent.</td>
<td align="left"><code>200</code></td>
</tr>
<tr>
<td align="left"><code>MAX_TRANSACTIONS</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die maximale Anzahl von Transaktionen, die im globalen Zustand gespeichert werden.</td>
<td align="left"><code>500</code></td>
</tr>
<tr>
<td align="left"><code>MUTATION_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Wahrscheinlichkeit einer genetischen Mutation bei der Fortpflanzung.</td>
<td align="left"><code>0.05</code></td>
</tr>
<tr>
<td align="left"><code>MAX_OFFSPRING</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die maximale Anzahl von Nachkommen, die ein Agent haben kann.</td>
<td align="left"><code>2</code></td>
</tr>
<tr>
<td align="left"><code>CULTURAL_ASSIMILATION_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der Agenten kulturelle Überzeugungen assimilieren.</td>
<td align="left"><code>0.01</code></td>
</tr>
<tr>
<td align="left"><code>RELIGIOUS_ASSIMILATION_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der Agenten religiöse Dogmen assimilieren.</td>
<td align="left"><code>0.02</code></td>
</tr>
<tr>
<td align="left"><code>CULTURAL_EVOLUTION_INTERVAL</code></td>
<td align="left"><code>number</code></td>
<td align="left">Das Intervall in Simulationsschritten für die kulturelle Evolution.</td>
<td align="left"><code>20</code></td>
</tr>
<tr>
<td align="left"><code>EMOTIONAL_LEARNING_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Lernrate für emotionale Anpassungen.</td>
<td align="left"><code>0.1</code></td>
</tr>
</tbody></table>
<h4>Altersstufen Konstanten</h4>
<p>Definieren die Altersgrenzen für verschiedene Lebensphasen:</p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
<th align="left">Standardwert</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>CHILDHOOD_MAX_AGE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Maximales Alter für die Kindheit.</td>
<td align="left"><code>12</code></td>
</tr>
<tr>
<td align="left"><code>ADOLESCENCE_MAX_AGE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Maximales Alter für die Adoleszenz.</td>
<td align="left"><code>19</code></td>
</tr>
<tr>
<td align="left"><code>ADULTHOOD_MAX_AGE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Maximales Alter für das Erwachsenenalter.</td>
<td align="left"><code>65</code></td>
</tr>
</tbody></table>
<h4>String-Array Konstanten</h4>
<p>Listen von vordefinierten Strings, die für verschiedene Kategorisierungen verwendet werden:</p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>ROLES</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Liste der verfügbaren Rollen für Agenten.</td>
</tr>
<tr>
<td align="left"><code>RESOURCE_TYPES</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Liste der in der Simulation vorhandenen Ressourcentypen.</td>
</tr>
<tr>
<td align="left"><code>SKILL_TYPES</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Liste der in der Simulation vorhandenen Fertigkeitstypen.</td>
</tr>
<tr>
<td align="left"><code>GENOME_OPTIONS</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Liste der verfügbaren Genom-Optionen für Agenten.</td>
</tr>
</tbody></table>
<h4>Neue Konstanten (Erweiterungen)</h4>
<p><strong>Lernen &amp; Persönlichkeit:</strong></p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
<th align="left">Standardwert</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Q_LEARNING_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Lernrate für Q-Learning.</td>
<td align="left"><code>0.1</code></td>
</tr>
<tr>
<td align="left"><code>Q_DISCOUNT_FACTOR</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Diskontierungsfaktor für zukünftige Belohnungen im Q-Learning.</td>
<td align="left"><code>0.9</code></td>
</tr>
<tr>
<td align="left"><code>EPSILON_GREEDY</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Wahrscheinlichkeit, eine zufällige Aktion im Q-Learning zu wählen (Exploration).</td>
<td align="left"><code>0.1</code></td>
</tr>
<tr>
<td align="left"><code>PERSONALITY_SHIFT_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der sich Persönlichkeitsmerkmale verschieben können.</td>
<td align="left"><code>0.001</code></td>
</tr>
<tr>
<td align="left"><code>STRESS_THRESHOLD_FOR_PERSONALITY_SHIFT</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Stressschwelle, ab der Persönlichkeitsverschiebungen auftreten können.</td>
<td align="left"><code>70</code></td>
</tr>
</tbody></table>
<p><strong>Wirtschaft:</strong></p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
<th align="left">Standardwert</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>INITIAL_CURRENCY</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Startwährung für neu generierte Agenten.</td>
<td align="left"><code>50</code></td>
</tr>
<tr>
<td align="left"><code>WORK_FOR_MONEY_AMOUNT</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Betrag an Währung, der durch Arbeit verdient wird.</td>
<td align="left"><code>10</code></td>
</tr>
<tr>
<td align="left"><code>RESOURCE_PURCHASE_COST</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Kosten für den Kauf einer Ressource auf dem Markt.</td>
<td align="left"><code>250</code></td>
</tr>
<tr>
<td align="left"><code>WORK_FOR_OWNER_PAY_WORKER</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Bezahlung, die ein Arbeiter erhält, wenn er für einen Besitzer arbeitet.</td>
<td align="left"><code>15</code></td>
</tr>
</tbody></table>
<p><strong>Zufällige Daten für Generierung:</strong></p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>RANDOM_FIRST_NAMES</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von zufälligen Vornamen für Agenten.</td>
</tr>
<tr>
<td align="left"><code>RANDOM_LAST_NAMES</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von zufälligen Nachnamen für Agenten.</td>
</tr>
<tr>
<td align="left"><code>RANDOM_DESCRIPTORS</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von zufälligen Adjektiven zur Beschreibung von Agenten.</td>
</tr>
<tr>
<td align="left"><code>RANDOM_AGENT_ROLES</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von zufälligen Rollen für Agenten.</td>
</tr>
<tr>
<td align="left"><code>RANDOM_HOBBIES</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von zufälligen Hobbys/Charakteristika für Agenten.</td>
</tr>
<tr>
<td align="left"><code>RANDOM_BELIEF_KEYS</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von zufälligen Schlüssel für Überzeugungen.</td>
</tr>
</tbody></table>
<p><strong>Überlebenskonstanten:</strong></p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
<th align="left">Standardwert</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>HUNGER_INCREASE_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der der Hunger pro Zeitschritt zunimmt.</td>
<td align="left"><code>0.5</code></td>
</tr>
<tr>
<td align="left"><code>THIRST_INCREASE_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der der Durst pro Zeitschritt zunimmt.</td>
<td align="left"><code>0.8</code></td>
</tr>
<tr>
<td align="left"><code>FATIGUE_INCREASE_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der die Müdigkeit pro Zeitschritt zunimmt.</td>
<td align="left"><code>0.4</code></td>
</tr>
<tr>
<td align="left"><code>HEALTH_LOSS_FROM_STARVATION</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Gesundheitsverlust durch Hunger.</td>
<td align="left"><code>2</code></td>
</tr>
<tr>
<td align="left"><code>HEALTH_LOSS_FROM_DEHYDRATION</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Gesundheitsverlust durch Dehydration.</td>
<td align="left"><code>3</code></td>
</tr>
<tr>
<td align="left"><code>FATIGUE_RECOVERY_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der sich die Müdigkeit erholt (z.B. durch Ruhe).</td>
<td align="left"><code>40</code></td>
</tr>
<tr>
<td align="left"><code>EAT_HUNGER_REDUCTION</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Betrag, um den der Hunger beim Essen reduziert wird.</td>
<td align="left"><code>50</code></td>
</tr>
<tr>
<td align="left"><code>DRINK_THIRST_REDUCTION</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Betrag, um den der Durst beim Trinken reduziert wird.</td>
<td align="left"><code>60</code></td>
</tr>
<tr>
<td align="left"><code>GATHER_AMOUNT</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Menge an Ressourcen, die pro Sammelaktion gewonnen wird.</td>
<td align="left"><code>5</code></td>
</tr>
<tr>
<td align="left"><code>SICKNESS_HEALTH_LOSS</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Gesundheitsverlust durch Krankheit.</td>
<td align="left"><code>5</code></td>
</tr>
</tbody></table>
<p><strong>Psychologie und Soziale Konstanten:</strong></p>
<table>
<thead>
<tr>
<th align="left">Konstante</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
<th align="left">Standardwert</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>STRESS_FROM_NEEDS</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Stresszuwachs durch unerfüllte Grundbedürfnisse.</td>
<td align="left"><code>0.2</code></td>
</tr>
<tr>
<td align="left"><code>STRESS_FROM_FIGHT</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Stresszuwachs durch Kampfereignisse.</td>
<td align="left"><code>15</code></td>
</tr>
<tr>
<td align="left"><code>STRESS_FROM_REJECTION</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Stresszuwachs durch soziale Ablehnung.</td>
<td align="left"><code>10</code></td>
</tr>
<tr>
<td align="left"><code>STRESS_RECOVERY_REST</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Stressabbau durch Ruhe.</td>
<td align="left"><code>20</code></td>
</tr>
<tr>
<td align="left"><code>STRESS_DECAY_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Zerfallsrate für Stress pro Zeitschritt.</td>
<td align="left"><code>0.99</code></td>
</tr>
<tr>
<td align="left"><code>DEFAULT_SKILL_GAIN</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Standardwert für Fertigkeitszuwachs.</td>
<td align="left"><code>0.5</code></td>
</tr>
<tr>
<td align="left"><code>STATUS_FROM_FIGHT_WIN</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Statuserwerb durch das Gewinnen eines Kampfes.</td>
<td align="left"><code>5</code></td>
</tr>
<tr>
<td align="left"><code>STATUS_FROM_SUCCESSFUL_TRADE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Statuserwerb durch einen erfolgreichen Handel.</td>
<td align="left"><code>2</code></td>
</tr>
<tr>
<td align="left"><code>STATUS_FROM_GOAL_COMPLETION</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Statuserwerb durch das Erreichen eines Ziels.</td>
<td align="left"><code>10</code></td>
</tr>
<tr>
<td align="left"><code>PERSONALITY_TRAITS</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste der Persönlichkeitsmerkmale (Big Five).</td>
<td align="left">N/A</td>
</tr>
<tr>
<td align="left"><code>BOREDOM_INCREASE_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Rate, mit der Langeweile zunimmt.</td>
<td align="left"><code>0.05</code></td>
</tr>
<tr>
<td align="left"><code>PSYCHE_DECAY_RATE</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Zerfallsrate für psychische Zustände.</td>
<td align="left"><code>0.995</code></td>
</tr>
</tbody></table>
<h4>Standard-Funktionen zur Initialisierung</h4>
<p>Diese Funktionen geben Standardwerte für verschiedene komplexe Typen zurück, die bei der Initialisierung von Agenten oder anderen Entitäten verwendet werden können.</p>
<h5><code>defaultEmotions()</code></h5>
<p>Gibt ein <code>Emotions</code>-Objekt mit Standardwerten zurück.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>Emotions</code> - Ein Objekt, das die Startwerte für grundlegende Emotionen eines Agenten definiert.<pre><code class="language-typescript">{ happiness: 0.5, sadness: 0.1, anger: 0.1, fear: 0.1, trust: 0.3, love: 0.1 }
</code></pre>
</li>
</ul>
<h5><code>defaultPersonality()</code></h5>
<p>Gibt ein <code>Personality</code>-Objekt mit Standardwerten zurück.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>Personality</code> - Ein Objekt, das die Startwerte für die &quot;Big Five&quot; Persönlichkeitsmerkmale eines Agenten definiert.<pre><code class="language-typescript">{ openness: 0.5, conscientiousness: 0.5, extraversion: 0.5, agreeableness: 0.5, neuroticism: 0.5 }
</code></pre>
</li>
</ul>
<h5><code>defaultSkills()</code></h5>
<p>Gibt ein <code>Skills</code>-Objekt mit Standardwerten zurück.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>Skills</code> - Ein Objekt, das die Startwerte für verschiedene Fertigkeiten eines Agenten definiert. Alle Fertigkeiten beginnen auf Level 1.<pre><code class="language-typescript">{ healing: 1, woodcutting: 1, rhetoric: 1, combat: 1, construction: 1, farming: 1, mining: 1, crafting: 1, trading: 1 }
</code></pre>
</li>
</ul>
<h5><code>defaultPsyche()</code></h5>
<p>Gibt ein <code>Psyche</code>-Objekt mit Standardwerten zurück.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>Psyche</code> - Ein Objekt, das die Startwerte für verschiedene psychische Aspekte eines Agenten definiert.<pre><code class="language-typescript">{ empathy: 0.5, vengefulness: 0.1, forgiveness: 0.5, searchForMeaning: 0.2, decisionPressure: 0.1, fearOfDeath: 0.2, boredom: 0.0, inspiration: 0.1, fanaticism: 0.1, spiritualNeed: 0.3, jealousy: 0.1 }
</code></pre>
</li>
</ul>
<h5><code>defaultQTable()</code></h5>
<p>Gibt ein leeres Q-Tabelle-Objekt zurück.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>{ [key: string]: number }</code> - Ein leeres Objekt, das als Startwert für die Q-Tabelle eines Agenten dient.</li>
</ul>
<h4><code>RECIPES</code></h4>
<p>Ein Array von <code>Recipe</code>-Objekten, die Handwerksrezepte definieren.</p>
<ul>
<li><strong>Typ:</strong> <code>Recipe[]</code></li>
<li><strong>Struktur eines <code>Recipe</code>:</strong><ul>
<li><code>name: string</code>: Der Name des Rezepts.</li>
<li><code>output: { item: string; quantity: number }</code>: Das Ergebnis des Handwerks (Name des Gegenstands und Menge).</li>
<li><code>ingredients: { [resourceType: string]: number }</code>: Die benötigten Ressourcen und deren Mengen.</li>
<li><code>requiredSkill: { skill: string; level: number }</code>: Die benötigte Fertigkeit und das erforderliche Level.</li>
<li><code>requiredTech: string</code>: Die benötigte Technologie zum Freischalten des Rezepts.</li>
</ul>
</li>
</ul>
<p><strong>Beispiele:</strong></p>
<ul>
<li><strong>Craft Iron Ingot:</strong> Benötigt 2 &#39;iron&#39;, erzeugt 1 &#39;iron_ingot&#39;, benötigt &#39;crafting&#39; Level 5 und &#39;metallurgy&#39;.</li>
<li><strong>Craft Sword:</strong> Benötigt 1 &#39;wood&#39; und 2 &#39;iron_ingot&#39;, erzeugt 1 &#39;sword&#39;, benötigt &#39;crafting&#39; Level 10 und &#39;metallurgy&#39;.</li>
</ul>
<h4><code>INITIAL_LAWS</code></h4>
<p>Ein Array von <code>Law</code>-Objekten, die die anfänglichen Gesetze der Welt definieren.</p>
<ul>
<li><strong>Typ:</strong> <code>Law[]</code></li>
<li><strong>Struktur eines <code>Law</code>:</strong><ul>
<li><code>id: string</code>: Ein eindeutiger Bezeichner für das Gesetz.</li>
<li><code>name: string</code>: Der Name des Gesetzes.</li>
<li><code>description: string</code>: Eine Beschreibung des Gesetzes.</li>
<li><code>violatingAction: string</code>: Die Aktion, die gegen dieses Gesetz verstößt.</li>
<li><code>punishment: { type: string; amount: number }</code>: Die Art und Höhe der Strafe (z.B. &#39;arrest&#39; oder &#39;fine&#39;).</li>
</ul>
</li>
</ul>
<p><strong>Beispiele:</strong></p>
<ul>
<li><strong>Anti-Theft Law:</strong> Bestraft &#39;Steal&#39; mit &#39;arrest&#39; (20 Einheiten).</li>
<li><strong>Peace Mandate:</strong> Bestraft &#39;Fight&#39; mit einer &#39;fine&#39; von 25 Einheiten.</li>
</ul>
<h4><code>INITIAL_GOVERNMENT</code></h4>
<p>Ein <code>Government</code>-Objekt, das die anfängliche Regierungsform der Welt definiert.</p>
<ul>
<li><strong>Typ:</strong> <code>Government</code></li>
<li><strong>Struktur eines <code>Government</code>:</strong><ul>
<li><code>type: string</code>: Die Art der Regierungsform (z.B. &#39;democracy&#39;).</li>
<li><code>leaderId: string | null</code>: Die ID des Anführers der Regierung, falls vorhanden.</li>
<li><code>laws: Law[]</code>: Eine Liste der aktuell gültigen Gesetze.</li>
</ul>
</li>
</ul>
<h4><code>TECH_TREE</code></h4>
<p>Ein Array von <code>Technology</code>-Objekten, das den Technologiebaum der Welt definiert.</p>
<ul>
<li><strong>Typ:</strong> <code>Technology[]</code></li>
<li><strong>Struktur eines <code>Technology</code>:</strong><ul>
<li><code>id: string</code>: Ein eindeutiger Bezeichner für die Technologie.</li>
<li><code>name: string</code>: Der Name der Technologie.</li>
<li><code>description: string</code>: Eine Beschreibung der Technologie.</li>
<li><code>researchCost: number</code>: Die Forschungspunkte, die zum Freischalten benötigt werden.</li>
<li><code>requiredTech?: string[]</code>: Ein optionales Array von IDs anderer Technologien, die Voraussetzung sind.</li>
<li><code>unlocks?: { recipes?: string[]; actions?: string[] }</code>: Ein optionales Objekt, das angibt, welche Rezepte oder Aktionen durch diese Technologie freigeschaltet werden.</li>
</ul>
</li>
</ul>
<p><strong>Beispiele:</strong></p>
<ul>
<li><strong>Agriculture:</strong> Basis-Technologie, schaltet &#39;Craft Plow&#39; frei.</li>
<li><strong>Metallurgy:</strong> Benötigt &#39;agriculture&#39;, schaltet &#39;Mine Iron&#39;, &#39;Craft Sword&#39; und &#39;Craft Iron Ingot&#39; frei.</li>
</ul>
<h4><code>initialWorldState</code></h4>
<p>Das globale Startobjekt vom Typ <code>WorldState</code>, das den initialen Zustand der gesamten Simulationswelt festlegt.</p>
<ul>
<li><strong>Typ:</strong> <code>WorldState</code></li>
<li><strong>Properties:</strong><ul>
<li><code>environment: EnvironmentState</code>:<ul>
<li><code>time: number</code>: Aktuelle Simulationszeit.</li>
<li><code>weather: string</code>: Aktuelles Wetter.</li>
<li><code>width: number</code>: Breite der Weltkarte.</li>
<li><code>height: number</code>: Höhe der Weltkarte.</li>
<li><code>election: object | null</code>: Informationen zur aktuellen Wahl (null, wenn keine Wahl läuft).</li>
</ul>
</li>
<li><code>agents: Agent[]</code>: Ein Array von <code>Agent</code>-Objekten, die die initialen Charaktere in der Welt definieren.<ul>
<li><strong>Struktur eines <code>Agent</code> (Auswahl wichtiger Properties, da sehr umfangreich):</strong><ul>
<li><code>id: string</code>: Eindeutige ID.</li>
<li><code>name: string</code>: Name des Agenten.</li>
<li><code>description: string</code>: Beschreibung des Agenten.</li>
<li><code>x: number, y: number</code>: Position in der Welt.</li>
<li><code>beliefNetwork: { [key: string]: number }</code>: Netzwerk von Überzeugungen mit Stärken.</li>
<li><code>emotions: Emotions</code>: Aktueller emotionaler Zustand.</li>
<li><code>resonance: { [agentId: string]: number }</code>: Resonanzwerte zu anderen Agenten.</li>
<li><code>socialMemory: any[]</code>: Kurzfristige soziale Interaktionen.</li>
<li><code>longTermMemory: any[]</code>: Langfristige Erinnerungen.</li>
<li><code>lastActions: Action[]</code>: Liste der letzten Aktionen.</li>
<li><code>adminAgent: boolean</code>: Zeigt an, ob der Agent Admin-Rechte hat.</li>
<li><code>health: number</code>: Gesundheit des Agenten.</li>
<li><code>isAlive: boolean</code>: Lebendstatus.</li>
<li><code>sickness: string | null</code>: Aktuelle Krankheit.</li>
<li><code>conversationHistory: any[]</code>: Verlauf der Konversationen.</li>
<li><code>age: number</code>: Alter des Agenten.</li>
<li><code>genome: string[]</code>: Genetische Merkmale.</li>
<li><code>relationships: { [agentId: string]: { type: string; score: number; disposition: { [emotion: string]: number } } }</code>: Beziehungen zu anderen Agenten.</li>
<li><code>cultureId: string | null</code>: Zugehörige Kultur-ID.</li>
<li><code>religionId: string | null</code>: Zugehörige Religion-ID.</li>
<li><code>role: string | null</code>: Aktuelle Rolle des Agenten.</li>
<li><code>offspringCount: number</code>: Anzahl der Nachkommen.</li>
<li><code>childrenIds: string[]</code>: IDs der Kinder.</li>
<li><code>hunger: number, thirst: number, fatigue: number</code>: Grundbedürfnisse.</li>
<li><code>inventory: { [resourceType: string]: number }</code>: Inventar der Ressourcen.</li>
<li><code>personality: Personality</code>: Persönlichkeitsmerkmale.</li>
<li><code>goals: Goal[]</code>: Aktuelle Ziele.</li>
<li><code>stress: number</code>: Aktueller Stresslevel.</li>
<li><code>socialStatus: number</code>: Sozialer Status.</li>
<li><code>skills: Skills</code>: Fertigkeitslevel.</li>
<li><code>trauma: any[]</code>: Erlittene Traumata.</li>
<li><code>currency: number</code>: Besitz an Währung.</li>
<li><code>psyche: Psyche</code>: Psychischer Zustand.</li>
<li><code>qTable: { [key: string]: number }</code>: Q-Tabelle für Reinforcement Learning.</li>
<li><code>lastStressLevel: number</code>: Letzter gemessener Stresslevel.</li>
</ul>
</li>
</ul>
</li>
<li><code>entities: Entity[]</code>: Ein Array von <code>Entity</code>-Objekten, die statische und interaktive Objekte in der Welt repräsentieren.<ul>
<li><strong>Struktur eines <code>Entity</code> (Auswahl wichtiger Properties):</strong><ul>
<li><code>id: string</code>: Eindeutige ID.</li>
<li><code>name: string</code>: Name der Entität.</li>
<li><code>description: string</code>: Beschreibung.</li>
<li><code>x: number, y: number</code>: Position.</li>
<li><code>ownerId?: string</code>: Optionaler Besitzer-ID.</li>
<li><code>isResource?: boolean</code>: Ob es eine Ressource ist.</li>
<li><code>resourceType?: string</code>: Art der Ressource.</li>
<li><code>quantity?: number</code>: Menge der Ressource.</li>
<li><code>isMarketplace?: boolean</code>: Ob es ein Marktplatz ist.</li>
<li><code>isJail?: boolean</code>: Ob es ein Gefängnis ist.</li>
<li><code>inmates?: string[]</code>: IDs der Insassen (für Gefängnis).</li>
</ul>
</li>
</ul>
</li>
<li><code>cultures: Culture[]</code>: Ein Array von <code>Culture</code>-Objekten, die die initialen Kulturen definieren.<ul>
<li><strong>Struktur einer <code>Culture</code>:</strong><ul>
<li><code>id: string</code>: Eindeutige ID.</li>
<li><code>name: string</code>: Name der Kultur.</li>
<li><code>sharedBeliefs: { [belief: string]: number }</code>: Gemeinsame Überzeugungen.</li>
<li><code>memberIds: string[]</code>: IDs der Mitglieder.</li>
<li><code>researchPoints: number</code>: Aktuelle Forschungspunkte.</li>
<li><code>knownTechnologies: string[]</code>: IDs der bekannten Technologien.</li>
</ul>
</li>
</ul>
</li>
<li><code>religions: Religion[]</code>: Ein Array von <code>Religion</code>-Objekten, die die initialen Religionen definieren.<ul>
<li><strong>Struktur einer <code>Religion</code>:</strong><ul>
<li><code>id: string</code>: Eindeutige ID.</li>
<li><code>name: string</code>: Name der Religion.</li>
<li><code>dogma: { [belief: string]: number }</code>: Religiöse Dogmen.</li>
<li><code>memberIds: string[]</code>: IDs der Mitglieder.</li>
</ul>
</li>
</ul>
</li>
<li><code>government: Government</code>: Das initiale Regierungsobjekt.</li>
<li><code>markets: { id: string; name: string; listings: any[] }[]</code>: Ein Array von <code>Market</code>-Objekten, die Handelsplätze repräsentieren.</li>
<li><code>techTree: Technology[]</code>: Der gesamte Technologiebaum der Welt.</li>
<li><code>actions: Action[]</code>: Ein Array von <code>Action</code>-Objekten (initial leer).</li>
<li><code>transactions: any[]</code>: Ein Array von Transaktions-Logs (initial leer).</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-services-simulation-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/simulation.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>PromptParser</code> Klasse</h3>
<p>Eine interne Hilfsklasse zum Parsen von Benutzereingaben in verfügbare Aktionen.</p>
<h4>Methoden</h4>
<h5><code>parse(prompt: string, availableActions: Action[]): Action | null</code></h5>
<p>Analysiert einen Benutzereingabe-String und versucht, ihn einer der verfügbaren Aktionen zuzuordnen. Die Übereinstimmung erfolgt zuerst exakt und dann über Teilstrings.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>prompt</code> (<code>string</code>): Der Eingabestring des Benutzers.</li>
<li><code>availableActions</code> (<code>Action[]</code>): Ein Array von <code>Action</code>-Objekten, die als mögliche Aktionen zur Verfügung stehen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Action | null</code> – Das übereinstimmende <code>Action</code>-Objekt oder <code>null</code>, wenn keine passende Aktion gefunden wurde.</li>
</ul>
<h3><code>Conversation</code> Schnittstelle</h3>
<p>Definiert die Struktur eines Konversationsobjekts, das den Verlauf einer Unterhaltung speichert.</p>
<h4>Eigenschaften</h4>
<ul>
<li><code>participants</code> (<code>string[]</code>): Eine Liste der IDs der Agenten, die an der Konversation teilnehmen.</li>
<li><code>history</code> (<code>{ speakerName: string; message: string; }[]</code>): Ein Array von Objekten, die den Nachrichtenverlauf der Konversation darstellen. Jedes Objekt enthält den Namen des Sprechers und die gesendete Nachricht.</li>
<li><code>turn</code> (<code>string</code>): Die ID des Agenten, der als Nächstes an der Reihe ist.</li>
<li><code>lastInteractionTime</code> (<code>number</code>): Der Zeitstempel der letzten Interaktion in dieser Konversation.</li>
</ul>
<h3><code>RealityEngine</code> Klasse</h3>
<p>Die zentrale Simulations-Engine, die den Zustand der Welt, der Agenten und Entitäten verwaltet und die Fortschritte der Simulation über die Zeit steuert. Sie implementiert Kernmechanismen wie Bedürfnisbefriedigung, Beziehungsmanagement, Ökonomie, Regierung und Technologieentwicklung.</p>
<h4>Konstruktor</h4>
<p><code>constructor(initialState: WorldState, settings: Settings)</code></p>
<p>Initialisiert die <code>RealityEngine</code> mit einem gegebenen Anfangszustand der Welt und den Simulationseinstellungen.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>initialState</code> (<code>WorldState</code>): Ein Objekt, das den initialen Zustand der gesamten Simulationswelt beschreibt.</li>
<li><code>settings</code> (<code>Settings</code>): Ein Objekt, das die Einstellungen für die Simulation enthält.</li>
</ul>
</li>
</ul>
<h4>Eigenschaften</h4>
<ul>
<li><code>worldState</code> (<code>WorldState</code>): Der aktuelle Zustand der gesamten Simulationswelt.</li>
<li><code>agents</code> (<code>Map&lt;string, Agent&gt;</code>): Eine Map, die alle aktiven Agenten in der Simulation speichert, indiziert nach ihrer ID.</li>
<li><code>entities</code> (<code>Map&lt;string, Entity&gt;</code>): Eine Map, die alle Entitäten (Objekte, Ressourcen usw.) in der Simulation speichert, indiziert nach ihrer ID.</li>
<li><code>actions</code> (<code>Map&lt;string, Action&gt;</code>): Eine Map, die alle verfügbaren Aktionen in der Simulation speichert, indiziert nach ihrem Namen.</li>
<li><code>cultures</code> (<code>Map&lt;string, Culture&gt;</code>): Eine Map, die alle Kulturen in der Simulation speichert, indiziert nach ihrer ID.</li>
<li><code>religions</code> (<code>Map&lt;string, Religion&gt;</code>): Eine Map, die alle Religionen in der Simulation speichert, indiziert nach ihrer ID.</li>
<li><code>promptParser</code> (<code>PromptParser</code>): Eine Instanz des <code>PromptParser</code>, die für die Interpretation von Benutzereingaben verwendet wird.</li>
<li><code>conversations</code> (<code>Map&lt;string, Conversation&gt;</code>): Eine Map zur Verwaltung aktiver Konversationen.</li>
<li><code>memoryDBs</code> (<code>Map&lt;string, VectorDB&gt;</code>): Eine Map von Vektordatenbanken, eine für jeden Agenten, zur Speicherung von Langzeitgedächtnissen.</li>
<li><code>settings</code> (<code>Settings</code>): Die aktuellen Einstellungen der Simulation.</li>
<li><code>language</code> (<code>Language</code>): Die aktuell eingestellte Sprache der Simulation (Standard: <code>de</code>).</li>
<li><code>marketPrices</code> (<code>{ [key: string]: number }</code>): Ein Objekt, das die aktuellen Marktpreise für verschiedene Gegenstände speichert.</li>
</ul>
<h4>Öffentliche Methoden</h4>
<h5><code>logTransaction(transaction: Omit&lt;Transaction, &#39;step&#39;&gt;): void</code></h5>
<p>Fügt eine Transaktion zum Transaktionsprotokoll der Welt hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>transaction</code> (<code>Omit&lt;Transaction, &#39;step&#39;&gt;</code>): Das Transaktionsobjekt, aus dem die Eigenschaft <code>step</code> entfernt wurde. Der <code>step</code>-Wert wird intern mit der aktuellen Simulationszeit gesetzt.</li>
</ul>
</li>
</ul>
<h5><code>addListingToMarket(marketId: string, offer: {fromAgentId: string, item: ItemType, quantity: number}): void</code></h5>
<p>Fügt ein Handelsangebot zu einem spezifischen Markt hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>marketId</code> (<code>string</code>): Die ID des Marktes, zu dem das Angebot hinzugefügt werden soll.</li>
<li><code>offer</code> (<code>{fromAgentId: string, item: ItemType, quantity: number}</code>): Das Handelsangebot, das den anbietenden Agenten (<code>fromAgentId</code>), den angebotenen Gegenstand (<code>item</code>) und die Menge (<code>quantity</code>) enthält.</li>
</ul>
</li>
</ul>
<h5><code>executeTrade(buyer: Agent, offer: TradeOffer): void</code></h5>
<p>Führt einen Handel zwischen einem Käufer und einem Verkäufer basierend auf einem gegebenen Handelsangebot aus. Aktualisiert Inventare, Währungen und Handelsfähigkeiten der beteiligten Agenten.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>buyer</code> (<code>Agent</code>): Der Agent, der den Handel tätigt und Gegenstände kauft.</li>
<li><code>offer</code> (<code>TradeOffer</code>): Das Handelsangebot, das die Details des Verkaufs enthält (Verkäufer-ID, Gegenstand, Menge, Angebots-ID, Preis).</li>
</ul>
</li>
</ul>
<h5><code>startElection(): void</code></h5>
<p>Startet einen Wahlprozess in der Simulation. Setzt den Wahlstatus auf aktiv und legt das Enddatum der Wahl fest. Falls noch kein Anführer existiert, wird der Agent mit dem höchsten Sozialstatus als Anführer bestimmt.</p>
<h5><code>castVote(candidateId: string): void</code></h5>
<p>Ein Agent gibt seine Stimme für einen Kandidaten ab.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>candidateId</code> (<code>string</code>): Die ID des Agenten, für den die Stimme abgegeben wird.</li>
</ul>
</li>
</ul>
<h5><code>declareCandidacy(agentId: string): void</code></h5>
<p>Ein Agent erklärt seine Kandidatur für eine Wahl.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten, der seine Kandidatur erklärt.</li>
</ul>
</li>
</ul>
<h5><code>enactLaw(law: Law): void</code></h5>
<p>Fügt ein neues Gesetz zur Regierungsstruktur der Welt hinzu und aktualisiert die Legalität aller Aktionen.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>law</code> (<code>Law</code>): Das Gesetz, das erlassen werden soll.</li>
</ul>
</li>
</ul>
<h5><code>updateActionLegality(): void</code></h5>
<p>Aktualisiert den <code>isIllegal</code>-Status aller Aktionen basierend auf den aktuellen Gesetzen der Regierung.</p>
<h5><code>addResearchPoints(cultureId: string, points: number): void</code></h5>
<p>Fügt Forschungspunkte zu einer bestimmten Kultur hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>cultureId</code> (<code>string</code>): Die ID der Kultur.</li>
<li><code>points</code> (<code>number</code>): Die Anzahl der hinzuzufügenden Forschungspunkte.</li>
</ul>
</li>
</ul>
<h5><code>inheritGenome(parent1: Agent, parent2: Agent): string[]</code></h5>
<p>Generiert ein neues Genom für ein Neugeborenes, basierend auf den Genomen von zwei Elternteilen, inklusive einer Mutationschance.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>parent1</code> (<code>Agent</code>): Der erste Eltern-Agent.</li>
<li><code>parent2</code> (<code>Agent</code>): Der zweite Eltern-Agent.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>string[]</code> – Ein Array von Gen-Strings, die das neue Genom darstellen.</li>
</ul>
<h5><code>addSocialMemory(agentId: string, memory: SocialMemoryEntry): void</code></h5>
<p>Fügt einem Agenten einen neuen sozialen Gedächtniseintrag hinzu. Das Gedächtnis wird vorne im Array hinzugefügt und das Array bei Überschreitung der maximalen Länge gekürzt.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
<li><code>memory</code> (<code>SocialMemoryEntry</code>): Der hinzuzufügende Gedächtniseintrag.</li>
</ul>
</li>
</ul>
<h5><code>addNewSanitizedAgent(agent: Agent): void</code></h5>
<p>Fügt einen neuen Agenten zur Simulation hinzu und initialisiert seine Vektordatenbank für das Langzeitgedächtnis. Wird verwendet, um Agenten aus einem gespeicherten Zustand hinzuzufügen.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Das <code>Agent</code>-Objekt, das hinzugefügt werden soll.</li>
</ul>
</li>
</ul>
<h5><code>addNewSanitizedEntity(entity: Entity): void</code></h5>
<p>Fügt eine neue Entität zur Simulation hinzu. Wird verwendet, um Entitäten aus einem gespeicherten Zustand hinzuzufügen.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>entity</code> (<code>Entity</code>): Das <code>Entity</code>-Objekt, das hinzugefügt werden soll.</li>
</ul>
</li>
</ul>
<h5><code>addAgent(name: string, description: string, beliefs: Beliefs, genome: string[] = [], role: string | null = &#39;Worker&#39;, personality?: Personality): void</code></h5>
<p>Erstellt und fügt einen neuen Agenten zur Simulation hinzu, initialisiert mit Standardwerten und einer Vektordatenbank.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>name</code> (<code>string</code>): Der Name des neuen Agenten.</li>
<li><code>description</code> (<code>string</code>): Eine Beschreibung des neuen Agenten.</li>
<li><code>beliefs</code> (<code>Beliefs</code>): Das initiale Glaubensnetzwerk des Agenten.</li>
<li><code>genome</code> (<code>string[]</code>, optional, Standard: <code>[]</code>): Das Genom des Agenten.</li>
<li><code>role</code> (<code>string | null</code>, optional, Standard: <code>&#39;Worker&#39;</code>): Die anfängliche Rolle des Agenten.</li>
<li><code>personality</code> (<code>Personality</code>, optional): Die anfängliche Persönlichkeit des Agenten. Falls nicht angegeben, wird eine zufällige Persönlichkeit generiert.</li>
</ul>
</li>
</ul>
<h5><code>addEntity(name: string, description: string): void</code></h5>
<p>Erstellt und fügt eine neue Entität zur Simulation hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>name</code> (<code>string</code>): Der Name der neuen Entität.</li>
<li><code>description</code> (<code>string</code>): Eine Beschreibung der neuen Entität.</li>
</ul>
</li>
</ul>
<h5><code>addAction(name: string, description: string, beliefKey?: string, effects?: ActionEffect): void</code></h5>
<p>Fügt eine neue benutzerdefinierte Aktion zur Simulation hinzu und weist ihr eine Standard-Ausführungslogik basierend auf den <code>effects</code> zu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>name</code> (<code>string</code>): Der Name der Aktion.</li>
<li><code>description</code> (<code>string</code>): Eine Beschreibung der Aktion.</li>
<li><code>beliefKey</code> (<code>string</code>, optional): Ein Schlüssel, der angibt, welche Überzeugung die Aktion beeinflusst.</li>
<li><code>effects</code> (<code>ActionEffect</code>, optional): Ein Objekt, das die Auswirkungen der Aktion auf Agentenstatistiken, Inventar und Fähigkeiten definiert. Es kann folgende Eigenschaften enthalten:<ul>
<li><code>costs</code> (<code>Record&lt;string, number&gt;</code>): Gegenstände und deren Mengen, die die Aktion verbraucht.</li>
<li><code>statChanges</code> (<code>Partial&lt;{ health: number; hunger: number; thirst: number; fatigue: number; stress: number; currency: number; }&gt;</code>): Änderungen an den Kernstatistiken des Agenten.</li>
<li><code>skillGain</code> (<code>{ skill: keyof Skills; amount: number; }</code>): Die Fertigkeit und der Betrag, um den sie erhöht wird.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5><code>removeAgent(agentId: string): void</code></h5>
<p>Entfernt einen Agenten und seine zugehörige Gedächtnisdatenbank aus der Simulation.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des zu entfernenden Agenten.</li>
</ul>
</li>
</ul>
<h5><code>removeEntity(entityId: string): void</code></h5>
<p>Entfernt eine Entität aus der Simulation.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>entityId</code> (<code>string</code>): Die ID der zu entfernenden Entität.</li>
</ul>
</li>
</ul>
<h5><code>removeAction(actionName: string): void</code></h5>
<p>Entfernt eine Aktion aus der Simulation.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>actionName</code> (<code>string</code>): Der Name der zu entfernenden Aktion.</li>
</ul>
</li>
</ul>
<h5><code>getAgentById(agentId: string): Agent | undefined</code></h5>
<p>Ruft einen Agenten anhand seiner ID ab.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Agent | undefined</code> – Das <code>Agent</code>-Objekt oder <code>undefined</code>, wenn nicht gefunden.</li>
</ul>
<h5><code>getEntityById(entityId: string): Entity | undefined</code></h5>
<p>Ruft eine Entität anhand ihrer ID ab.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>entityId</code> (<code>string</code>): Die ID der Entität.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Entity | undefined</code> – Das <code>Entity</code>-Objekt oder <code>undefined</code>, wenn nicht gefunden.</li>
</ul>
<h5><code>getAvailableActions(): Action[]</code></h5>
<p>Gibt ein Array aller aktuell verfügbaren Aktionen zurück.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>Action[]</code> – Ein Array von <code>Action</code>-Objekten.</li>
</ul>
<h5><code>setEnvironment(newState: EnvironmentState): void</code></h5>
<p>Aktualisiert den Umgebungszustand der Welt.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>newState</code> (<code>EnvironmentState</code>): Der neue Umgebungszustand.</li>
</ul>
</li>
</ul>
<h5><code>setAgentHealth(agentId: string, health: number): void</code></h5>
<p>Setzt die Gesundheit eines Agenten auf einen bestimmten Wert, geklemmt zwischen 0 und 100.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
<li><code>health</code> (<code>number</code>): Der neue Gesundheitswert.</li>
</ul>
</li>
</ul>
<h5><code>setAgentSickness(agentId: string, sickness: string | null): void</code></h5>
<p>Setzt den Krankheitsstatus eines Agenten.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
<li><code>sickness</code> (<code>string | null</code>): Der Name der Krankheit oder <code>null</code>, wenn der Agent gesund ist.</li>
</ul>
</li>
</ul>
<h5><code>resurrectAgent(agentId: string): void</code></h5>
<p>Belebt einen Agenten wieder, setzt seine Gesundheit auf 50 und seinen <code>isAlive</code>-Status auf <code>true</code>.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
</ul>
</li>
</ul>
<h5><code>setAgentPosition(agentId: string, x: number, y: number): void</code></h5>
<p>Setzt die X- und Y-Koordinaten eines Agenten.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
<li><code>x</code> (<code>number</code>): Die neue X-Koordinate.</li>
<li><code>y</code> (<code>number</code>): Die neue Y-Koordinate.</li>
</ul>
</li>
</ul>
<h5><code>setAgentCurrency(agentId: string, currency: number): void</code></h5>
<p>Setzt das Währungsguthaben eines Agenten.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
<li><code>currency</code> (<code>number</code>): Der neue Währungsbetrag.</li>
</ul>
</li>
</ul>
<h5><code>repealLaw(lawId: string): void</code></h5>
<p>Hebt ein Gesetz auf und aktualisiert die Legalität der Aktionen.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>lawId</code> (<code>string</code>): Die ID des aufzuhebenden Gesetzes.</li>
</ul>
</li>
</ul>
<h5><code>setLeader(agentId: string): { techUnlocked: boolean, cultureName?: string }</code></h5>
<p>Setzt einen bestimmten Agenten als Anführer der Regierung. Gewährt der Kultur des Anführers die &#39;governance&#39;-Technologie, falls noch nicht vorhanden.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten, der zum Anführer ernannt werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>{ techUnlocked: boolean, cultureName?: string }</code> – Ein Objekt, das angibt, ob eine Technologie freigeschaltet wurde und gegebenenfalls den Namen der Kultur.</li>
</ul>
<h5><code>imprisonAgent(agentId: string, duration: number): boolean</code></h5>
<p>Inhaftiert einen Agenten für eine bestimmte Dauer und versetzt ihn an den Ort des Gefängnisses.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des zu inhaftierenden Agenten.</li>
<li><code>duration</code> (<code>number</code>): Die Dauer der Inhaftierung in Simulationsschritten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>boolean</code> – <code>true</code>, wenn der Agent erfolgreich inhaftiert wurde, <code>false</code> sonst.</li>
</ul>
<h5><code>unlockTech(cultureId: string, techId: string): void</code></h5>
<p>Schaltet eine spezifische Technologie für eine Kultur frei.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>cultureId</code> (<code>string</code>): Die ID der Kultur.</li>
<li><code>techId</code> (<code>string</code>): Die ID der freizuschaltenden Technologie.</li>
</ul>
</li>
</ul>
<h5><code>applyPsychoanalysis(agentId: string, report: PsychoReport): { logs: LogEntry[] }</code></h5>
<p>Wendet die Ergebnisse einer Psychoanalyse auf einen Agenten an, wodurch unbewusste Modifikatoren und vorgeschlagene Ziele beeinflusst werden können.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten.</li>
<li><code>report</code> (<code>PsychoReport</code>): Der Psychoanalyse-Bericht, der die folgenden optionalen Eigenschaften enthalten kann:<ul>
<li><code>unconscious_modifiers</code> (<code>Partial&lt;Psyche&gt;</code>): Änderungen an unbewussten Psyche-Eigenschaften des Agenten.</li>
<li><code>suggested_goal</code> (<code>{ type: Goal[&#39;type&#39;]; description: string; }</code>): Ein vorgeschlagenes neues Ziel für den Agenten.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>{ logs: LogEntry[] }</code> – Ein Objekt, das Protokolleinträge über die angewandten Änderungen enthält.</li>
</ul>
<h5><code>getState(): WorldState</code></h5>
<p>Gibt den aktuellen Zustand der gesamten Simulationswelt zurück, inklusive serialisierbarer Aktionen und Kulturen.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>WorldState</code> – Der aktuelle Zustand der Welt.</li>
</ul>
<h5><code>step(language: Language): Promise&lt;{ logs: LogEntry[] }&gt;</code></h5>
<p>Führt einen einzelnen Simulationsschritt aus. Dies umfasst die Aktualisierung von Agentenbedürfnissen, Beziehungen, Alter, Krankheiten, die KI-Entscheidungsfindung der Agenten, die Ausführung von Aktionen, und globale Ereignisse wie Wahlen und Technologieentwicklung.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>language</code> (<code>Language</code>): Die Sprache, in der die Protokolleinträge generiert werden sollen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;{ logs: LogEntry[] }&gt;</code> – Ein Promise, das ein Objekt mit allen generierten Protokolleinträgen für diesen Schritt zurückgibt.</li>
</ul>
<h5><code>processAgentPrompt(agentId: string, prompt: string): Promise&lt;{ logs: LogEntry[] }&gt;</code></h5>
<p>Verarbeitet eine direkte Benutzereingabe (Prompt) für einen spezifischen Agenten und versucht, diese in eine ausführbare Aktion umzuwandeln.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten, der den Prompt ausführt.</li>
<li><code>prompt</code> (<code>string</code>): Der Prompt-String des Benutzers.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;{ logs: LogEntry[] }&gt;</code> – Ein Promise, das ein Objekt mit allen generierten Protokolleinträgen zurückgibt.</li>
</ul>
<h5><code>searchAgentMemory(agentId: string, queryVector: number[], topK: number): MemoryEntry[]</code></h5>
<p>Sucht im Langzeitgedächtnis eines Agenten nach relevanten Einträgen mittels Vektorsuche.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten, dessen Gedächtnis durchsucht werden soll.</li>
<li><code>queryVector</code> (<code>number[]</code>): Der Vektor der Suchanfrage (Embedding).</li>
<li><code>topK</code> (<code>number</code>): Die maximale Anzahl der zurückzugebenden relevantesten Einträge.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>MemoryEntry[]</code> – Ein Array von <code>MemoryEntry</code>-Objekten, die den Suchergebnissen entsprechen.</li>
</ul>
<h4>Private Methoden (Ausgewählt, da für das Verständnis der öffentlichen API relevant)</h4>
<h5><code>updateCultureMembership(agent: Agent): void</code></h5>
<p>Fügt einen Agenten der Mitgliederliste seiner zugewiesenen Kultur hinzu, falls er noch nicht enthalten ist.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, dessen Kulturmitgliedschaft aktualisiert werden soll.</li>
</ul>
</li>
</ul>
<h5><code>calculateMarketPrices(): void</code></h5>
<p>Berechnet und aktualisiert die Marktpreise für verschiedene Güter basierend auf Angebot und Nachfrage (Gesamtbestand der Agenten und Marktangebote).</p>
<h5><code>endElection(): LogEntry[]</code></h5>
<p>Beendet eine aktive Wahl, bestimmt den Gewinner basierend auf den Stimmen und aktualisiert den Anführer der Regierung.</p>
<ul>
<li><strong>Rückgabewert:</strong> <code>LogEntry[]</code> – Ein Array von Protokolleinträgen, die das Wahlergebnis festhalten.</li>
</ul>
<h5><code>inheritPersonality(parent1: Agent, parent2: Agent): Personality</code></h5>
<p>Generiert eine neue Persönlichkeit für ein Neugeborenes, basierend auf den Persönlichkeiten von zwei Elternteilen, inklusive einer kleinen Mutation.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>parent1</code> (<code>Agent</code>): Der erste Eltern-Agent.</li>
<li><code>parent2</code> (<code>Agent</code>): Der zweite Eltern-Agent.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Personality</code> – Das generierte Persönlichkeitsobjekt.</li>
</ul>
<h5><code>inheritPsyche(parent1: Agent, parent2: Agent): Psyche</code></h5>
<p>Generiert eine neue Psyche für ein Neugeborenes, basierend auf den Psychen von zwei Elternteilen, inklusive einer kleinen Mutation.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>parent1</code> (<code>Agent</code>): Der erste Eltern-Agent.</li>
<li><code>parent2</code> (<code>Agent</code>): Der zweite Eltern-Agent.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Psyche</code> – Das generierte Psyche-Objekt.</li>
</ul>
<h5><code>addNewbornAgent(data: Partial&lt;Agent&gt; &amp; { description: string, parents: [Agent, Agent] }): LogEntry[]</code></h5>
<p>Erstellt einen neuen Agenten als Neugeborenes mit vererbten Eigenschaften von den Eltern und fügt ihn der Simulation hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>data</code> (<code>Partial&lt;Agent&gt; &amp; { description: string, parents: [Agent, Agent] }</code>): Daten für den neuen Agenten, einschließlich Beschreibung (<code>description</code>) und den beiden Eltern-Agenten (<code>parents</code>).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>LogEntry[]</code> – Ein Array von Protokolleinträgen, die die Geburt festhalten.</li>
</ul>
<h5><code>createCustomActionExecute(action: Action): (agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;, worldState: WorldState, context: ActionContext) =&gt; Promise&lt;ActionExecutionResult&gt;</code></h5>
<p>Eine Fabrikfunktion, die die <code>execute</code>-Methode für benutzerdefinierte Aktionen basierend auf deren <code>effects</code> erstellt. Diese Methode ist entscheidend für die dynamische Erstellung von Aktionen aus gespeicherten Zuständen oder benutzerdefinierten Eingaben.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>action</code> (<code>Action</code>): Das Aktions-Objekt, für das die Ausführungslogik erstellt werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>(agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;, worldState: WorldState, context: ActionContext) =&gt; Promise&lt;ActionExecutionResult&gt;</code> – Eine asynchrone Funktion, die die Logik zur Ausführung der Aktion enthält.</li>
</ul>
<h5><code>updateAgentGoals(agent: Agent): LogEntry[]</code></h5>
<p>Aktualisiert die Ziele eines Agenten basierend auf seinem aktuellen Zustand, Emotionen, Psyche und Inventar.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, dessen Ziele aktualisiert werden sollen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>LogEntry[]</code> – Ein Array von Protokolleinträgen, falls neue Ziele generiert wurden.</li>
</ul>
<h5><code>updateAgentRole(agent: Agent): LogEntry[]</code></h5>
<p>Überprüft, ob ein Agent basierend auf seinen Fähigkeiten und Statistiken eine neue Rolle erhalten sollte (z.B. Beförderung).</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, dessen Rolle überprüft und aktualisiert werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>LogEntry[]</code> – Ein Array von Protokolleinträgen, falls eine Rollenänderung stattgefunden hat.</li>
</ul>
<h5><code>applyPersonalityShifts(agent: Agent): void</code></h5>
<p>Wendet Persönlichkeitsverschiebungen auf einen Agenten an, basierend auf langfristigem Stress und sozialem Erfolg.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, dessen Persönlichkeit verschoben werden soll.</li>
</ul>
</li>
</ul>
<h5><code>applyPerStepMechanisms(agent: Agent): LogEntry[]</code></h5>
<p>Wendet pro-Schritt-Mechanismen auf einen Agenten an, einschließlich Bedürfnisaktualisierungen, Krankheitsfortschritt, Alterung, Tod, Emotions- und Psyche-Zerfall sowie Beziehungs-Updates.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, auf den die Mechanismen angewendet werden sollen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>LogEntry[]</code> – Ein Array von Protokolleinträgen, die während der Anwendung der Mechanismen generiert wurden.</li>
</ul>
<h5><code>getAgentStateKey(agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;): string</code></h5>
<p>Generiert einen Zustands-Schlüssel für einen Agenten, der seine physiologischen Bedürfnisse und seine Umgebung zusammenfasst. Wird für Q-Learning verwendet.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, dessen Zustand ermittelt werden soll.</li>
<li><code>allAgents</code> (<code>Map&lt;string, Agent&gt;</code>): Eine Map aller Agenten in der Simulation.</li>
<li><code>allEntities</code> (<code>Map&lt;string, Entity&gt;</code>): Eine Map aller Entitäten in der Simulation.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>string</code> – Ein string-basierter Schlüssel, der den aktuellen Zustand des Agenten repräsentiert.</li>
</ul>
<h5><code>chooseAction(agent: Agent): Action | null</code></h5>
<p>Wählt die nächste Aktion für einen Agenten basierend auf seinen Bedürfnissen, Zielen, Psyche, Persönlichkeit, Q-Werten und der Umgebung. Implementiert eine Epsilon-Greedy-Strategie.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, der eine Aktion wählen soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Action | null</code> – Die ausgewählte <code>Action</code> oder <code>null</code>, wenn keine passende Aktion gefunden werden kann.</li>
</ul>
<h5><code>updateQValue(agent: Agent, stateKey: string, actionName: string, reward: number, newStateKey: string): void</code></h5>
<p>Aktualisiert den Q-Wert für ein Zustand-Aktions-Paar im Q-Table des Agenten mithilfe der Q-Learning-Formel.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code> (<code>Agent</code>): Der Agent, dessen Q-Table aktualisiert wird.</li>
<li><code>stateKey</code> (<code>string</code>): Der Zustands-Schlüssel vor der Aktion.</li>
<li><code>actionName</code> (<code>string</code>): Der Name der ausgeführten Aktion.</li>
<li><code>reward</code> (<code>number</code>): Die Belohnung, die der Agent für die Aktion erhalten hat.</li>
<li><code>newStateKey</code> (<code>string</code>): Der Zustands-Schlüssel nach der Aktion.</li>
</ul>
</li>
</ul>
<h5><code>formatLogToString(log: LogEntry): string</code></h5>
<p>Formatiert einen <code>LogEntry</code> in einen lesbaren String.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>log</code> (<code>LogEntry</code>): Der zu formatierende Protokolleintrag.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>string</code> – Der formatierte Protokollstring.</li>
</ul>
<h5><code>executeAction(agentId: string, action: Action): Promise&lt;{ logs: LogEntry[], sideEffects?: ActionExecutionResult[&#39;sideEffects&#39;] }&gt;</code></h5>
<p>Führt eine gegebene Aktion für einen Agenten aus. Dies beinhaltet die Anwendung der Aktionseffekte, die Aktualisierung des Langzeitgedächtnisses, die Anpassung von Überzeugungen und die Aktualisierung der Q-Tabelle.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code> (<code>string</code>): Die ID des Agenten, der die Aktion ausführt.</li>
<li><code>action</code> (<code>Action</code>): Das auszuführende <code>Action</code>-Objekt.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;{ logs: LogEntry[], sideEffects?: ActionExecutionResult[&#39;sideEffects&#39;] }&gt;</code> – Ein Promise, das ein Objekt mit Protokolleinträgen und möglichen Nebeneffekten der Aktion zurückgibt.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-services-geminiService-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/geminiService.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>services/geminiService.ts</code></h3>
<p>Diese Datei stellt Dienstfunktionen für die Interaktion mit KI-Modellen (Google Gemini und LM Studio) bereit, um verschiedene Aspekte einer Realitätssimulation zu steuern, einschliesslich Agentenaktionen, Konversationen, psychologischen Analysen und Welterzeugung.</p>
<hr>
<h3>Klassen</h3>
<h4><code>LmStudioError</code></h4>
<p>Eine benutzerdefinierte Fehlerklasse, die für spezifische Fehler bei der Interaktion mit KI-Anbietern, insbesondere LM Studio und Google Gemini, verwendet wird. Sie erweitert die Standard-<code>Error</code>-Klasse.</p>
<p><strong>Konstruktor:</strong>
<code>constructor(message: string, public translationKey?: TranslationKey)</code></p>
<ul>
<li><strong><code>message</code></strong> (<code>string</code>): Die Fehlermeldung.</li>
<li><strong><code>translationKey</code></strong> (<code>TranslationKey</code>, optional): Ein Schlüssel für lokalisierte Fehlermeldungen, der bei der Anzeige von Fehlern in der Benutzeroberfläche verwendet werden kann.</li>
</ul>
<p><strong>Eigenschaften:</strong></p>
<ul>
<li><strong><code>name</code></strong> (<code>string</code>): Immer <code>&#39;AIProviderError&#39;</code>.</li>
</ul>
<hr>
<h3>Schnittstellen (Interfaces)</h3>
<h4><code>AiConfig</code></h4>
<p>Definiert die Konfigurationsstruktur für die Auswahl und Nutzung des KI-Anbieters.</p>
<ul>
<li><strong><code>provider</code></strong> (<code>&#39;lm_studio&#39; | &#39;gemini&#39;</code>): Der Name des zu verwendenden KI-Anbieters.</li>
<li><strong><code>lmStudioUrl</code></strong> (<code>string</code>): Die URL für den LM Studio-Server. Erforderlich, wenn <code>provider</code> auf <code>&#39;lm_studio&#39;</code> gesetzt ist.</li>
<li><strong><code>lmStudioModel</code></strong> (<code>string</code>): Der Modellname, der für die Textgenerierung in LM Studio verwendet werden soll. Erforderlich, wenn <code>provider</code> auf <code>&#39;lm_studio&#39;</code> gesetzt ist.</li>
<li><strong><code>lmStudioEmbeddingModel</code></strong> (<code>string</code>): Der Modellname, der für die Embedding-Generierung in LM Studio verwendet werden soll. Optional; wenn nicht angegeben, wird <code>lmStudioModel</code> verwendet.</li>
<li><strong><code>geminiModel</code></strong> (<code>string</code>): Der Modellname, der für die Gemini-API verwendet werden soll (z.B. <code>gemini-pro</code>). Erforderlich, wenn <code>provider</code> auf <code>&#39;gemini&#39;</code> gesetzt ist.</li>
</ul>
<hr>
<h3>Funktionen</h3>
<h4><code>getAiConfig()</code></h4>
<p>Ruft die KI-Konfiguration aus dem lokalen Speicher (localStorage) ab.</p>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;AiConfig&gt;</code></strong>: Ein <code>AiConfig</code>-Objekt, das die Einstellungen für den KI-Anbieter enthält.</li>
</ul>
<p><strong>Fehler:</strong></p>
<ul>
<li>Wirft einen <code>Error</code>, wenn die Einstellungen nicht im <code>localStorage</code> gefunden oder nicht geparst werden können.</li>
</ul>
<h4><code>generateEmbedding(text: string, aiConfig: AiConfig)</code></h4>
<p>Generiert ein numerisches Embedding (Vektorrepräsentation) für den gegebenen Text mithilfe des konfigurierten KI-Anbieters.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>text</code></strong> (<code>string</code>): Der Text, für den das Embedding generiert werden soll.</li>
<li><strong><code>aiConfig</code></strong> (<code>AiConfig</code>): Das KI-Konfigurationsobjekt, das den zu verwendenden Anbieter und die Modelle definiert.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;number[]&gt;</code></strong>: Ein Promise, das ein Array von Zahlen (den Embedding-Vektor) auflöst.</li>
</ul>
<p><strong>Fehler:</strong></p>
<ul>
<li>Wirft <code>LmStudioError</code> wenn der Google Gemini API-Schlüssel fehlt oder die LM Studio URL ungültig ist.</li>
<li>Wirft <code>Error</code> bei API-Fehlern oder ungültigen Antworten vom KI-Dienst.</li>
</ul>
<h4><code>callAi(systemPrompt: string, userPrompt: string | null, jsonMode: boolean = false)</code></h4>
<p>Eine interne Hilfsfunktion, die den konfigurierten KI-Anbieter (Gemini oder LM Studio) aufruft, um eine Antwort basierend auf System- und Benutzeraufforderungen zu generieren.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>systemPrompt</code></strong> (<code>string</code>): Die Systemanweisung für das KI-Modell.</li>
<li><strong><code>userPrompt</code></strong> (<code>string | null</code>): Die Benutzeraufforderung. Kann <code>null</code> sein, wenn die Systemaufforderung ausreichend ist.</li>
<li><strong><code>jsonMode</code></strong> (<code>boolean</code>, Standard: <code>false</code>): Wenn <code>true</code>, wird die KI angewiesen, eine JSON-Antwort zu generieren, und der Code versucht, das JSON aus der Antwort zu extrahieren (falls es in Markdown-Blöcken verpackt ist).</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;string&gt;</code></strong>: Ein Promise, das den bereinigten Textinhalt der KI-Antwort auflöst.</li>
</ul>
<p><strong>Fehler:</strong></p>
<ul>
<li>Wirft <code>LmStudioError</code> bei fehlendem Gemini API-Schlüssel oder ungültiger LM Studio URL, sowie bei Problemen mit der Kommunikation (z.B. CORS-Fehler bei LM Studio).</li>
<li>Wirft <code>Error</code> bei API-Fehlern oder ungültigen Antworten vom KI-Dienst.</li>
</ul>
<h4><code>generateActionFromPrompt(prompt: string, availableActions: Action[], agent: Agent, worldState: WorldState, language: Language, recalledMemories: string[])</code></h4>
<p>Generiert eine logische Aktion für einen KI-Agenten basierend auf einer Benutzeraufforderung und dem aktuellen Zustand der Simulation.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>prompt</code></strong> (<code>string</code>): Die Eingabe des Benutzers, die die Grundlage für die Aktionsauswahl bildet.</li>
<li><strong><code>availableActions</code></strong> (<code>Action[]</code>): Eine Liste der Aktionen, die der Agent ausführen kann.</li>
<li><strong><code>agent</code></strong> (<code>Agent</code>): Der vollständige Zustand des betreffenden Agenten.</li>
<li><strong><code>worldState</code></strong> (<code>WorldState</code>): Der aktuelle Zustand der gesamten Simulationswelt.</li>
<li><strong><code>language</code></strong> (<code>Language</code>): Die Sprache, in der die Aufforderungen generiert werden sollen.</li>
<li><strong><code>recalledMemories</code></strong> (<code>string[]</code>): Eine Liste relevanter Erinnerungen des Agenten.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;string | null&gt;</code></strong>: Ein Promise, das den Namen der ausgewählten Aktion (z.B. &quot;Move North&quot;) oder &quot;Keine Aktion&quot; auflöst, wenn keine passende Aktion gefunden wird. Gibt <code>null</code> bei einem Fehler zurück.</li>
</ul>
<h4><code>generateAgentConversation(speaker: Agent, listener: Agent, history: { speakerName: string; message: string }[], worldState: WorldState, language: Language)</code></h4>
<p>Generiert einen Dialog und eine nächste Aktion für einen Agenten innerhalb einer Konversation.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>speaker</code></strong> (<code>Agent</code>): Der Agent, der die Antwort generieren soll.</li>
<li><strong><code>listener</code></strong> (<code>Agent</code>): Der Agent, mit dem der Sprecher kommuniziert.</li>
<li><strong><code>history</code></strong> (<code>{ speakerName: string; message: string }[]</code>): Der Verlauf der Konversation.</li>
<li><strong><code>worldState</code></strong> (<code>WorldState</code>): Der aktuelle Zustand der Simulationswelt.</li>
<li><strong><code>language</code></strong> (<code>Language</code>): Die Sprache für die Generierung der Konversationsaufforderungen.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;{ dialogue: string; action: string; } | null&gt;</code></strong>: Ein Promise, das ein Objekt mit dem generierten Dialog und der nächsten Aktion auflöst. Gibt <code>null</code> bei einem Fehler zurück.</li>
</ul>
<h4><code>generatePsychoanalysis(agent: Agent, worldState: WorldState, language: Language)</code></h4>
<p>Erstellt eine tiefenpsychologische Analyse eines Agenten basierend auf seinem Zustand und seinen Erfahrungen.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>agent</code></strong> (<code>Agent</code>): Der Agent, der analysiert werden soll.</li>
<li><strong><code>worldState</code></strong> (<code>WorldState</code>): Der aktuelle Zustand der Simulationswelt, einschliesslich relevanter Informationen zu Kulturen und Religionen.</li>
<li><strong><code>language</code></strong> (<code>Language</code>): Die Sprache, in der die Analyse generiert werden soll.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;PsychoReport | null&gt;</code></strong>: Ein Promise, das ein <code>PsychoReport</code>-Objekt mit der Analyse und strukturierten Daten auflöst. Gibt <code>null</code> bei einem Fehler zurück.</li>
</ul>
<h4><code>getWorldGenPrompts(language: Language)</code></h4>
<p>Interne Funktion, die sprachspezifische Prompt-Vorlagen für die Weltgenerierung zurückgibt.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>language</code></strong> (<code>Language</code>): Die gewünschte Sprache (<code>en</code> oder <code>de</code>).</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>object</code></strong>: Ein Objekt, das verschiedene Prompt-Segmente für die Weltgenerierung in der angegebenen Sprache enthält.</li>
</ul>
<h4><code>generateWorld(environment: EnvironmentState, language: Language, agentCount: number, entityCounts: { [key: string]: number })</code></h4>
<p>Generiert eine vollständige Welt, einschliesslich Agenten und Entitäten, basierend auf den angegebenen Parametern.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>environment</code></strong> (<code>EnvironmentState</code>): Der Umgebungszustand (z.B. Grösse des Rasters).</li>
<li><strong><code>language</code></strong> (<code>Language</code>): Die Sprache für die Generierung.</li>
<li><strong><code>agentCount</code></strong> (<code>number</code>): Die Anzahl der zu generierenden Agenten.</li>
<li><strong><code>entityCounts</code></strong> (<code>{ [key: string]: number }</code>): Ein Objekt, das die gewünschte Anzahl verschiedener Entitätstypen (z.B. <code>food</code>, <code>water</code>, <code>buildings</code>) angibt.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;{ agents: any[], entities: any[] } | null&gt;</code></strong>: Ein Promise, das ein Objekt mit Arrays von generierten Agenten und Entitäten auflöst. Gibt <code>null</code> bei einem Fehler zurück.</li>
</ul>
<h4><code>generateAgents(environment: EnvironmentState, language: Language, agentCount: number)</code></h4>
<p>Generiert nur eine angegebene Anzahl von Agenten für die Simulation.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>environment</code></strong> (<code>EnvironmentState</code>): Der Umgebungszustand (z.B. Grösse des Rasters).</li>
<li><strong><code>language</code></strong> (<code>Language</code>): Die Sprache für die Generierung.</li>
<li><strong><code>agentCount</code></strong> (<code>number</code>): Die Anzahl der zu generierenden Agenten.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;{ agents: any[] } | null&gt;</code></strong>: Ein Promise, das ein Objekt mit einem Array von generierten Agenten auflöst. Gibt <code>null</code> bei einem Fehler zurück.</li>
</ul>
<h4><code>generateEntities(environment: EnvironmentState, language: Language, entityCounts: { [key: string]: number })</code></h4>
<p>Generiert nur eine angegebene Anzahl und Arten von Entitäten für die Simulation.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>environment</code></strong> (<code>EnvironmentState</code>): Der Umgebungszustand (z.B. Grösse des Rasters).</li>
<li><strong><code>language</code></strong> (<code>Language</code>): Die Sprache für die Generierung.</li>
<li><strong><code>entityCounts</code></strong> (<code>{ [key: string]: number }</code>): Ein Objekt, das die gewünschte Anzahl verschiedener Entitätstypen angibt.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;{ entities: any[] } | null&gt;</code></strong>: Ein Promise, das ein Objekt mit einem Array von generierten Entitäten auflöst. Gibt <code>null</code> bei einem Fehler zurück.</li>
</ul>
<h4><code>generateJailJournalEntry(agent: Agent, worldState: WorldState, language: Language, reasonForImprisonment: string)</code></h4>
<p>Generiert einen Tagebucheintrag für einen Agenten, der sich im Gefängnis befindet, der seine Gedanken und Gefühle während der Haft widerspiegelt.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><strong><code>agent</code></strong> (<code>Agent</code>): Der inhaftierte Agent.</li>
<li><strong><code>worldState</code></strong> (<code>WorldState</code>): Der aktuelle Zustand der Simulationswelt.</li>
<li><strong><code>language</code></strong> (<code>Language</code>): Die Sprache für den Tagebucheintrag.</li>
<li><strong><code>reasonForImprisonment</code></strong> (<code>string</code>): Die Begründung für die Inhaftierung des Agenten, basierend auf seinen Erinnerungen.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><strong><code>Promise&lt;string | null&gt;</code></strong>: Ein Promise, das den generierten Tagebucheintrag als String auflöst. Gibt <code>null</code> bei einem Fehler zurück.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-AgentCard-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/AgentCard.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <p>Die Datei <code>components/AgentCard.tsx</code> definiert eine React-Komponente <code>AgentCard</code>, die detaillierte Informationen über einen einzelnen Agenten in einem Simulations- oder Spielkontext anzeigt. Sie bietet Übersichten über Status, Bedürfnisse, Persönlichkeit, Fähigkeiten, Inventar, Beziehungen, Ziele und Erinnerungen eines Agenten sowie eine Interaktionsmöglichkeit.</p>
<h3>Importierte Typen</h3>
<p>Die Komponente importiert verschiedene Typen, die die Struktur der übergebenen Daten definieren:</p>
<ul>
<li><code>Agent</code>: Repräsentiert die Hauptdatenstruktur eines Agenten.</li>
<li><code>Goal</code>: Beschreibt ein Ziel, das ein Agent verfolgt.</li>
<li><code>Trauma</code>: Beschreibt ein Trauma, das ein Agent erfahren hat.</li>
<li><code>Entity</code>: Repräsentiert ein Objekt oder einen Ort in der Welt.</li>
<li><code>Relationship</code>: Definiert die Beziehung eines Agenten zu einem anderen.</li>
<li><code>Psyche</code>: Beschreibt die psychischen Attribute eines Agenten.</li>
<li><code>JailJournalEntry</code>: Repräsentiert einen Eintrag im Gefängnistagebuch eines Agenten.</li>
</ul>
<p>Diese Typen werden aus <code>../types</code> importiert und definieren die Erwartungen an die Datenmodelle. Ihre detaillierten Eigenschaften sind in der Datei <code>../types.ts</code> definiert.</p>
<h3>Importierte Komponenten</h3>
<ul>
<li><code>BeliefsChart</code>: Eine Komponente zur Visualisierung von Daten als Balkendiagramm, importiert aus <code>./BeliefsChart</code>. Wird für Persönlichkeit, Psyche und Fähigkeiten verwendet.</li>
<li><code>IconComponents</code>: Eine Sammlung von SVG-Icon-Komponenten (z.B. <code>BrainCircuit</code>, <code>MessageSquare</code>, <code>Sparkles</code> etc.), importiert aus <code>./IconComponents</code>. Diese werden für die visuelle Darstellung verschiedener Datenpunkte und Aktionen verwendet.</li>
</ul>
<h3>Importierte Hooks und Konstanten</h3>
<ul>
<li><code>useState</code>: React Hook zum Verwalten des internen Zustands der Komponente.</li>
<li><code>useTranslations</code>: Ein benutzerdefinierter Hook aus <code>../hooks/useTranslations</code> zur Handhabung von Übersetzungen in der Benutzeroberfläche.</li>
<li><code>CHILDHOOD_MAX_AGE</code>, <code>ADOLESCENCE_MAX_AGE</code>, <code>ADULTHOOD_MAX_AGE</code>: Konstanten aus <code>../constants</code> zur Definition der Altersgrenzen für verschiedene Lebensphasen.</li>
</ul>
<h3>Interfaces</h3>
<h4><code>AgentCardProps</code></h4>
<p>Definiert die Props, die an die <code>AgentCardComponent</code> übergeben werden können.</p>
<ul>
<li><code>agent</code>: (<code>Agent</code>) Das <code>Agent</code>-Objekt, dessen Details angezeigt werden sollen.</li>
<li><code>allAgents</code>: (<code>Agent[]</code>) Ein Array aller verfügbaren Agenten, verwendet zur Auflösung von Beziehungsnamen.</li>
<li><code>entities</code>: (<code>Entity[]</code>) Ein Array aller Entitäten in der Welt, verwendet zur Anzeige von Agentenbesitz.</li>
<li><code>cultureName</code>: (<code>string</code>) Der Name der Kultur, zu der der Agent gehört.</li>
<li><code>religionName</code>: (<code>string</code>) Der Name der Religion, zu der der Agent gehört.</li>
<li><code>leaderName</code>: (<code>string</code>) Der Name des aktuellen Weltanführers.</li>
<li><code>onPrompt</code>: (<code>(agentId: string, prompt: string, useAi: boolean) =&gt; void</code>) Callback-Funktion, die aufgerufen wird, wenn der Benutzer eine Interaktion mit dem Agenten initiiert.<ul>
<li><code>agentId</code>: Die ID des Agenten.</li>
<li><code>prompt</code>: Der Text der Interaktion.</li>
<li><code>useAi</code>: Ein Boolean, der angibt, ob die KI für die Generierung der Antwort verwendet werden soll.</li>
</ul>
</li>
<li><code>onGeneratePsychoanalysis</code>: (<code>(agent: Agent) =&gt; void</code>) Callback-Funktion, die aufgerufen wird, um eine Psychoanalyse für den Agenten zu generieren.</li>
</ul>
<h3>Hilfsfunktionen</h3>
<h4><code>getHealthColor</code></h4>
<p>Bestimmt die CSS-Hintergrundfarbe basierend auf dem Gesundheitswert.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>health</code>: (<code>number</code>) Der Gesundheitswert (0-100).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li>(<code>string</code>) Eine Tailwind CSS-Klasse (<code>bg-red-500</code>, <code>bg-yellow-500</code>, <code>bg-green-500</code>).</li>
</ul>
</li>
</ul>
<h4><code>getNeedColor</code></h4>
<p>Bestimmt die CSS-Textfarbe basierend auf einem Bedürfniswert. Höhere Werte (über 50 oder 80) deuten auf ein größeres Bedürfnis hin und erhalten warnende Farben.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>value</code>: (<code>number</code>) Der Wert des Bedürfnisses (0-100).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li>(<code>string</code>) Eine Tailwind CSS-Klasse (<code>text-red-400</code>, <code>text-yellow-400</code>, <code>text-slate-300</code>).</li>
</ul>
</li>
</ul>
<h4><code>Stat</code></h4>
<p>Eine kleine React-Komponente zur Anzeige eines einzelnen Statistik-Elements.</p>
<ul>
<li><strong>Props:</strong><ul>
<li><code>icon</code>: (<code>React.ReactNode</code>) Ein Icon, das neben dem Label angezeigt wird.</li>
<li><code>label</code>: (<code>string</code>) Die Beschriftung der Statistik.</li>
<li><code>value</code>: (<code>React.ReactNode</code>) Der Wert der Statistik.</li>
<li><code>className</code>: (<code>string</code>, optional) Zusätzliche CSS-Klassen für das Wurzel-Div.</li>
</ul>
</li>
<li><strong>Zweck:</strong> Stellt eine konsistente Formatierung für Statistikzeilen sicher.</li>
</ul>
<h4><code>Pill</code></h4>
<p>Eine kleine React-Komponente zur Anzeige von Text in einem &quot;Pill&quot;-Format (abgerundeter Hintergrund).</p>
<ul>
<li><strong>Props:</strong><ul>
<li><code>children</code>: (<code>React.ReactNode</code>) Der anzuzeigende Inhalt.</li>
<li><code>color</code>: (<code>string</code>, optional) Die CSS-Klasse für die Hintergrundfarbe (Standard: <code>bg-slate-700</code>).</li>
<li><code>title</code>: (<code>string</code>, optional) Der Tooltip-Text.</li>
</ul>
</li>
<li><strong>Zweck:</strong> Stellt eine konsistente Formatierung für kleine, getaggte Informationen dar (z.B. Genom).</li>
</ul>
<h4><code>getLifeStage</code></h4>
<p>Bestimmt die Lebensphase eines Agenten basierend auf seinem Alter und vordefinierten Konstanten.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>age</code>: (<code>number</code>) Das Alter des Agenten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li>(<code>string</code>) Eine übersetzte Zeichenkette für die Lebensphase (Kind, Jugendlicher, Erwachsener, Ältester).</li>
</ul>
</li>
</ul>
<h4><code>getRelationshipColor</code></h4>
<p>Bestimmt die CSS-Textfarbe basierend auf dem Typ einer Beziehung.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>type</code>: (<code>Relationship[&#39;type&#39;]</code>) Der Typ der Beziehung (z.B. &#39;spouse&#39;, &#39;friend&#39;, &#39;rival&#39;).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li>(<code>string</code>) Eine Tailwind CSS-Klasse (<code>text-pink-400</code>, <code>text-green-400</code>, <code>text-red-400</code>, <code>text-slate-400</code>).</li>
</ul>
</li>
</ul>
<h4><code>getItemIcon</code></h4>
<p>Gibt ein Icon für einen bestimmten Inventargegenstand zurück.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>item</code>: (<code>string</code>) Der Schlüssel des Inventargegenstands (z.B. &#39;food&#39;, &#39;water&#39;).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li>(<code>JSX.Element</code>) Ein entsprechendes Icon-Element.</li>
</ul>
</li>
</ul>
<h4><code>getGoalIcon</code></h4>
<p>Gibt ein Icon für einen bestimmten Zieltyp zurück.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>goalType</code>: (<code>Goal[&#39;type&#39;]</code>) Der Typ des Ziels (z.B. &#39;becomeLeader&#39;, &#39;buildLargeHouse&#39;).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li>(<code>JSX.Element</code>) Ein entsprechendes Icon-Element.</li>
</ul>
</li>
</ul>
<h3>Hauptkomponente: <code>AgentCardComponent</code> (Exportiert als <code>AgentCard</code>)</h3>
<p>Die Hauptkomponente, die die Agentendetails rendert.</p>
<ul>
<li><strong>Zweck:</strong> Zeigt eine umfassende Ansicht der Attribute und des Zustands eines einzelnen Agenten an. Sie ermöglicht auch die Interaktion mit dem Agenten über einen Texteingabefeld und das Auslösen einer Psychoanalyse.</li>
<li><strong>Props:</strong> Siehe <code>AgentCardProps</code>.</li>
<li><strong>Zustand:</strong><ul>
<li><code>prompt</code>: (<code>string</code>) Der aktuelle Wert des Eingabefeldes für die Interaktion.</li>
<li><code>useAi</code>: (<code>boolean</code>) Ein Flag, das steuert, ob die KI für die Antwortgenerierung verwendet werden soll (Standard: <code>true</code>).</li>
</ul>
</li>
<li><strong>Methoden/Handler:</strong><ul>
<li><code>handleSubmit</code>: (Event-Handler für das Formular)<ul>
<li>Verhindert das Standard-Formular-Submit-Verhalten.</li>
<li>Ruft <code>onPrompt</code> mit der Agenten-ID, dem aktuellen Prompt und dem <code>useAi</code>-Flag auf, sofern der Prompt nicht leer ist und der Agent lebt.</li>
<li>Setzt den Prompt nach dem Absenden zurück.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Datenverarbeitung:</strong><ul>
<li>Bereitet Daten für die <code>BeliefsChart</code>-Komponente vor, indem Objekte in Arrays von <code>{ name, value }</code> Paaren umgewandelt werden. Dazu gehören <code>emotions</code>, <code>beliefNetwork</code>, <code>skills</code>, <code>personality</code> und <code>psyche</code>.</li>
<li>Filtert <code>inventoryItems</code>, um nur Gegenstände mit einer Menge größer als Null anzuzeigen.</li>
<li>Konvertiert <code>agent.relationships</code> in ein Array von Schlüssel-Wert-Paaren.</li>
<li>Filtert <code>entities</code>, um nur die vom Agenten besessenen Entitäten anzuzeigen.</li>
</ul>
</li>
<li><strong>Struktur:</strong><ul>
<li>Die Karte ist in ein responsives Rasterlayout (Grid) unterteilt, das Informationen in vier Hauptspalten organisiert:<ol>
<li><strong>Kernstatistiken, Bedürfnisse, Eigenschaften:</strong> Zeigt grundlegende Informationen wie Lebensphase, Kultur, Religion, Rolle, Anführer, Gesundheit, Hunger, Durst, Müdigkeit, Stress, Sozialstatus, Währung und Krankheit. Beinhaltet auch den Genom-Abschnitt.</li>
<li><strong>Persönlichkeit &amp; Psyche:</strong> Visualisiert Persönlichkeitsmerkmale und psychische Zustände mithilfe von <code>BeliefsChart</code>.</li>
<li><strong>Fähigkeiten, Inventar, Sozial:</strong> Zeigt Fähigkeiten (als Diagramm), eine Liste der Inventargegenstände und eine Liste der Besitztümer an.</li>
<li><strong>Beziehungen, Ziele, Erinnerungen:</strong> Zeigt Beziehungen zu anderen Agenten, aktuelle Ziele mit Fortschritt und die letzten Langzeitgedächtniseinträge an. Bei Inhaftierung wird auch ein Gefängnistagebuch angezeigt.</li>
</ol>
</li>
<li>Ein <strong>Interaktionspanel</strong> am unteren Rand ermöglicht es dem Benutzer, Textaufforderungen an den Agenten zu senden, mit einer Option, die KI-Verarbeitung ein- oder auszuschalten.</li>
<li>Ein Button zum Generieren einer Psychoanalyse ist im Header der Karte vorhanden.</li>
</ul>
</li>
</ul>
<h3>Export</h3>
<p>Die Komponente <code>AgentCardComponent</code> wird als <code>AgentCard</code> exportiert, umwickelt mit <code>React.memo</code> für Leistungsoptimierung. <code>React.memo</code> verhindert ein Neu-Rendern der Komponente, wenn sich ihre Props nicht geändert haben.</p>

            </div>
        </div>
        </div>
        <div id="file-components-BeliefsChart-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/BeliefsChart.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Interfaces</h3>
<h4><code>BeliefsChartProps</code></h4>
<p>Definiert die Eigenschaften, die der <code>BeliefsChart</code>-Komponente übergeben werden können.</p>
<p>| Property    | Typ                                  | Beschreibung</p>

            </div>
        </div>
        </div>
        <div id="file-components-ControlPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/ControlPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>ControlPanelProps</code> Interface</h3>
<p>Definiert die Props, die an die <code>ControlPanel</code>-Komponente übergeben werden können.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>onStep</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback-Funktion, die aufgerufen wird, um die Simulation um einen Schritt voranzutreiben.</td>
</tr>
<tr>
<td align="left"><code>onRunSteps</code></td>
<td align="left"><code>(steps: number) =&gt; void</code></td>
<td align="left">Callback-Funktion, die aufgerufen wird, um die Simulation um eine angegebene Anzahl von Schritten voranzutreiben.</td>
</tr>
<tr>
<td align="left"><code>onReset</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback-Funktion, die aufgerufen wird, um die Simulation oder den Zustand zurückzusetzen.</td>
</tr>
<tr>
<td align="left"><code>onGenerateWorld</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback-Funktion, die aufgerufen wird, um eine neue Welt zu generieren.</td>
</tr>
<tr>
<td align="left"><code>onGenerateContent</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback-Funktion, die aufgerufen wird, um Inhalte mit KI hinzuzufügen.</td>
</tr>
<tr>
<td align="left"><code>isGenerating</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Steuert den Deaktivierungszustand der Buttons und zeigt an, ob gerade eine Generierungsoperation läuft.</td>
</tr>
<tr>
<td align="left"><code>isProcessing</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Steuert den Deaktivierungszustand der Buttons und zeigt an, ob gerade eine andere Verarbeitungsoperation läuft.</td>
</tr>
</tbody></table>
<h3><code>ControlPanel</code> Komponente</h3>
<p>Eine React-Funktionskomponente, die eine Reihe von Steuerelementen für die Interaktion mit einer Simulations- oder Welt-Anwendung bereitstellt. Sie umfasst Buttons für Einzelschritt, Mehrfachschritt, Zurücksetzen, Weltgenerierung und Inhaltserstellung sowie ein Eingabefeld für die Anzahl der auszuführenden Schritte.</p>
<p><strong>Verwendung:</strong></p>
<pre><code class="language-tsx">&lt;ControlPanel
    onStep={handleStep}
    onRunSteps={handleRunSteps}
    onReset={handleReset}
    onGenerateWorld={handleGenerateWorld}
    onGenerateContent={handleGenerateContent}
    isGenerating={isGeneratingState}
    isProcessing={isProcessingState}
/&gt;
</code></pre>
<p><strong>Zweck:</strong></p>
<p>Die Komponente dient als zentrale Benutzeroberfläche für die Steuerung der Hauptfunktionen einer Anwendung, die eine Simulation oder eine dynamische Welt verwaltet. Sie ist dafür konzipiert, den Benutzerzugriff auf kritische Aktionen zu steuern, während Generierungs- oder Verarbeitungsoperationen im Gange sind, indem die entsprechenden Buttons deaktiviert werden. Die Beschriftungen der Buttons werden über einen <code>useTranslations</code>-Hook dynamisch geladen, um Internationalisierung zu unterstützen.</p>
<p><strong>Interne Zustände:</strong></p>
<ul>
<li><code>runSteps</code>: Ein lokaler Zustand, der die Standardanzahl (initialisiert mit 10) oder die vom Benutzer eingegebene Anzahl von Schritten speichert, die beim Klicken auf den &quot;Run&quot;-Button ausgeführt werden sollen.</li>
</ul>
<p><strong>Interne Hooks:</strong></p>
<ul>
<li><code>useState</code>: Wird für die Verwaltung der <code>runSteps</code>-Anzahl verwendet.</li>
<li><code>useTranslations</code>: Ein benutzerdefinierter Hook, der zur Lokalisierung von Texten innerhalb der Komponente dient. Er stellt eine Übersetzungsfunktion <code>t</code> bereit.</li>
</ul>
<p><strong>Elemente:</strong></p>
<ul>
<li><strong>&quot;Welt generieren&quot; Button:</strong><ul>
<li>Löst die <code>onGenerateWorld</code>-Callback-Funktion aus.</li>
<li>Zeigt ein rotierendes Globus-Symbol, wenn <code>isGenerating</code> <code>true</code> ist.</li>
</ul>
</li>
<li><strong>&quot;Mit KI hinzufügen&quot; Button:</strong><ul>
<li>Löst die <code>onGenerateContent</code>-Callback-Funktion aus.</li>
</ul>
</li>
<li><strong>&quot;Schritt&quot; Button:</strong><ul>
<li>Löst die <code>onStep</code>-Callback-Funktion aus.</li>
</ul>
</li>
<li><strong>&quot;Schritte ausführen&quot; Eingabe und Button-Gruppe:</strong><ul>
<li>Ein <code>input</code> Feld vom Typ <code>number</code>, um die Anzahl der Schritte für die &quot;Run&quot;-Funktion einzugeben. Der Wert wird im <code>runSteps</code>-Zustand gehalten.</li>
<li>Ein &quot;Run&quot;-Button, der <code>onRunSteps</code> mit dem aktuellen Wert von <code>runSteps</code> aufruft.</li>
</ul>
</li>
<li><strong>&quot;Zurücksetzen&quot; Button:</strong><ul>
<li>Löst die <code>onReset</code>-Callback-Funktion aus.</li>
</ul>
</li>
</ul>
<p><strong>Verhalten:</strong></p>
<p>Alle interaktiven Steuerelemente (Buttons und das Eingabefeld) werden deaktiviert, wenn entweder <code>isGenerating</code> oder <code>isProcessing</code> <code>true</code> ist, um Benutzereingaben während kritischer Hintergrundoperationen zu verhindern. Der Text des &quot;Welt generieren&quot; und &quot;Mit KI hinzufügen&quot; Buttons ändert sich dynamisch zu einem &quot;Generiere...&quot;-Text, wenn <code>isGenerating</code> <code>true</code> ist.</p>

            </div>
        </div>
        </div>
        <div id="file-components-LogPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/LogPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>LogPanelProps</code></h3>
<p>Definiert die Props, die an die <code>LogPanel</code>-Komponente übergeben werden können.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>logs</code></td>
<td align="left"><code>TimedLogEntry[]</code></td>
<td align="left">Ein Array von Log-Einträgen, die im Panel angezeigt werden sollen. Jeder Eintrag enthält einen Zeitstempel, einen Schlüssel für die Übersetzung und optionale Parameter.</td>
</tr>
</tbody></table>
<hr>
<h3><code>LogPanel</code></h3>
<p>Eine React-Funktionskomponente, die ein übersichtliches Panel zur Anzeige von zeitgesteuerten Log-Einträgen darstellt. Die Komponente ist so konzipiert, dass sie die neuesten Log-Einträge am unteren Ende einer scrollbaren Liste anzeigt und Übersetzungen für die Log-Nachrichten verwendet.</p>
<h4>Zweck</h4>
<p>Das <code>LogPanel</code> dient dazu, dem Benutzer einen Überblick über Ereignisse oder Systemmeldungen zu geben, die über einen Zeitraum hinweg aufgetreten sind. Es bietet eine klar formatierte, zeichenbasierte Ausgabe der Log-Einträge.</p>
<h4>Props</h4>
<p><code>LogPanel</code> akzeptiert ein einziges Prop-Objekt, das dem <code>LogPanelProps</code>-Interface entspricht:</p>
<ul>
<li><strong><code>logs</code></strong>: Ein Array von <code>TimedLogEntry</code>-Objekten. Jeder Eintrag in diesem Array wird als eine Zeile im Log-Panel gerendert. Die Komponente iteriert über dieses Array, um für jeden Eintrag eine formatierte Zeit und eine übersetzte Nachricht anzuzeigen.</li>
</ul>
<h4>Interner Aufbau und Logik</h4>
<ul>
<li><strong>Überschriften-Bereich</strong>: Enthält eine <code>h2</code>-Überschrift mit dem Titel &quot;Event Log&quot; (übersetzt über <code>useTranslations</code>) und einem <code>BookText</code>-Icon zur visuellen Kennzeichnung.</li>
<li><strong>Log-Anzeigebereich</strong>: Ein scrollbarer <code>div</code>-Container (<code>h-48</code>, <code>overflow-y-auto</code>), der die einzelnen Log-Einträge hostet.</li>
<li><strong>Log-Einträge</strong>: Die <code>logs</code>-Prop wird durchlaufen, um für jeden <code>TimedLogEntry</code> ein <code>&lt;li&gt;</code>-Element zu rendern.<ul>
<li>Die Log-Nachricht wird mithilfe des <code>useTranslations</code>-Hooks (<code>t</code>) und des <code>log.key</code> (als <code>TranslationKey</code>) sowie <code>log.params</code> dynamisch übersetzt.</li>
<li>Der Zeitstempel (<code>log.timestamp</code>) jedes Eintrags wird in ein lesbares Zeitformat (<code>[HH:MM:SS]</code>) umgewandelt.</li>
<li>Die Log-Einträge werden in umgekehrter Reihenfolge dargestellt (<code>flex-col-reverse</code> auf dem <code>ul</code>-Container), sodass die neuesten Einträge am unteren Rand der Anzeige erscheinen.</li>
</ul>
</li>
<li><strong>Styling</strong>: Die Komponente nutzt Tailwind CSS-Klassen für ihr Erscheinungsbild, einschließlich Hintergrundfarben, Rändern, Textfarben und -größen, sowie Layout (Flexbox).</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-WorldGraph-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/WorldGraph.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Schnittstellen</h3>
<h4>WorldGraphProps</h4>
<p>Definiert die Eigenschaften (Props), die für die <code>WorldGraphComponent</code> Komponente erforderlich sind. Diese Schnittstelle stellt die Daten bereit, die zur Visualisierung des simulierten Weltgraphen benötigt werden.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>agents</code></td>
<td align="left"><code>Agent[]</code></td>
<td align="left">Ein Array von <code>Agent</code>-Objekten, die die Individuen in der Simulation repräsentieren. Das Array enthält alle relevanten Daten wie Position (<code>x</code>, <code>y</code>), ID, Name, Gesundheitszustand (<code>health</code>), Alter (<code>age</code>), Beziehungen (<code>relationships</code>), Kultur (<code>cultureId</code>), Rolle (<code>role</code>), Lebensstatus (<code>isAlive</code>), Administrationsstatus (<code>adminAgent</code>) und Inhaftierungsstatus (<code>imprisonedUntil</code>).</td>
</tr>
<tr>
<td align="left"><code>entities</code></td>
<td align="left"><code>Entity[]</code></td>
<td align="left">Ein Array von <code>Entity</code>-Objekten, die die Objekte und Orte in der simulierten Welt darstellen. Jedes Objekt enthält Informationen zu Position (<code>x</code>, <code>y</code>), ID, Name, Typ (<code>isJail</code>, <code>isMarketplace</code>, <code>isResource</code>, <code>resourceType</code>), Menge (<code>quantity</code> für Ressourcen) und Besitz (<code>ownerId</code>).</td>
</tr>
<tr>
<td align="left"><code>environment</code></td>
<td align="left"><code>EnvironmentState</code></td>
<td align="left">Ein Objekt, das den allgemeinen Zustand der Umgebung beschreibt. Für diese Komponente sind insbesondere die Dimensionen der Welt (<code>width</code>, <code>height</code>) relevant.</td>
</tr>
<tr>
<td align="left"><code>cultures</code></td>
<td align="left"><code>Culture[]</code></td>
<td align="left">Ein Array von <code>Culture</code>-Objekten, die die verschiedenen kulturellen Gruppen in der Simulation repräsentieren. Jedes Kultur-Objekt enthält eine <code>id</code> und einen <code>name</code>, die für die Legende und die farbliche Kennzeichnung verwendet werden.</td>
</tr>
</tbody></table>
<h3>Funktionen</h3>
<h4>getEntityIcon</h4>
<p>Eine Hilfsfunktion, die basierend auf den Eigenschaften eines <code>Entity</code>-Objekts das passende SVG-Icon zurückgibt.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>entity</code></td>
<td align="left"><code>Entity</code></td>
<td align="left">Das <code>Entity</code>-Objekt, für das ein Icon bestimmt werden soll.</td>
</tr>
</tbody></table>
<p><strong>Rückgabewert:</strong>
Eine React Komponente (Typ: <code>React.ComponentType&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;</code>), die ein spezifisches SVG-Icon darstellt. Wenn kein passendes Icon gefunden wird, wird standardmäßig das <code>Home</code>-Icon zurückgegeben.</p>
<p><strong>Logik:</strong></p>
<ul>
<li><strong>Priorisierte Checks:</strong> Prüft zuerst auf spezielle Entitätstypen wie <code>isJail</code> (Gefängnis, Icon: <code>Gavel</code>) und <code>isMarketplace</code> (Marktplatz, Icon: <code>Users</code>).</li>
<li><strong>Ressourcentypen:</strong> Falls die Entität eine Ressource ist (<code>isResource</code>), wird das Icon basierend auf dem <code>resourceType</code> gewählt: <code>food</code> (<code>Apple</code>), <code>water</code> (<code>Droplet</code>), <code>wood</code> (<code>Log</code>), <code>medicine</code> (<code>PlusSquare</code>), <code>iron</code> (<code>Hammer</code>).</li>
<li><strong>Namensbasierte Icons:</strong> Für Entitäten, die weder spezialisierte Typen noch Ressourcen sind, wird der Name der Entität geprüft, z.B. &#39;haus&#39;, &#39;house&#39; oder &#39;shelter&#39; erhalten das <code>Home</code>-Icon.</li>
<li><strong>Standard-Icon:</strong> Falls keine der spezifischen Bedingungen zutrifft, wird das <code>Home</code>-Icon als Fallback verwendet.</li>
</ul>
<h4>getRoleIcon</h4>
<p>Eine Hilfsfunktion, die basierend auf dem Rollen-String eines Agenten das entsprechende SVG-Icon zurückgibt.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>role</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">Der Rollenstring eines Agenten (z.B. &#39;Leader&#39;, &#39;Healer&#39;, &#39;Scientist&#39;).</td>
</tr>
</tbody></table>
<p><strong>Rückgabewert:</strong>
Eine React Komponente (Typ: <code>React.ComponentType&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;</code>), die ein SVG-Icon darstellt, das die spezifische Rolle symbolisiert, oder <code>null</code>, wenn keine passende Rolle definiert ist oder der <code>role</code>-Parameter <code>null</code> ist.</p>
<p><strong>Logik:</strong></p>
<ul>
<li><strong>Rollen-Mapping:</strong> Ordnet spezifische Icons gängigen Rollen zu: &#39;Leader&#39; (<code>Award</code>), &#39;Healer&#39; (<code>HeartPulse</code>), &#39;Scientist&#39; (<code>FlaskConical</code>).</li>
<li><strong>Keine Übereinstimmung:</strong> Für andere Rollen oder wenn der <code>role</code>-Parameter <code>null</code> ist, wird <code>null</code> zurückgegeben.</li>
</ul>
<h3>Konstanten</h3>
<h4>cultureColors</h4>
<p>Ein JavaScript-Objekt, das spezifische Hex-Farbcodes bestimmten Kultur-IDs zuordnet. Diese Farben werden verwendet, um Agenten und Entitäten, die mit diesen Kulturen assoziiert sind, visuell hervorzuheben.</p>
<table>
<thead>
<tr>
<th align="left">Schlüssel (Kultur-ID)</th>
<th align="left">Wert (Farbcode)</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&#39;culture-utopian&#39;</code></td>
<td align="left"><code>&#39;#38bdf8&#39;</code></td>
<td align="left">Farbe für die utopische Kultur (sky-400).</td>
</tr>
<tr>
<td align="left"><code>&#39;culture-primitivist&#39;</code></td>
<td align="left"><code>&#39;#34d399&#39;</code></td>
<td align="left">Farbe für die primitivistische Kultur (emerald-400).</td>
</tr>
<tr>
<td align="left"><em>Standard (Fallback)</em></td>
<td align="left"><code>&#39;#94a3b8&#39;</code></td>
<td align="left">Standardfarbe, wenn keine Kulturfarbe definiert ist.</td>
</tr>
</tbody></table>
<h3>Komponenten</h3>
<h4>WorldGraphComponent</h4>
<p>Die Haupt-React-Funktionskomponente, die eine dynamische und interaktive SVG-Darstellung der simulierten Welt rendert. Sie visualisiert die Positionen und Eigenschaften von Agenten und Entitäten sowie die Beziehungen zwischen Agenten.</p>
<p><strong>Verwendung:</strong></p>
<pre><code class="language-tsx">&lt;WorldGraphComponent
    agents={/* Array von Agent-Objekten */}
    entities={/* Array von Entity-Objekten */}
    environment={/* EnvironmentState-Objekt */}
    cultures={/* Array von Culture-Objekten */}
/&gt;
</code></pre>
<p><strong>Props:</strong>
Die Komponente akzeptiert alle Eigenschaften, die in der Schnittstelle <code>WorldGraphProps</code> definiert sind. Siehe <a href="#worldgraphprops">WorldGraphProps</a> für Details.</p>
<p><strong>Funktionalität:</strong></p>
<ul>
<li><strong>Titel und Legende:</strong> Zeigt einen lokalisierten Titel (&quot;World Graph&quot;) und eine Legende für die in der Simulation vorhandenen Kulturen an, inklusive ihrer zugeordneten Farben.</li>
<li><strong>SVG-Initialisierung:</strong> Definiert eine feste Anzeigegröße (<code>svgDisplaySize</code>) für das SVG-Element und berechnet die Breite und Höhe jeder Rasterzelle (<code>cellWidth</code>, <code>cellHeight</code>) basierend auf den Umgebungsdimensionen.</li>
<li><strong>Dynamischer ViewBox:</strong> Berechnet den <code>viewBox</code>-Parameter des SVGs so, dass alle vorhandenen Agenten und Entitäten innerhalb des sichtbaren Bereichs liegen, ergänzt um ein anpassbares <code>padding</code>. Der ViewBox versucht ein 1:1-Seitenverhältnis beizubehalten und verhindert einen extremen Zoom-in, um eine Mindestgröße der Ansicht zu gewährleisten. Dies ermöglicht ein automatisches Zoomen und Schwenken auf die relevanten Bereiche der Welt.</li>
<li><strong>Gitterlinien:</strong> Zeichnet vertikale und horizontale Gitterlinien über die gesamte SVG-Leinwand, um die Zellengrenzen der simulierten Welt visuell hervorzuheben.</li>
<li><strong>Beziehungslinien:</strong><ul>
<li>Iteriert über alle Agenten und deren <code>relationships</code>-Eigenschaft, um Verbindungslinien zwischen Agenten zu zeichnen, die in einer Beziehung mit einem <code>score</code> über 20 stehen.</li>
<li>Verhindert doppelte Linien, indem verarbeitete Paare in einem <code>processedPairs</code>-Set gespeichert werden.</li>
<li>Die Linienfarbe und -opazität variieren basierend auf dem Beziehungstyp (z.B. &#39;spouse&#39; in Pink, &#39;friend&#39; in Grün, &#39;rival&#39; in Rot) und der Stärke der Beziehung (<code>opacity</code> basierend auf <code>score</code>).</li>
</ul>
</li>
<li><strong>Entitäten-Rendering:</strong><ul>
<li>Für jede <code>Entity</code> wird mittels <code>getEntityIcon</code> das passende SVG-Icon ausgewählt.</li>
<li>Die Icons werden zentral in ihrer jeweiligen Zelle platziert.</li>
<li>Ein <code>title</code>-Tag für jedes Entitäten-SVG zeigt detaillierte Informationen wie Name, Menge (für Ressourcen) und Besitzer an.</li>
<li>Entitäten-Icons erhalten eine typ-spezifische Farbe (z.B. Marktplatz gelb, Gefängnis rot, Ressourcen grün).</li>
<li>Für Entitäten, die einem Agenten gehören, wird ein farbiger Rahmen um das Icon gezeichnet, der die Kultur des besitzenden Agenten widerspiegelt.</li>
</ul>
</li>
<li><strong>Agenten-Rendering:</strong><ul>
<li>Agenten werden als <code>User</code>-Icon (wenn lebendig) oder <code>Skull</code>-Icon (wenn tot) dargestellt.</li>
<li>Die Icons sind zentral in ihrer Zelle positioniert und skalieren mit der Zellengröße.</li>
<li>Ein <code>title</code>-Tag für jeden Agenten zeigt Name, Gesundheit und Alter an.</li>
<li>Lebende Agenten, die einer Kultur zugeordnet sind, erhalten einen halbtransparenten Kreis in der Farbe ihrer Kultur.</li>
<li>Administrator-Agenten (<code>adminAgent</code>) werden farblich hervorgehoben (rot).</li>
<li>Rollen-Icons (<code>getRoleIcon</code>) werden für spezifische Agenten-Rollen (z.B. &#39;Leader&#39;, &#39;Healer&#39;) über dem Haupt-Agenten-Icon angezeigt.</li>
<li>Ein abgekürzter Name des Agenten wird unter dem Icon angezeigt.</li>
<li>Die Opazität inhaftierter Agenten (<code>imprisonedUntil</code>) wird reduziert.</li>
</ul>
</li>
<li><strong>UI-Struktur:</strong> Die gesamte Komponente ist in einem <code>div</code> mit einem dunklen Hintergrund und abgerundeten Ecken eingebettet. Das SVG-Element selbst ist in einem Container platziert, der eine maximale Höhe (<code>max-h-[70vh]</code>) und Scrollbarkeit (<code>overflow-auto</code>) ermöglicht.</li>
</ul>
<h4>WorldGraph</h4>
<p>Eine memoizierte Version der <code>WorldGraphComponent</code> Komponente.</p>
<p><strong>Verwendung:</strong>
Identisch mit <code>WorldGraphComponent</code>.</p>
<p><strong>Props:</strong>
Die Komponente akzeptiert dieselben Eigenschaften wie <code>WorldGraphComponent</code>. Siehe <a href="#worldgraphprops">WorldGraphProps</a> für Details.</p>
<p><strong>Zweck:</strong>
Diese Export-Komponente verwendet <code>React.memo</code>, um die <code>WorldGraphComponent</code> zu wrappen. Dies verhindert unnötige Neu-Renderings der Komponente, wenn sich ihre Props zwischen Render-Zyklen nicht geändert haben, wodurch die Performance der Anwendung verbessert wird.</p>

            </div>
        </div>
        </div>
        <div id="file-components-CreateObjectPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/CreateObjectPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Interfaces</h3>
<h4><code>CreateObjectPanelProps</code></h4>
<p>Definiert die Props für die <code>CreateObjectPanel</code>-Komponente.</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>onCreate</code></td>
<td align="left"><code>(type: &#39;agent&#39; | &#39;entity&#39; | &#39;action&#39;, data: any) =&gt; void</code></td>
<td align="left">Eine Callback-Funktion, die aufgerufen wird, wenn ein neues Objekt erstellt werden soll. Sie empfängt den Typ des Objekts (<code>&#39;agent&#39;</code>, <code>&#39;entity&#39;</code> oder <code>&#39;action&#39;</code>) und die entsprechenden Daten.</td>
</tr>
</tbody></table>
<h3>Funktionen</h3>
<h4><code>getRandomItem</code></h4>
<p>Wählt ein zufälliges Element aus einem gegebenen Array.</p>
<pre><code class="language-typescript">const getRandomItem = (arr: string[]) =&gt; string;
</code></pre>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>arr</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Das Array von Strings.</td>
</tr>
</tbody></table>
<p><strong>Rückgabewert:</strong>
Ein zufälliges <code>string</code>-Element aus dem Eingabearray.</p>
<h3>Komponenten</h3>
<h4><code>CreateObjectPanel</code></h4>
<p>Eine React-Komponente, die ein Formular zur Erstellung verschiedener Objekttypen (Agent, Entität, Aktion) in einem Simulationskontext bereitstellt. Sie ermöglicht die Eingabe spezifischer Eigenschaften für jeden Objekttyp, einschließlich Zufallsgenerierungsoptionen für Agenten.</p>
<p><strong>Props:</strong>
Die Komponente akzeptiert die unter <code>CreateObjectPanelProps</code> definierten Props.</p>
<p><strong>Interner Zustand:</strong></p>
<ul>
<li><code>type</code>: <code>&#39;agent&#39; \| &#39;entity&#39; \| &#39;action&#39;</code> - Der aktuell ausgewählte Typ des zu erstellenden Objekts. Standard: <code>&#39;agent&#39;</code>.</li>
<li><code>name</code>: <code>string</code> - Der Name des Objekts.</li>
<li><code>description</code>: <code>string</code> - Die Beschreibung des Objekts.</li>
<li><code>beliefs</code>: <code>string</code> - Ein JSON-String, der die Überzeugungen eines Agenten darstellt.</li>
<li><code>beliefKey</code>: <code>string</code> - Ein Schlüssel, der eine Überzeugung für Aktionen identifiziert.</li>
<li><code>genome</code>: <code>string</code> - Eine kommaseparierte Liste von Genomen für einen Agenten.</li>
<li><code>role</code>: <code>string</code> - Die Rolle eines Agenten, ausgewählt aus <code>ROLES</code>. Standard: <code>ROLES[0]</code>.</li>
<li><code>personality</code>: <code>Personality</code> - Ein Objekt, das die fünf Persönlichkeitsmerkmale eines Agenten (Offenheit, Gewissenhaftigkeit, Extraversion, Verträglichkeit, Neurotizismus) darstellt, jeweils als Wert zwischen 0 und 1.</li>
<li><code>costsStr</code>: <code>string</code> - Ein JSON-String für die Kosten einer Aktion.</li>
<li><code>statChanges</code>: <code>{ health: string; hunger: string; thirst: string; fatigue: string; stress: string; currency: string; }</code> - Ein Objekt, das die Änderungen der Statistiken einer Aktion darstellt, wobei die Werte als Strings gespeichert sind.</li>
<li><code>skillGain</code>: <code>{ skill: string; amount: string; }</code> - Ein Objekt, das den Fertigkeitsgewinn für eine Aktion darstellt, wobei der Wert als String gespeichert ist.</li>
</ul>
<p><strong>Zweck und Funktionalität:</strong></p>
<ul>
<li><strong>Objekttyp-Auswahl:</strong> Benutzer können zwischen &#39;agent&#39;, &#39;entity&#39; und &#39;action&#39; wählen, was die angezeigten Formularfelder dynamisch anpasst.</li>
<li><strong>Grundlegende Eingaben:</strong> Felder für Name und Beschreibung sind für alle Objekttypen vorhanden.</li>
<li><strong>Agenten-spezifische Felder:</strong><ul>
<li><strong>Überzeugungen (<code>beliefs</code>):</strong> Ein Textbereich für JSON-formatierte Überzeugungen. Eine Schaltfläche generiert zufällige Überzeugungen aus <code>randomData.beliefKeys</code>.</li>
<li><strong>Genome (<code>genome</code>):</strong> Ein Eingabefeld für kommaseparierte Genome. Eine Schaltfläche generiert zufällige Genome aus <code>GENOME_OPTIONS</code>.</li>
<li><strong>Rolle (<code>role</code>):</strong> Eine Auswahlliste basierend auf <code>ROLES</code>.</li>
<li><strong>Persönlichkeit (<code>personality</code>):</strong> Ein aufklappbarer Abschnitt mit Schiebereglern für fünf Persönlichkeitsmerkmale. Eine Schaltfläche &quot;Randomize Personality&quot; setzt alle Merkmale auf Zufallswerte zwischen 0 und 1.</li>
<li>Zufallsgenerierungs-Buttons für Name und Beschreibung.</li>
</ul>
</li>
<li><strong>Aktions-spezifische Felder:</strong><ul>
<li><strong>Überzeugungsschlüssel (<code>beliefKey</code>):</strong> Ein Eingabefeld, das eine Überzeugung identifiziert, mit der die Aktion verknüpft ist.</li>
<li><strong>Mechanische Effekte:</strong> Ein aufklappbarer Abschnitt für:<ul>
<li><strong>Kosten (<code>costsStr</code>):</strong> Ein Textbereich für JSON-formatierte Kosten.</li>
<li><strong>Statistikänderungen (<code>statChanges</code>):</strong> Eingabefelder für numerische Änderungen von Gesundheit, Hunger, Durst, Müdigkeit, Stress und Währung.</li>
<li><strong>Fertigkeitsgewinn (<code>skillGain</code>):</strong> Eine Auswahlliste für den zu gewinnenden Fertigkeitstyp (aus <code>SKILL_TYPES</code>) und ein Eingabefeld für den Betrag.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Formular-Validierung und -Übermittlung:</strong><ul>
<li>Beim Absenden wird das <code>data</code>-Objekt basierend auf dem ausgewählten <code>type</code> konstruiert.</li>
<li>JSON-Felder (<code>beliefs</code>, <code>costsStr</code>) werden vor der Übermittlung geparst und auf Gültigkeit geprüft.</li>
<li>Statistikänderungen und Fertigkeitsgewinne werden in numerische Werte umgewandelt und nur hinzugefügt, wenn sie gültig sind.</li>
<li>Nach erfolgreicher Übermittlung wird die <code>onCreate</code>-Prop aufgerufen und das Formular zurückgesetzt.</li>
</ul>
</li>
</ul>
<p><strong>Interne Hilfsfunktionen und Logik:</strong></p>
<ul>
<li><code>handleGenerateName()</code>: Generiert einen zufälligen Namen basierend auf <code>randomData.firstNames</code> und <code>randomData.lastNames</code>.</li>
<li><code>handleGenerateDescription()</code>: Generiert eine zufällige Beschreibung basierend auf <code>randomData.descriptors</code>, <code>randomData.agentRoles</code> und <code>randomData.hobbies</code>.</li>
<li><code>handleGenerateBeliefs()</code>: Generiert 2 bis 4 zufällige Überzeugungen mit zufälligen Werten aus <code>randomData.beliefKeys</code> und formatiert sie als JSON.</li>
<li><code>handleGenerateGenes()</code>: Wählt 1 bis 3 zufällige Genome aus <code>GENOME_OPTIONS</code> und setzt sie als kommaseparierten String.</li>
<li><code>handleRandomizePersonality()</code>: Setzt alle Persönlichkeitsmerkmale auf zufällige Float-Werte zwischen 0 und 1.</li>
<li><code>handlePersonalityChange(trait, value)</code>: Aktualisiert einen spezifischen Persönlichkeitszug, validiert den Wert auf den Bereich [0, 1].</li>
<li><code>handleStatChange(stat, value)</code>: Aktualisiert eine spezifische Statistikänderung.</li>
<li><code>resetForm()</code>: Setzt alle Formularfelder auf ihren Ursprungszustand zurück.</li>
<li><code>handleSubmit(e)</code>: Verarbeitet das Absenden des Formulars, parst und validiert die Eingaben und ruft <code>onCreate</code> auf.</li>
</ul>
<p><strong>Verwendete Konstanten und Typen (importiert):</strong></p>
<ul>
<li><code>PlusCircle</code>, <code>Dna</code>, <code>Award</code>, <code>Smile</code>, <code>Zap</code>, <code>Sparkles</code>: Icons aus <code>./IconComponents</code>.</li>
<li><code>useTranslations</code>: Ein Hook zum Laden von Übersetzungen.</li>
<li><code>GENOME_OPTIONS</code>, <code>ROLES</code>, <code>PERSONALITY_TRAITS</code>, <code>SKILL_TYPES</code>: Konstanten aus <code>../constants</code>.</li>
<li><code>Personality</code>, <code>ActionEffect</code>, <code>Skills</code>: Typdefinitionen aus <code>../types</code>.</li>
<li><code>randomData</code>: Intern definierter Satz von Daten für die Generierung zufälliger Werte.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-IconComponents-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/IconComponents.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### Beschreibung

Diese Datei exportiert eine Sammlung von React Functional Components, die jeweils ein SVG-Icon darstellen. Jede Komponente ist eine eigenständige SVG-Definition, die über `React.SVGProps&lt;SVGSVGElement&gt;` Standard-SVG-Attribute wie `width`, `height`, `stroke`, `fill`, `className` usw. dynamisch anpassen kann. Die Icons sind für die Verwendung in einer React-Anwendung konzipiert und bieten eine einfache Möglichkeit, skalierbare Vektorgrafiken einzubetten.

### Exporte

#### `BrainCircuit`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon dar, das ein Gehirn mit Schaltkreisen symbolisiert, oft verwendet für Konzepte wie künstliche Intelligenz, maschinelles Lernen oder neuronale Netzwerke.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Cpu`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon dar, das eine Central Processing Unit (CPU) oder einen Mikrochip symbolisiert, oft verwendet für Hardware, Verarbeitung oder Rechenleistung.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Zap`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Blitz-Icon dar, oft verwendet für Geschwindigkeit, Energie, Warnungen oder elektrische Ladung.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Microscope`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Mikroskop-Icon dar, oft verwendet für Forschung, Wissenschaft, Analyse oder Detailansicht.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Boxes`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Stapel von Kisten dar, oft verwendet für Inventar, Produkte, Module oder Komponenten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Code`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Code-Klammern-Icon dar, oft verwendet für Programmierung, Entwicklung, Quellcode oder API.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Play`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Wiedergabe-Icon (Dreieck) dar, oft verwendet für Mediensteuerung, Starten oder Ausführen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `RotateCcw`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon für das Rückgängigmachen oder Aktualisieren gegen den Uhrzeigersinn dar.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `FastForward`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Schneller-Vorlauf-Icon dar, oft verwendet für Mediensteuerung oder das Überspringen von Schritten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `MessageSquare`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein quadratisches Sprechblasen-Icon dar, oft verwendet für Nachrichten, Chat oder Kommentare.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Sparkles`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Glitzer- oder Funkeln-Icon dar, oft verwendet für Magie, Effekte oder KI-generierte Inhalte.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Send`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Papierflieger-Icon dar, oft verwendet für das Senden von Nachrichten oder Formularen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Share2`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon zum Teilen von Inhalten dar, mit drei verbundenen Kreisen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `BookText`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Buch-Icon mit Textzeilen dar, oft verwendet für Dokumentation, Artikel oder Lesematerial.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `PlusCircle`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Kreis-Icon mit einem Pluszeichen dar, oft verwendet zum Hinzufügen neuer Elemente oder Erweitern.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Trash2`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Mülleimer-Icon dar, oft verwendet zum Löschen oder Entfernen von Elementen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Download`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Download-Icon dar (Pfeil nach unten in Richtung einer Leiste), oft verwendet zum Herunterladen von Dateien.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Upload`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Upload-Icon dar (Pfeil nach oben von einer Leiste weg), oft verwendet zum Hochladen von Dateien.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Shield`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Schild-Icon dar, oft verwendet für Sicherheit, Schutz oder Berechtigungen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Settings`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Zahnrad-Icon dar, oft verwendet für Einstellungen, Konfiguration oder Verwaltung.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.b. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `X`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein &#39;X&#39;-Icon dar, oft verwendet zum Schließen, Abbrechen oder Entfernen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Globe`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Globus-Icon dar, oft verwendet für Internationalisierung, Webseiten oder globale Reichweite.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Users`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon dar, das mehrere Personen symbolisiert, oft verwendet für Benutzergruppen, Team oder Community.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `PlusSquare`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Quadrat-Icon mit einem Pluszeichen dar, ähnlich `PlusCircle`, aber in quadratischer Form.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Apple`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Apfel-Logo dar, oft verwendet zur Referenzierung von Apple-Produkten oder -Diensten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Droplet`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Tropfen-Icon dar, oft verwendet für Wasser, Flüssigkeit oder Farbtools.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Log`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Baumstamm- oder Holzscheit-Icon dar.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Hammer`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Hammer-Icon dar, oft verwendet für Werkzeuge, Konstruktion oder Entwicklungstools.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Home`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Haus-Icon dar, oft verwendet als Home-Button oder für Startseiten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Vote`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Abstimmungs-Icon dar, das eine Stimmkarte oder ein Abstimmsymbol impliziert.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `PanelLeft`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon für ein linkes Seitenpanel oder eine Seitenleiste dar.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `PanelRight`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon für ein rechtes Seitenpanel oder eine Seitenleiste dar.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Map`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Karten-Icon dar, oft verwendet für Navigation, Standorte oder Geodaten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `CircleDollarSign`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Icon mit einem Dollarzeichen in einem Kreis dar, oft verwendet für Finanzen, Währung oder Spenden.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Briefcase`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Aktenkoffer-Icon dar, oft verwendet für Arbeit, Karriere oder Geschäft.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `HeartPulse`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Herz-Icon mit einer Pulslinie dar, oft verwendet für Gesundheit, Vitalität oder medizinische Anwendungen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Skull`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Totenkopf-Icon dar, oft verwendet für Gefahr, Warnung oder toxische Inhalte.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `MapPin`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Standortnadel-Icon dar, oft verwendet für Orte, Adressen oder Geopositionen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Dna`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein DNA-Strang-Icon dar, oft verwendet für Biologie, Genetik oder wissenschaftliche Daten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `User`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Benutzer- oder Personen-Icon dar, oft verwendet für Profile, Konten oder Einzelpersonen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Heart`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Herz-Icon dar, oft verwendet für Favoriten, Likes oder Zuneigung.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Award`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Auszeichnung- oder Trophäen-Icon dar, oft verwendet für Erfolge, Belohnungen oder Zertifikate.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Church`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Kirchen-Icon dar, oft verwendet für religiöse Einrichtungen oder historische Orte.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `PersonStanding`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein stehendes Personen-Icon dar, oft verwendet für menschliche Figuren oder Avatare.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Baby`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Baby-Icon dar, oft verwendet für Familien, Kinder oder Geburt.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `CookingPot`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Kochtopf-Icon dar, oft verwendet für Kochen, Rezepte oder Gastronomie.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `GlassWater`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Glas mit Wasser dar, oft verwendet für Getränke, Flüssigkeiten oder Hydration.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Bed`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Bett-Icon dar, oft verwendet für Unterkünfte, Schlafzimmer oder Ruhe.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `BookOpenCheck`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein offenes Buch mit einem Häkchen dar, oft verwendet für Gelesenes, Abgeschlossenes oder Verifizierung in Lernkontexten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Gavel`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Richterhammer-Icon dar, oft verwendet für Recht, Gerechtigkeit oder Auktionen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `ClipboardList`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Klemmbrett mit einer Liste dar, oft verwendet für Aufgabenlisten, Berichte oder Notizen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.b. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `TrendingUp`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Diagramm mit einem aufsteigenden Trend dar, oft verwendet für Wachstum, Statistiken oder positive Entwicklungen.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `ShieldAlert`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Schild mit einem Ausrufezeichen dar, oft verwendet für Sicherheitswarnungen oder wichtige Hinweise.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Smile`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein lächelndes Gesicht (Emoji) dar, oft verwendet für positive Rückmeldungen, Zufriedenheit oder Emoticons.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Activity`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt eine Zick-Zack-Linie dar, die Aktivität oder einen Herzschlag symbolisiert, oft verwendet für Status, Überwachung oder Dynamik.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `FlaskConical`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt eine konische Flasche (Erlenmeyerkolben) dar, oft verwendet für Experimente, Chemie oder wissenschaftliche Konzepte.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `BarChart2`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Balkendiagramm dar, oft verwendet für Statistiken, Datenanalyse oder Berichte.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `History`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt eine Uhr mit einem rückwärts gerichteten Pfeil dar, oft verwendet für Verlauf, Chronologie oder jüngste Aktivitäten.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.

#### `Notebook`

*   **Typ**: `React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt;`
*   **Zweck**: Stellt ein Notizbuch-Icon dar, oft verwendet für Notizen, Tagebücher oder Dokumente.
*   **Props**:
    *   Erbt alle Standard-SVG-Eigenschaften (`React.SVGProps&lt;SVGSVGElement&gt;`), die auf das `&lt;svg&gt;`-Element angewendet werden, z.B. `width`, `height`, `fill`, `stroke`, `strokeWidth`, `className`, `onClick` etc.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-components-ExporterPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/ExporterPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h2>Typ-Definitionen</h2>
<h3><code>ExporterPanelProps</code></h3>
<p>Definiert die Props für die <code>ExporterPanel</code>-Komponente.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>onExport</code></td>
<td align="left"><code>(type: &#39;environment&#39; | &#39;agents&#39; | &#39;entities&#39; | &#39;all&#39;) =&gt; void</code></td>
<td align="left">Eine Callback-Funktion, die aufgerufen wird, wenn eine spezifische oder alle Daten exportiert werden sollen. Der <code>type</code> Parameter gibt an, welche Daten exportiert werden sollen.</td>
</tr>
<tr>
<td align="left"><code>onLoad</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Eine Callback-Funktion, die aufgerufen wird, wenn alle Anwendungsdaten geladen werden sollen.</td>
</tr>
<tr>
<td align="left"><code>onExportConversations</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Eine Callback-Funktion, die aufgerufen wird, wenn die Konversationsdaten exportiert werden sollen.</td>
</tr>
<tr>
<td align="left"><code>onExportStatistics</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Eine Callback-Funktion, die aufgerufen wird, wenn die Statistikdaten exportiert werden sollen.</td>
</tr>
</tbody></table>
<hr>
<h2>Komponenten</h2>
<h3><code>ExporterPanel</code></h3>
<p>Eine React-Funktionskomponente, die ein Bedienfeld für den Import und Export von Anwendungsdaten bereitstellt. Es bietet Optionen zum Speichern und Laden des gesamten Zustands sowie zum Exportieren spezifischer Komponenten wie Umgebung, Agenten, Entitäten, Konversationen und Statistiken.</p>
<h4>Props</h4>
<p>Die Komponente akzeptiert die unter <code>ExporterPanelProps</code> definierten Props.</p>
<h4>Zweck</h4>
<p>Das <code>ExporterPanel</code> dient als zentrale Schnittstelle für Benutzer, um den Zustand der Anwendung zu verwalten. Es ermöglicht:</p>
<ul>
<li><strong>Speichern des gesamten Zustands</strong>: Exportiert alle konfigurierten Daten (<code>environment</code>, <code>agents</code>, <code>entities</code>).</li>
<li><strong>Laden des gesamten Zustands</strong>: Importiert zuvor gespeicherte Daten, um den Anwendungszustand wiederherzustellen.</li>
<li><strong>Export von Konversationen</strong>: Speichert historische Konversationsdaten.</li>
<li><strong>Export von Statistiken</strong>: Speichert Leistungs- oder Nutzungsstatistiken.</li>
<li><strong>Erweiterte Exportoptionen</strong>: Über einen aufklappbaren Bereich können spezifische Datenbereiche wie Umgebung, Agenten oder Entitäten einzeln exportiert werden.</li>
</ul>
<p>Die Komponente nutzt das <code>useTranslations</code>-Hook zur Internationalisierung der angezeigten Texte und ist mit Tailwind CSS für das Styling versehen.</p>

            </div>
        </div>
        </div>
        <div id="file-components-AdminPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/AdminPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>AdminPanelProps</code></h3>
<p>Definiert die Props, die an die <code>AdminPanel</code>-Komponente übergeben werden können.</p>
<table>
<thead>
<tr>
<th align="left">Property Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>environment</code></td>
<td align="left"><code>EnvironmentState</code></td>
<td align="left">Der aktuelle Zustand der Umgebung, der durch das Panel manipuliert werden kann.</td>
</tr>
<tr>
<td align="left"><code>actions</code></td>
<td align="left"><code>Action[]</code></td>
<td align="left">Eine Liste aller verfügbaren Aktionen im System.</td>
</tr>
<tr>
<td align="left"><code>agents</code></td>
<td align="left"><code>Agent[]</code></td>
<td align="left">Eine Liste aller Agenten im System.</td>
</tr>
<tr>
<td align="left"><code>government</code></td>
<td align="left"><code>any</code></td>
<td align="left">Das Regierungsobjekt. Aktuell als <code>any</code> vereinfacht für Prop-Drilling, enthält typischerweise Gesetze (<code>laws</code>) und einen Anführer (<code>leaderId</code>).</td>
</tr>
<tr>
<td align="left"><code>cultures</code></td>
<td align="left"><code>Culture[]</code></td>
<td align="left">Eine Liste aller Kulturen im System, relevant für die Technologieverwaltung.</td>
</tr>
<tr>
<td align="left"><code>techTree</code></td>
<td align="left"><code>Technology[]</code></td>
<td align="left">Der vollständige Technologiebaum des Systems.</td>
</tr>
<tr>
<td align="left"><code>onUpdateEnvironment</code></td>
<td align="left"><code>(newEnvironment: EnvironmentState) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Aktualisieren des Umgebungszustands.</td>
</tr>
<tr>
<td align="left"><code>onCreateAction</code></td>
<td align="left"><code>(data: { name: string; description: string; beliefKey?: string }) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Erstellen einer neuen Aktion.</td>
</tr>
<tr>
<td align="left"><code>onDeleteAction</code></td>
<td align="left"><code>(name: string) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Löschen einer vorhandenen Aktion.</td>
</tr>
<tr>
<td align="left"><code>onSetAgentHealth</code></td>
<td align="left"><code>(agentId: string, health: number) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Festlegen der Gesundheit eines spezifischen Agenten.</td>
</tr>
<tr>
<td align="left"><code>onSetAgentCurrency</code></td>
<td align="left"><code>(agentId: string, currency: number) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Festlegen der Währung eines spezifischen Agenten.</td>
</tr>
<tr>
<td align="left"><code>onInflictSickness</code></td>
<td align="left"><code>(agentId: string, sickness: string | null) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Verursachen oder Entfernen einer Krankheit bei einem Agenten.</td>
</tr>
<tr>
<td align="left"><code>onResurrectAgent</code></td>
<td align="left"><code>(agentId: string) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Wiederbeleben eines Agenten.</td>
</tr>
<tr>
<td align="left"><code>onSetAgentPosition</code></td>
<td align="left"><code>(agentId: string, x: number, y: number) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Festlegen der Position eines Agenten.</td>
</tr>
<tr>
<td align="left"><code>onImprisonAgent</code></td>
<td align="left"><code>(agentId: string, duration: number) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Inhaftieren eines Agenten für eine bestimmte Dauer.</td>
</tr>
<tr>
<td align="left"><code>onEnactLaw</code></td>
<td align="left"><code>(law: Law) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Erlassen eines neuen Gesetzes. Das <code>Law</code>-Objekt hat die Struktur <code>{ id: string; name: string; description: string; violatingAction: string; punishment: { type: &#39;fine&#39;; amount: number; } }</code>.</td>
</tr>
<tr>
<td align="left"><code>onRepealLaw</code></td>
<td align="left"><code>(lawId: string) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Aufheben eines Gesetzes anhand seiner ID.</td>
</tr>
<tr>
<td align="left"><code>onStartElection</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback-Funktion zum Starten eines Wahlprozesses.</td>
</tr>
<tr>
<td align="left"><code>onSetLeader</code></td>
<td align="left"><code>(agentId: string) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Festlegen eines Agenten als Anführer.</td>
</tr>
<tr>
<td align="left"><code>onUnlockTech</code></td>
<td align="left"><code>(cultureId: string, techId: string) =&gt; void</code></td>
<td align="left">Callback-Funktion zum Freischalten einer Technologie für eine bestimmte Kultur.</td>
</tr>
</tbody></table>
<h3><code>AdminPanel</code></h3>
<p>Die <code>AdminPanel</code>-Komponente ist eine React Functional Component, die eine Benutzeroberfläche zur administrativen Steuerung und Manipulation des Simulationszustands bietet. Sie dient als Debugging- und Entwicklungstool, um verschiedene Aspekte der Welt, Agenten und politischen Systeme direkt zu beeinflussen.</p>
<p><strong>Zweck:</strong></p>
<ul>
<li><strong>Agentenmanagement:</strong> Ermöglicht die Anpassung von Agenteneigenschaften wie Gesundheit, Währung, Position, das Verursachen von Krankheiten, das Inhaftieren oder Wiederbeleben von Agenten.</li>
<li><strong>Politisches Management:</strong> Bietet Funktionen zur Verwaltung von Regierungsaspekten, einschliesslich der Ernennung eines Anführers, der Initiierung von Wahlen sowie dem Erlassen und Aufheben von Gesetzen.</li>
<li><strong>Technologie-Management:</strong> Ermöglicht das Freischalten von Technologien für verschiedene Kulturen.</li>
<li><strong>Erweiterbarkeit:</strong> Enthält Platzhalter für zukünftige Funktionen wie einen Weltregel-Editor oder einen Aktionseditor.</li>
</ul>
<p><strong>Interne Zustandsverwaltung:</strong></p>
<p>Die Komponente verwendet den <code>useState</code>-Hook, um Eingabewerte für Agenteneigenschaften (Gesundheit, Währung, Position, Krankheit, Inhaftierungsdauer), den ausgewählten Anführer sowie neue Gesetzesdetails zu verwalten. Diese Zustände werden beim Initialisieren der Komponente oder bei Änderungen der übergebenen <code>environment</code>-, <code>agents</code>- oder <code>government</code>-Props mittels <code>useEffect</code> synchronisiert.</p>
<p><strong>Lokalisierung:</strong></p>
<p>Die Komponente nutzt den <code>useTranslations</code>-Hook, um alle Textelemente zu lokalisieren und eine mehrsprachige Benutzeroberfläche zu ermöglichen.</p>
<p><strong>Styling:</strong></p>
<p>Das Panel ist mit Tailwind CSS gestylt, was sich in den Klassennamen wie <code>bg-slate-850</code>, <code>p-4</code>, <code>rounded-lg</code>, <code>border-red-500/30</code> etc. widerspiegelt.</p>

            </div>
        </div>
        </div>
        <div id="file-contexts-LanguageContext-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> contexts/LanguageContext.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Typen</h3>
<h4><code>Language</code></h4>
<p>Definiert die erlaubten Werte für die unterstützten Sprachen.</p>
<pre><code class="language-typescript">export type Language = &#39;en&#39; | &#39;de&#39;;
</code></pre>
<p><strong>Mögliche Werte:</strong></p>
<ul>
<li><code>&#39;en&#39;</code>: Englisch</li>
<li><code>&#39;de&#39;</code>: Deutsch</li>
</ul>
<h3>Interfaces</h3>
<h4><code>LanguageContextType</code></h4>
<p>Definiert die Struktur des Objekts, das vom <code>LanguageContext</code> bereitgestellt wird.</p>
<pre><code class="language-typescript">interface LanguageContextType {
    language: Language;
    setLanguage: (language: Language) =&gt; void;
}
</code></pre>
<p><strong>Eigenschaften:</strong></p>
<ul>
<li><code>language</code>: <code>Language</code><ul>
<li>Die aktuell ausgewählte Sprache.</li>
</ul>
</li>
<li><code>setLanguage</code>: <code>(language: Language) =&gt; void</code><ul>
<li>Eine Funktion, die verwendet wird, um die aktuelle Sprache zu aktualisieren. Nimmt einen Wert vom Typ <code>Language</code> entgegen und gibt nichts zurück.</li>
</ul>
</li>
</ul>
<h3>Komponenten</h3>
<h4><code>LanguageProvider</code></h4>
<p>Ein React-Komponente, die den <code>LanguageContext</code> für ihre Kinderelemente bereitstellt. Sie verwaltet den Zustand der aktuellen Sprache und stellt eine Funktion zum Ändern dieser Sprache bereit.</p>
<pre><code class="language-tsx">export const LanguageProvider: React.FC&lt;{ children: ReactNode }&gt;
</code></pre>
<p><strong>Zweck:</strong>
Diese Komponente umschließt andere Komponenten, die Zugriff auf die Sprachinformationen und die Möglichkeit zur Sprachänderung benötigen. Sie initialisiert die Sprache standardmäßig auf Deutsch (<code>&#39;de&#39;</code>).</p>
<p><strong>Props:</strong></p>
<ul>
<li><code>children</code>: <code>ReactNode</code><ul>
<li>Die React-Elemente, die innerhalb des Providers gerendert werden sollen. Alle diese Kinderelemente (und deren Nachkommen) haben Zugriff auf den bereitgestellten Kontext.</li>
</ul>
</li>
</ul>
<h3>Hooks</h3>
<h4><code>useLanguage</code></h4>
<p>Ein benutzerdefinierter React Hook, der den <code>LanguageContext</code> konsumiert und den aktuellen Sprachzustand sowie die Funktion zur Sprachänderung zurückgibt.</p>
<pre><code class="language-typescript">export const useLanguage = (): LanguageContextType =&gt;
</code></pre>
<p><strong>Zweck:</strong>
Ermöglicht es Funktionellen Komponenten, auf die im <code>LanguageContext</code> gespeicherten Sprachinformationen zuzugreifen und die Sprache zu ändern, ohne den <code>useContext</code>-Hook direkt importieren und verwenden zu müssen.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li>Keine</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>LanguageContextType</code><ul>
<li>Ein Objekt, das die aktuelle Sprache (<code>language</code>) und eine Funktion zum Ändern der Sprache (<code>setLanguage</code>) enthält.</li>
</ul>
</li>
</ul>
<p><strong>Fehlerbehandlung:</strong></p>
<ul>
<li>Wirft einen <code>Error</code>, wenn <code>useLanguage</code> außerhalb einer <code>LanguageProvider</code>-Komponente aufgerufen wird, da der Kontext dann <code>undefined</code> wäre.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-hooks-useTranslations-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> hooks/useTranslations.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Hook: <code>useTranslations</code></h3>
<p>Ein React-Hook, der eine Funktion zur Lokalisierung von Zeichenketten (Übersetzungen) basierend auf der aktuell ausgewählten Sprache bereitstellt.</p>
<h4>Zweck</h4>
<p>Der <code>useTranslations</code>-Hook ermöglicht es Komponenten, übersetzte Texte abzurufen und diese mit dynamischen Parametern zu füllen. Er integriert sich mit dem <code>LanguageContext</code>, um die aktuelle Sprache zu ermitteln, und bietet Fallback-Mechanismen, falls eine Übersetzung in der aktuellen Sprache oder in Englisch nicht verfügbar ist.</p>
<h4>Rückgabewert</h4>
<p>Der Hook gibt eine memoizierte Funktion <code>t</code> zurück.</p>
<pre><code class="language-typescript">type tFunction = (key: TranslationKey, params?: { [key: string]: string | number | undefined }) =&gt; string;
</code></pre>
<h4>Die Funktion <code>t</code></h4>
<p>Die zurückgegebene Funktion <code>t</code> dient dazu, eine Übersetzung abzurufen und Parameter in den Übersetzungsstring einzufügen.</p>
<h5>Parameter</h5>
<ul>
<li><code>key</code>: <code>TranslationKey</code><ul>
<li><strong>Beschreibung</strong>: Der Schlüssel, der die gewünschte Übersetzungszeichenkette eindeutig identifiziert. Dieser Typ wird aus <code>../translations</code> importiert und definiert die gültigen Schlüssel für die verfügbaren Übersetzungen.</li>
<li><strong>Typ</strong>: <code>TranslationKey</code> (importierter Typ)</li>
</ul>
</li>
<li><code>params</code>: <code>object</code> (optional)<ul>
<li><strong>Beschreibung</strong>: Ein optionales Objekt, das Platzhalter und deren Werte für die Ersetzung in der Übersetzungszeichenkette enthält. Wenn ein Platzhalter wie <code>{placeholderName}</code> in der Übersetzungszeichenkette gefunden wird, wird er durch den entsprechenden Wert aus diesem Objekt ersetzt. Platzhalter, deren Werte <code>undefined</code> sind, werden nicht ersetzt.</li>
<li><strong>Typ</strong>: <code>{ [key: string]: string | number | undefined }</code></li>
<li><strong>Standardwert</strong>: <code>{}</code> (leeres Objekt)</li>
</ul>
</li>
</ul>
<h5>Rückgabewert</h5>
<ul>
<li><code>string</code><ul>
<li><strong>Beschreibung</strong>: Die übersetzte Zeichenkette, optional mit ersetzten Parametern.</li>
</ul>
</li>
</ul>
<h5>Interner Ablauf</h5>
<ol>
<li><strong>Spracherkennung</strong>: Die aktuelle Sprache wird über den <code>useLanguage</code>-Hook aus dem <code>LanguageContext</code> abgerufen.</li>
<li><strong>Übersetzungsabruf und Fallback</strong>:<ul>
<li>Zuerst wird versucht, die Übersetzung für den gegebenen <code>key</code> in der <code>aktuellen Sprache</code> (<code>translations[language][key]</code>) zu finden.</li>
<li>Sollte dies fehlschlagen (z.B. der Schlüssel existiert in dieser Sprache nicht), wird auf die <code>englische</code> Übersetzung (<code>translations.en[key]</code>) zurückgegriffen.</li>
<li>Sollte auch die englische Übersetzung nicht gefunden werden, wird der <code>key</code> selbst als Fallback-Wert zurückgegeben, um anzuzeigen, dass keine passende Übersetzung gefunden wurde.</li>
</ul>
</li>
<li><strong>Parametereinsetzung</strong>:<ul>
<li>Die abgerufene Übersetzungszeichenkette wird nach Platzhaltern im Format <code>{paramName}</code> durchsucht.</li>
<li>Für jeden Platzhalter, dessen Name als Schlüssel im <code>params</code>-Objekt vorhanden ist und dessen Wert nicht <code>undefined</code> ist, wird der Platzhalter durch den entsprechenden Wert ersetzt. Nicht-String-Werte (z.B. Zahlen) werden vor der Ersetzung in Strings konvertiert.</li>
</ul>
</li>
<li><strong>Memoization</strong>: Die Funktion <code>t</code> wird mit <code>useCallback</code> memoisiert. Sie wird nur neu erstellt, wenn sich die <code>language</code> ändert, was unnötige Re-Renders von Komponenten verhindert, die diese Funktion nutzen.</li>
</ol>
<h4>Abhängigkeiten</h4>
<ul>
<li><code>useCallback</code> von <code>react</code>: Für die Memoization der <code>t</code>-Funktion.</li>
<li><code>useLanguage</code> von <code>../contexts/LanguageContext</code>: Zum Abrufen der aktuellen Anwendungssprache.</li>
<li><code>translations</code> von <code>../translations</code>: Das Objekt, das alle Übersetzungsdaten für verschiedene Sprachen enthält.</li>
<li><code>TranslationKey</code> von <code>../translations</code>: Ein Typ, der die zulässigen Schlüssel für Übersetzungen definiert.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-translations-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> translations.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>translations</code> Constant Object</h3>
<p>Die <code>translations</code> Konstante ist ein zentrales Objekt, das lokalisierte Zeichenketten für verschiedene Sprachen in der Anwendung bereitstellt. Es dient als Quelle für alle textbasierten UI-Elemente, Meldungen und Beschreibungen.</p>
<p><strong>Struktur:</strong></p>
<p>Das Objekt ist nach Sprachcodes (z.B. <code>en</code> für Englisch, <code>de</code> für Deutsch) organisiert. Jede Sprachsektion enthält eine Sammlung von Schlüssel-Wert-Paaren, wobei der Schlüssel die eindeutige ID der Zeichenkette und der Wert die lokalisierte Zeichenkette selbst ist. Viele Zeichenketten unterstützen Platzhalter (z.B. <code>{agentName}</code>, <code>{amount}</code>), die zur Laufzeit durch dynamische Daten ersetzt werden.</p>
<p><strong>Zweck:</strong></p>
<ul>
<li><strong>Internationalisierung (i18n):</strong> Ermöglicht die einfache Anpassung der Benutzeroberfläche an verschiedene Sprachen.</li>
<li><strong>Zentrale Verwaltung:</strong> Bündelt alle statischen Texte an einem Ort, was die Wartung und Übersetzung erleichtert.</li>
<li><strong>Konsistenz:</strong> Stellt sicher, dass die gleichen Begriffe und Formulierungen an verschiedenen Stellen der Anwendung konsistent verwendet werden.</li>
</ul>
<p><strong>Kategorien der Übersetzungen (Beispiele):</strong></p>
<p>Die Schlüssel sind oft nach den Bereichen der Anwendung gruppiert, in denen sie verwendet werden, wie durch die Kommentare im Quellcode angedeutet:</p>
<ul>
<li><strong><code>App.tsx</code></strong>: Allgemeine UI-Elemente und Navigationsbeschriftungen (<code>realitySimAI</code>, <code>agents</code>, <code>environment</code>).</li>
<li><strong><code>Logs</code></strong>: System- und Simulationsereignisprotokolle (<code>log_simulationInitialized</code>, <code>log_aiSuggestedAction</code>, <code>error_lmStudio_cors</code>).</li>
<li><strong><code>Settings</code></strong>: Konfigurationsoptionen für KI-Anbieter und andere App-Einstellungen (<code>settings_title</code>, <code>settings_lmStudioUrl_label</code>).</li>
<li><strong>Modals (<code>GenerateWorldModal</code>, <code>GenerateContentModal</code>)</strong>: Beschriftungen und Beschreibungen für Pop-up-Fenster zur Welt- und Inhaltserstellung (<code>generateWorldModal_title</code>, <code>generateContent_addAgents</code>).</li>
<li><strong><code>AgentCard.tsx</code></strong>: Detaillierte Informationen und Interaktionsbeschriftungen für individuelle Agenten (<code>agentCard_statusAndNeeds</code>, <code>agentCard_promptPlaceholder</code>, <code>agentCard_health</code>).</li>
<li><strong><code>Psychoanalysis</code></strong>: Beschriftungen für psychologische Profile und Berichte (<code>psychoanalysis_title</code>, <code>report_psychodynamik</code>).</li>
<li><strong><code>Genes</code></strong>: Namen und Beschreibungen genetischer Merkmale (<code>gene_G-RESISTANT</code>, <code>gene_desc_G-AGILE</code>).</li>
<li><strong><code>Resource &amp; Item Types</code></strong>: Bezeichnungen für Ressourcen und Gegenstände im Spiel (<code>resource_food</code>, <code>item_sword</code>).</li>
<li><strong><code>Relationship Types</code></strong>: Arten von Beziehungen zwischen Agenten (<code>relationship_friend</code>, <code>relationship_spouse</code>).</li>
<li><strong><code>Life Stages &amp; Roles</code></strong>: Lebensphasen und Berufsrollen von Agenten (<code>lifeStage_adult</code>, <code>role_worker</code>).</li>
<li><strong><code>ControlPanel.tsx</code></strong>: Schaltflächen und Beschriftungen für die Simulationssteuerung (<code>controlPanel_step</code>, <code>controlPanel_run</code>).</li>
<li><strong><code>CreateObjectPanel.tsx</code></strong>: UI-Elemente zur Erstellung neuer Agenten, Entitäten oder Aktionen (<code>create_agent</code>, <code>create_name</code>, <code>create_invalidJson</code>).</li>
<li><strong><code>AdminPanel.tsx</code></strong>: Steuerelemente und Beschriftungen für administrative Aufgaben und Manipulationen der Simulation (<code>admin_title</code>, <code>admin_setLeader</code>, <code>admin_imprison</code>).</li>
<li><strong><code>Action Logs</code></strong>: Spezifische Meldungen, die ausgegeben werden, wenn Agenten Aktionen ausführen oder bestimmte Ereignisse eintreten (<code>log_action_eat</code>, <code>log_action_fight</code>, <code>log_law_violation</code>). Diese sind besonders detailliert und oft mit Platzhaltern versehen.</li>
<li><strong>Eigenschaften von Agenten</strong>: Beschriftungen für Persönlichkeitsmerkmale, Psyche, Emotionen, Fähigkeiten, Ziele und Technologien (<code>personality_openness</code>, <code>psyche_empathy</code>, <code>skill_healing</code>, <code>goal_becomeLeader</code>, <code>tech_agriculture</code>).</li>
</ul>
<h3><code>TranslationKey</code> Type</h3>
<p><code>TranslationKey</code> ist ein TypeScript-Typ-Alias, der die Typsicherheit beim Zugriff auf Übersetzungszeichenketten gewährleistet.</p>
<p><strong>Definition:</strong></p>
<pre><code class="language-typescript">type TranslationKey = keyof typeof translations.en;
</code></pre>
<p><strong>Zweck:</strong></p>
<p>Dieser Typ repräsentiert eine Union aller gültigen Schlüssel, die im englischen (<code>en</code>) Sprachobjekt der <code>translations</code>-Konstante definiert sind. Das bedeutet, dass jede Variable oder jeder Parameter, der vom Typ <code>TranslationKey</code> ist, eine der Zeichenketten wie <code>&#39;realitySimAI&#39;</code>, <code>&#39;agents&#39;</code>, <code>&#39;log_simulationInitialized&#39;</code> usw. sein muss.</p>
<p><strong>Vorteile:</strong></p>
<ul>
<li><strong>Typsicherheit:</strong> Verhindert Tippfehler und die Verwendung nicht existierender Übersetzungsschlüssel zur Kompilierungszeit.</li>
<li><strong>Autovervollständigung:</strong> Moderne Entwicklungsumgebungen können beim Schreiben von Code, der <code>TranslationKey</code> verwendet, eine Liste der verfügbaren Schlüssel vorschlagen.</li>
<li><strong>Refaktorierungssicherheit:</strong> Wenn ein Übersetzungsschlüssel im <code>translations</code>-Objekt umbenannt oder entfernt wird, führt dies zu einem Fehler zur Kompilierungszeit anstatt zu einem Laufzeitfehler.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-LanguageSwitcher-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/LanguageSwitcher.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>LanguageSwitcher</code> Komponente</h3>
<p>Eine React-Funktionskomponente, die einen Schalter für die Sprachumschaltung bereitstellt.</p>
<h4>Zweck</h4>
<p>Diese Komponente rendert einen anklickbaren Button, der es dem Benutzer ermöglicht, die Anwendungssprache zwischen Deutsch (&#39;de&#39;) und Englisch (&#39;en&#39;) umzuschalten. Der aktuelle Sprachstatus und die Funktion zum Ändern der Sprache werden aus dem <code>LanguageContext</code> bezogen.</p>
<h4>Props</h4>
<p>Diese Komponente akzeptiert keine Props. Sie verwaltet ihren Zustand und ihre Funktionalität ausschließlich über den <code>LanguageContext</code>.</p>
<h4>Interne Hooks und Funktionen</h4>
<h5><code>useLanguage()</code></h5>
<p>Dieser Hook wird aus <code>../contexts/LanguageContext</code> importiert und verwendet, um den aktuellen Sprachstatus (<code>language</code>) und die Funktion zum Aktualisieren der Sprache (<code>setLanguage</code>) abzurufen.</p>
<h5><code>toggleLanguage()</code></h5>
<p>Eine interne Callback-Funktion, die aufgerufen wird, wenn der <code>LanguageSwitcher</code>-Button geklickt wird.</p>
<ul>
<li><strong>Zweck:</strong> Umschalten der aktuellen Sprache. Wenn die aktuelle Sprache &#39;de&#39; ist, wird sie auf &#39;en&#39; gesetzt; andernfalls wird sie auf &#39;de&#39; gesetzt. Die Aktualisierung erfolgt über die <code>setLanguage</code>-Funktion aus dem <code>LanguageContext</code>.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>void</code>.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-ProcessingIndicator-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/ProcessingIndicator.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Interfaces</h3>
<h4><code>ProcessingIndicatorProps</code></h4>
<p>Definiert die Eigenschaften, die an die <code>ProcessingIndicator</code>-Komponente übergeben werden können.</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isOpen</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Steuert die Sichtbarkeit des Indicators. Wenn <code>true</code>, wird der Indicator angezeigt; andernfalls wird er ausgeblendet.</td>
</tr>
</tbody></table>
<h3>Komponenten</h3>
<h4><code>ProcessingIndicator</code></h4>
<p>Eine React-Funktionskomponente, die eine Vollbild-Overlay-Anzeige für einen Verarbeitungsschritt darstellt. Sie zeigt ein animiertes Symbol und einen Text an, um dem Benutzer mitzuteilen, dass ein Vorgang läuft.</p>
<p><strong>Verwendung:</strong></p>
<pre><code class="language-tsx">import { ProcessingIndicator } from &#39;./components/ProcessingIndicator&#39;;

function MyComponent() {
  const [isProcessing, setIsProcessing] = React.useState(false);

  // ... Logik, die isProcessing auf true setzt, wenn ein Vorgang beginnt
  // ... und auf false, wenn der Vorgang abgeschlossen ist

  return (
    &lt;div&gt;
      {/* Andere Inhalte */}
      &lt;ProcessingIndicator isOpen={isProcessing} /&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p><strong>Props:</strong></p>
<p>Diese Komponente akzeptiert die unter <code>ProcessingIndicatorProps</code> definierten Eigenschaften.</p>
<ul>
<li><code>isOpen</code>: <code>boolean</code><ul>
<li>Wenn <code>true</code>, wird die Vollbild-Overlay-Anzeige mit dem Verarbeitungsindikator dargestellt.</li>
<li>Wenn <code>false</code>, wird die Komponente <code>null</code> gerendert und ist somit nicht sichtbar.</li>
</ul>
</li>
</ul>
<p><strong>Funktionalität:</strong></p>
<ul>
<li><strong>Sichtbarkeitssteuerung:</strong> Die Komponente wird nur gerendert, wenn die <code>isOpen</code>-Prop <code>true</code> ist.</li>
<li><strong>Overlay-Design:</strong> Erstellt ein fest positioniertes Vollbild-Overlay mit einem leicht transparenten, unscharfen Hintergrund (<code>bg-slate-900/80 backdrop-blur-sm</code>).</li>
<li><strong>Z-Index:</strong> Verwendet einen hohen <code>z-50</code>-Z-Index, um sicherzustellen, dass das Overlay über den meisten anderen Inhalten liegt.</li>
<li><strong>Zentrierte Inhalte:</strong> Die Inhalte (Icon und Text) sind mithilfe von Flexbox (<code>flex flex-col items-center justify-center</code>) vertikal und horizontal zentriert.</li>
<li><strong>Visuelles Feedback:</strong> Zeigt ein <code>BrainCircuit</code>-Icon und einen Text an, die beide eine Pulsationsanimation (<code>animate-pulse</code>) aufweisen, um Aktivität zu signalisieren.</li>
<li><strong>Internationalisierung:</strong> Nutzt den <code>useTranslations</code>-Hook, um den Anzeigetext (<code>processingSteps</code>) in der konfigurierten Sprache abzurufen.</li>
<li><strong>Barrierefreiheit (ARIA):</strong> Enthält ARIA-Attribute (<code>role=&quot;status&quot;</code>, <code>aria-live=&quot;polite&quot;</code>) für Screenreader, um den Status des laufenden Prozesses zugänglich zu machen. Das <code>status</code>-Role und <code>aria-live=&quot;polite&quot;</code> weisen Assistenztechnologien an, Änderungen im Inhalt dieser Region zu benachrichtigen, sobald sie bereit sind, ohne den Benutzer sofort zu unterbrechen.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-contexts-SettingsContext-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> contexts/SettingsContext.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Konstanten</h3>
<h4><code>SETTINGS_KEY</code></h4>
<ul>
<li><strong>Beschreibung</strong>: Ein String-Konstante, die als Schlüssel für die Speicherung der Anwendungseinstellungen im <code>localStorage</code> verwendet wird.</li>
<li><strong>Wert</strong>: <code>&#39;realitysim_settings&#39;</code></li>
</ul>
<h3>Interfaces</h3>
<h4><code>Settings</code></h4>
<ul>
<li><strong>Beschreibung</strong>: Definiert die Struktur der Anwendungseinstellungen, die verschiedene KI-Anbieter und deren spezifische Konfigurationen umfassen.</li>
<li><strong>Properties</strong>:<ul>
<li><code>provider</code>:<ul>
<li><strong>Typ</strong>: <code>&#39;lm_studio&#39; | &#39;gemini&#39;</code></li>
<li><strong>Beschreibung</strong>: Gibt den aktuell ausgewählten KI-Dienstanbieter an.</li>
</ul>
</li>
<li><code>lmStudioUrl</code>:<ul>
<li><strong>Typ</strong>: <code>string</code></li>
<li><strong>Beschreibung</strong>: Die URL für den LM Studio-Server. Relevant, wenn <code>provider</code> auf <code>&#39;lm_studio&#39;</code> gesetzt ist.</li>
</ul>
</li>
<li><code>lmStudioModel</code>:<ul>
<li><strong>Typ</strong>: <code>string</code></li>
<li><strong>Beschreibung</strong>: Der Bezeichner des Sprachmodells, das mit LM Studio verwendet werden soll. Relevant, wenn <code>provider</code> auf <code>&#39;lm_studio&#39;</code> gesetzt ist.</li>
</ul>
</li>
<li><code>lmStudioEmbeddingModel</code>:<ul>
<li><strong>Typ</strong>: <code>string</code></li>
<li><strong>Beschreibung</strong>: Der Bezeichner des Embedding-Modells, das mit LM Studio verwendet werden soll. Relevant, wenn <code>provider</code> auf <code>&#39;lm_studio&#39;</code> gesetzt ist.</li>
</ul>
</li>
<li><code>geminiModel</code>:<ul>
<li><strong>Typ</strong>: <code>string</code></li>
<li><strong>Beschreibung</strong>: Der Bezeichner des Sprachmodells, das mit Google Gemini verwendet werden soll. Relevant, wenn <code>provider</code> auf <code>&#39;gemini&#39;</code> gesetzt ist.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>SettingsContextType</code></h4>
<ul>
<li><strong>Beschreibung</strong>: Definiert die Form des Objekts, das vom <code>SettingsContext</code> bereitgestellt wird. Es enthält die aktuellen Einstellungen und eine Funktion zu deren Aktualisierung.</li>
<li><strong>Properties</strong>:<ul>
<li><code>settings</code>:<ul>
<li><strong>Typ</strong>: <code>Settings</code></li>
<li><strong>Beschreibung</strong>: Das aktuelle <code>Settings</code>-Objekt, das alle konfigurierten Anwendungs-Einstellungen enthält.</li>
</ul>
</li>
<li><code>setSettings</code>:<ul>
<li><strong>Typ</strong>: <code>(settings: Settings) =&gt; void</code></li>
<li><strong>Beschreibung</strong>: Eine Funktion, die verwendet wird, um die Anwendungs-Einstellungen zu aktualisieren. Sie erwartet ein <code>Settings</code>-Objekt als Parameter.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Komponenten</h3>
<h4><code>SettingsProvider</code></h4>
<ul>
<li><strong>Beschreibung</strong>: Ein React Context Provider, der die Anwendungs-Einstellungen (<code>Settings</code>) und eine Funktion zum Aktualisieren dieser Einstellungen (<code>setSettings</code>) für alle Kind-Komponenten bereitstellt. Die Einstellungen werden beim Laden aus dem <code>localStorage</code> initialisiert und bei jeder Aktualisierung dort gespeichert.</li>
<li><strong>Props</strong>:<ul>
<li><code>children</code>:<ul>
<li><strong>Typ</strong>: <code>ReactNode</code></li>
<li><strong>Beschreibung</strong>: Die React-Elemente, die innerhalb dieses Providers gerendert werden sollen und Zugriff auf den <code>SettingsContext</code> benötigen.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Verwendung</strong>: Umschließt den Teil der Anwendung, der Zugriff auf die globalen Einstellungen benötigt.</li>
<li><strong>Interne Logik</strong>:<ul>
<li>Verwendet <code>useState</code>, um den aktuellen Zustand der Einstellungen zu verwalten.</li>
<li>Initialisiert die Einstellungen mit Standardwerten: <code>{ provider: &#39;lm_studio&#39;, lmStudioUrl: &#39;&#39;, lmStudioModel: &#39;&#39;, lmStudioEmbeddingModel: &#39;&#39;, geminiModel: &#39;gemini-2.5-flash&#39; }</code>.</li>
<li>Verwendet <code>useEffect</code>, um beim ersten Rendern Einstellungen aus dem <code>localStorage</code> (<code>SETTINGS_KEY</code>) zu laden. Falls gültige gespeicherte Einstellungen gefunden werden, werden diese mit den Standardeinstellungen zusammengeführt (um neue Felder zu integrieren) und der Zustand wird aktualisiert. Fehler beim Parsen werden in der Konsole ausgegeben.</li>
<li>Die <code>setSettings</code>-Funktion aktualisiert nicht nur den internen Zustand der Komponente, sondern speichert die neuen Einstellungen auch sofort im <code>localStorage</code>.</li>
</ul>
</li>
</ul>
<h3>Hooks</h3>
<h4><code>useSettings</code></h4>
<ul>
<li><strong>Beschreibung</strong>: Ein benutzerdefinierter React Hook, der den Zugriff auf die aktuellen Anwendungs-Einstellungen und die <code>setSettings</code>-Funktion aus dem <code>SettingsContext</code> vereinfacht.</li>
<li><strong>Parameter</strong>: Keine.</li>
<li><strong>Rückgabewert</strong>:<ul>
<li><strong>Typ</strong>: <code>SettingsContextType</code> (<code>{ settings: Settings, setSettings: (settings: Settings) =&gt; void }</code>)</li>
<li><strong>Beschreibung</strong>: Ein Objekt, das die aktuellen <code>settings</code> und die <code>setSettings</code>-Funktion enthält.</li>
</ul>
</li>
<li><strong>Fehlerbehandlung</strong>: Wirft einen <code>Error</code>, wenn der Hook außerhalb einer <code>SettingsProvider</code>-Komponente aufgerufen wird, da der Kontext dann nicht verfügbar ist.</li>
<li><strong>Verwendung</strong>: <code>const { settings, setSettings } = useSettings();</code></li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-hooks-useSimulation-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> hooks/useSimulation.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h2><code>hooks/useSimulation.ts</code></h2>
<p>Dieser React Hook <code>useSimulation</code> ist für die Verwaltung des Zustands und der Interaktionen einer komplexen Simulationsumgebung verantwortlich. Er kapselt die <code>RealityEngine</code> und bietet eine Schnittstelle für UI-Komponenten, um mit der Simulation zu interagieren, den Weltzustand zu aktualisieren, Protokolle zu verwalten und KI-gesteuerte Generierungs- und Analysefunktionen zu steuern.</p>
<h3>Importierte Typen und Konstanten</h3>
<p>Der Hook importiert verschiedene Typen und Konstanten, die die Struktur der Simulationsdaten und des Motors definieren:</p>
<ul>
<li><code>WorldState</code>, <code>Agent</code>, <code>Entity</code>, <code>EnvironmentState</code>, <code>LogEntry</code>, <code>Culture</code>, <code>Law</code>, <code>Personality</code>, <code>PsychoReport</code>, <code>Election</code>, <code>ActionEffect</code>, <code>LongTermMemory</code>, <code>Relationship</code>, <code>TimedLogEntry</code> aus <code>../types</code>: Definieren die Datenstrukturen für die Simulationswelt und ihre Elemente.</li>
<li><code>initialWorldState</code>, <code>GENOME_OPTIONS</code>, <code>INITIAL_CURRENCY</code>, <code>SKILL_TYPES</code>, <code>defaultPsyche</code>, <code>defaultQTable</code> aus <code>../constants</code>: Bereitstellung von Standardwerten und Konfigurationsoptionen für die Simulation.</li>
<li><code>TranslationKey</code> aus <code>../translations</code>: Typisierung für Übersetzungs-Keys.</li>
</ul>
<h3>Importierte Services und Hooks</h3>
<ul>
<li><code>RealityEngine</code> aus <code>../services/simulation</code>: Die Kernlogik der Simulation.</li>
<li><code>generateActionFromPrompt</code>, <code>generateWorld</code>, <code>generateAgents</code>, <code>generateEntities</code>, <code>LmStudioError</code>, <code>generatePsychoanalysis</code>, <code>generateEmbedding</code> aus <code>../services/geminiService</code>: KI-Service-Funktionen für Weltgenerierung, Agenten-/Entitäten-Generierung, Prompt-Verarbeitung, Psychoanalyse und Embedding-Generierung.</li>
<li><code>useLanguage</code> aus <code>../contexts/LanguageContext</code>: Bietet Zugriff auf die aktuelle Spracheinstellung.</li>
<li><code>useTranslations</code> aus <code>./useTranslations</code>: Bietet eine Übersetzungsfunktion basierend auf der aktuellen Sprache.</li>
<li><code>useSettings</code> aus <code>../contexts/SettingsContext</code>: Bietet Zugriff auf die globalen Einstellungen der Anwendung, insbesondere KI-Einstellungen.</li>
</ul>
<hr>
<h3>Datenbereinigungs-Helferfunktionen</h3>
<p>Diese Funktionen stellen sicher, dass die von externen Quellen (z.B. KI-Modellen) empfangenen Daten den erwarteten Typen und Formaten entsprechen.</p>
<h4><code>safeParseInt(val: any, fallback: number): number</code></h4>
<ul>
<li><strong>Zweck:</strong> Versucht, einen Wert sicher in eine Ganzzahl zu parsen.</li>
<li><strong>Parameter:</strong><ul>
<li><code>val</code>: <code>any</code> - Der zu parsende Wert.</li>
<li><code>fallback</code>: <code>number</code> - Der Wert, der zurückgegeben wird, wenn das Parsen fehlschlägt oder das Ergebnis <code>NaN</code> ist.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>number</code> - Die geparste Ganzzahl oder der Fallback-Wert.</li>
</ul>
<h4><code>sanitizeObjectToNumber(obj: any): { [key: string]: number }</code></h4>
<ul>
<li><strong>Zweck:</strong> Bereinigt ein Objekt, indem alle Werte, die erfolgreich in eine Zahl konvertiert werden können, als Zahl gespeichert werden. Nicht-Objekte, Arrays und Werte, die nicht als Zahl geparst werden können, werden ignoriert.</li>
<li><strong>Parameter:</strong><ul>
<li><code>obj</code>: <code>any</code> - Das zu bereinigende Objekt.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>{ [key: string]: number }</code> - Ein neues Objekt, das nur die erfolgreich bereinigten Zahlenwerte enthält.</li>
</ul>
<h4><code>sanitizePersonality(p: any): Personality</code></h4>
<ul>
<li><strong>Zweck:</strong> Bereinigt ein beliebiges Objekt in ein <code>Personality</code>-Objekt und stellt sicher, dass die Werte für <code>openness</code>, <code>conscientiousness</code>, <code>extraversion</code>, <code>agreeableness</code> und <code>neuroticism</code> zwischen 0 und 1 liegen. Nicht-numerische oder ungültige Werte werden durch Standardwerte ersetzt.</li>
<li><strong>Parameter:</strong><ul>
<li><code>p</code>: <code>any</code> - Das zu bereinigende Persönlichkeitsobjekt.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Personality</code> - Ein bereinigtes <code>Personality</code>-Objekt.</li>
</ul>
<h4><code>sanitizeAndCreateAgents(generatedAgents: any[], worldState: WorldState): Agent[]</code></h4>
<ul>
<li><strong>Zweck:</strong> Nimmt eine Liste von potenziell rohen Agenten-Daten (z.B. von einem KI-Modell generiert) und transformiert sie in eine Liste von validen <code>Agent</code>-Objekten. Dabei werden Standardwerte gesetzt und numerische Felder bereinigt.</li>
<li><strong>Parameter:</strong><ul>
<li><code>generatedAgents</code>: <code>any[]</code> - Eine Liste von Rohdaten-Objekten, die Agenten darstellen.</li>
<li><code>worldState</code>: <code>WorldState</code> - Der aktuelle Weltzustand, der zur Validierung von Positionen und für Standardwerte herangezogen wird.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Agent[]</code> - Eine Liste von bereinigten <code>Agent</code>-Objekten.</li>
</ul>
<h4><code>sanitizeAndCreateEntities(generatedEntities: any[], worldState: WorldState): Entity[]</code></h4>
<ul>
<li><strong>Zweck:</strong> Nimmt eine Liste von potenziell rohen Entitäten-Daten und transformiert sie in eine Liste von validen <code>Entity</code>-Objekten. Dabei werden Standardwerte gesetzt und numerische Felder bereinigt.</li>
<li><strong>Parameter:</strong><ul>
<li><code>generatedEntities</code>: <code>any[]</code> - Eine Liste von Rohdaten-Objekten, die Entitäten darstellen.</li>
<li><code>worldState</code>: <code>WorldState</code> - Der aktuelle Weltzustand, der zur Validierung von Positionen herangezogen wird.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Entity[]</code> - Eine Liste von bereinigten <code>Entity</code>-Objekten.</li>
</ul>
<hr>
<h3>Hook: <code>useSimulation</code></h3>
<p>Der <code>useSimulation</code> Hook ist der zentrale Punkt für die Interaktion mit der Simulationslogik.</p>
<h4>Zustand (States)</h4>
<ul>
<li><code>engine</code>: <code>RealityEngine</code> - Die Instanz des Simulationsmotors. Wird bei Einstellungsänderungen neu initialisiert.</li>
<li><code>worldState</code>: <code>WorldState</code> - Der aktuelle Zustand der Simulationswelt.</li>
<li><code>logs</code>: <code>TimedLogEntry[]</code> - Eine Liste von zeitgestempelten Protokolleinträgen, die Ereignisse in der Simulation festhalten. Auf 500 Einträge begrenzt.</li>
<li><code>selectedAgent</code>: <code>Agent | null</code> - Der aktuell im UI ausgewählte Agent.</li>
<li><code>isGenerating</code>: <code>boolean</code> - Zeigt an, ob eine KI-Generierungsoperation (Welt, Agenten, Entitäten) läuft.</li>
<li><code>isProcessingSteps</code>: <code>boolean</code> - Zeigt an, ob Simulationsschritte ausgeführt werden.</li>
<li><code>isSettingsOpen</code>: <code>boolean</code> - Steuert die Sichtbarkeit des Einstellungs-Modals.</li>
<li><code>isGenerateWorldModalOpen</code>: <code>boolean</code> - Steuert die Sichtbarkeit des Weltgenerierungs-Modals.</li>
<li><code>isGenerateContentModalOpen</code>: <code>boolean</code> - Steuert die Sichtbarkeit des Inhaltsgenerierungs-Modals (Agenten/Entitäten).</li>
<li><code>isAnalyticsOpen</code>: <code>boolean</code> - Steuert die Sichtbarkeit des Analyse-Dashboards.</li>
<li><code>isPsychoanalysisModalOpen</code>: <code>boolean</code> - Steuert die Sichtbarkeit des Psychoanalyse-Modals.</li>
<li><code>psychoanalysisReport</code>: <code>PsychoReport | null</code> - Der generierte Psychoanalyse-Bericht für einen Agenten.</li>
<li><code>isGeneratingAnalysis</code>: <code>boolean</code> - Zeigt an, ob eine Psychoanalyse generiert wird.</li>
<li><code>analyzedAgent</code>: <code>Agent | null</code> - Der Agent, für den eine Psychoanalyse durchgeführt wird.</li>
<li><code>panelVisibility</code>: <code>{ left: boolean; agentCard: boolean; worldMap: boolean; right: boolean; }</code> - Steuert die Sichtbarkeit verschiedener UI-Panels.</li>
</ul>
<h4>Verwendete Kontexte und Hooks</h4>
<ul>
<li><code>useSettings()</code>: Holt die globalen Anwendungseinstellungen.</li>
<li><code>useLanguage()</code>: Holt die aktuelle Sprache.</li>
<li><code>useTranslations()</code>: Holt die Übersetzungsfunktion <code>t</code>.</li>
</ul>
<h4>Effekte (<code>useEffect</code>)</h4>
<ul>
<li><strong>Engine-Initialisierung bei Einstellungsänderungen:</strong><ul>
<li><strong>Abhängigkeiten:</strong> <code>settings</code></li>
<li><strong>Zweck:</strong> Erstellt eine neue <code>RealityEngine</code>-Instanz, wenn sich die <code>settings</code> ändern, um sicherzustellen, dass der Motor die aktuellen Konfigurationen verwendet.</li>
</ul>
</li>
<li><strong>Initiales Protokoll:</strong><ul>
<li><strong>Abhängigkeiten:</strong> <code>addLog</code></li>
<li><strong>Zweck:</strong> Fügt einen initialen Protokolleintrag hinzu, wenn die Simulation initialisiert wird.</li>
</ul>
</li>
<li><strong>Aktualisierung des ausgewählten Agenten:</strong><ul>
<li><strong>Abhängigkeiten:</strong> <code>worldState.agents</code>, <code>selectedAgent</code></li>
<li><strong>Zweck:</strong> Stellt sicher, dass der <code>selectedAgent</code> immer ein aktuelles Objekt aus dem <code>worldState</code> ist. Wenn der ausgewählte Agent nicht mehr im Zustand existiert, wird der erste Agent ausgewählt.</li>
</ul>
</li>
</ul>
<h4>Funktionen (Handler)</h4>
<p>Die meisten Funktionen sind mit <code>useCallback</code> memoisiert, um unnötige Neu-Renderings von Child-Komponenten zu vermeiden.</p>
<h5><code>addLog(logEntry: LogEntry): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Fügt einen neuen Protokolleintrag zur Liste der <code>logs</code> hinzu. Fügt einen Zeitstempel hinzu und begrenzt die Liste auf 500 Einträge.</li>
<li><strong>Parameter:</strong><ul>
<li><code>logEntry</code>: <code>LogEntry</code> - Der hinzuzufügende Protokolleintrag.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>addRawLog(message: string): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Eine Helferfunktion, um eine einfache Textnachricht als Protokolleintrag hinzuzufügen.</li>
<li><strong>Parameter:</strong><ul>
<li><code>message</code>: <code>string</code> - Die Nachricht, die protokolliert werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleStep(): Promise&lt;void&gt;</code></h5>
<ul>
<li><strong>Zweck:</strong> Führt einen einzelnen Schritt der Simulation aus. Aktualisiert den Weltzustand und fügt generierte Protokolle hinzu.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;void&gt;</code></li>
</ul>
<h5><code>handleRunSteps(steps: number): Promise&lt;void&gt;</code></h5>
<ul>
<li><strong>Zweck:</strong> Führt eine angegebene Anzahl von Simulationsschritten nacheinander aus.</li>
<li><strong>Parameter:</strong><ul>
<li><code>steps</code>: <code>number</code> - Die Anzahl der auszuführenden Schritte.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;void&gt;</code></li>
</ul>
<h5><code>handleReset(): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Setzt die Simulation auf ihren Initialzustand zurück.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>isAiConfigured(): boolean</code></h5>
<ul>
<li><strong>Zweck:</strong> Prüft, ob die erforderlichen KI-Einstellungen (API-Schlüssel oder LM Studio URL/Modell) vorhanden sind.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>boolean</code> - <code>true</code>, wenn die KI konfiguriert ist, <code>false</code> sonst.</li>
</ul>
<h5><code>handleGenerateWorld(agentCount: number, entityCounts: { [key: string]: number }): Promise&lt;void&gt;</code></h5>
<ul>
<li><strong>Zweck:</strong> Generiert eine neue Welt mit KI, einschließlich Agenten und Entitäten, basierend auf den angegebenen Zählungen. Führt eine Nachbearbeitung durch, um Beziehungen und den Admin-Agenten hinzuzufügen.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentCount</code>: <code>number</code> - Die Anzahl der zu generierenden Agenten.</li>
<li><code>entityCounts</code>: <code>{ [key: string]: number }</code> - Ein Objekt, das die Anzahl der zu generierenden Entitäten nach Typ angibt.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;void&gt;</code></li>
</ul>
<h5><code>handleGenerateAgents(count: number): Promise&lt;void&gt;</code></h5>
<ul>
<li><strong>Zweck:</strong> Generiert eine angegebene Anzahl neuer Agenten mittels KI und fügt sie dem aktuellen Weltzustand hinzu.</li>
<li><strong>Parameter:</strong><ul>
<li><code>count</code>: <code>number</code> - Die Anzahl der zu generierenden Agenten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;void&gt;</code></li>
</ul>
<h5><code>handleGenerateEntities(counts: { [key: string]: number }): Promise&lt;void&gt;</code></h5>
<ul>
<li><strong>Zweck:</strong> Generiert Entitäten verschiedener Typen mittels KI und fügt sie dem aktuellen Weltzustand hinzu.</li>
<li><strong>Parameter:</strong><ul>
<li><code>counts</code>: <code>{ [key: string]: number }</code> - Ein Objekt, das die Anzahl der zu generierenden Entitäten nach Typ angibt.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;void&gt;</code></li>
</ul>
<h5><code>handlePrompt(agentId: string, prompt: string, useAi: boolean): Promise&lt;void&gt;</code></h5>
<ul>
<li><strong>Zweck:</strong> Verarbeitet einen Prompt für einen bestimmten Agenten. Kann entweder direkt ausgeführt werden oder die KI verwenden, um eine Aktion basierend auf dem Prompt und dem Gedächtnis des Agenten vorzuschlagen.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten.</li>
<li><code>prompt</code>: <code>string</code> - Der Text-Prompt.</li>
<li><code>useAi</code>: <code>boolean</code> - Gibt an, ob die KI verwendet werden soll, um eine Aktion aus dem Prompt abzuleiten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;void&gt;</code></li>
</ul>
<h5><code>handleExport(type: &#39;environment&#39; | &#39;agents&#39; | &#39;entities&#39; | &#39;all&#39;): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Exportiert den aktuellen Zustand der Simulation (oder Teile davon) als JSON-Datei.</li>
<li><strong>Parameter:</strong><ul>
<li><code>type</code>: <code>&#39;environment&#39; | &#39;agents&#39; | &#39;entities&#39; | &#39;all&#39;</code> - Der Typ der zu exportierenden Daten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleExportConversations(): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Exportiert die Konversationshistorien aller Agenten als Markdown-Datei.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleLoadState(): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Lädt einen gespeicherten Simulationszustand aus einer JSON-Datei. Merge mit Initialzustand für Robustheit.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleGeneratePsychoanalysis(agent: Agent): Promise&lt;void&gt;</code></h5>
<ul>
<li><strong>Zweck:</strong> Generiert eine psychologische Analyse für einen Agenten mittels KI und wendet sie auf den Agenten an.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code>: <code>Agent</code> - Der zu analysierende Agent.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>Promise&lt;void&gt;</code></li>
</ul>
<h5><code>handleExportStatistics(): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Sammelt und exportiert verschiedene Statistiken aus den Simulationsprotokollen (z.B. Ehen, Geburten, Inhaftierungen, Kämpfe) in eine Markdown-Datei.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleCreate(type: &#39;agent&#39; | &#39;entity&#39; | &#39;action&#39;, data: any): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Erstellt manuell einen neuen Agenten, eine Entität oder eine Aktion in der Simulation.</li>
<li><strong>Parameter:</strong><ul>
<li><code>type</code>: <code>&#39;agent&#39; | &#39;entity&#39; | &#39;action&#39;</code> - Der Typ des zu erstellenden Elements.</li>
<li><code>data</code>: <code>any</code> - Die Daten für das neue Element.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleDelete(type: &#39;agent&#39; | &#39;entity&#39; | &#39;action&#39;, id: string): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Löscht ein Element (Agent, Entität, Aktion) aus der Simulation. Benötigt eine Bestätigung.</li>
<li><strong>Parameter:</strong><ul>
<li><code>type</code>: <code>&#39;agent&#39; | &#39;entity&#39; | &#39;action&#39;</code> - Der Typ des zu löschenden Elements.</li>
<li><code>id</code>: <code>string</code> - Die ID des zu löschenden Elements.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleUpdateEnvironment(newEnv: EnvironmentState): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Aktualisiert den Umweltzustand der Simulation.</li>
<li><strong>Parameter:</strong><ul>
<li><code>newEnv</code>: <code>EnvironmentState</code> - Der neue Umweltzustand.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleSetAgentHealth(agentId: string, health: number): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Setzt die Gesundheit eines spezifischen Agenten.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten.</li>
<li><code>health</code>: <code>number</code> - Der neue Gesundheitswert.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleInflictSickness(agentId: string, sickness: string | null): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Fügt einem Agenten eine Krankheit hinzu oder entfernt sie.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten.</li>
<li><code>sickness</code>: <code>string | null</code> - Der Name der Krankheit oder <code>null</code> zum Heilen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleResurrectAgent(agentId: string): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Belebt einen toten Agenten wieder.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleSetAgentPosition(agentId: string, x: number, y: number): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Setzt die Position eines Agenten auf der Karte.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten.</li>
<li><code>x</code>: <code>number</code> - Die neue X-Koordinate.</li>
<li><code>y</code>: <code>number</code> - Die neue Y-Koordinate.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleSetAgentCurrency(agentId: string, currency: number): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Setzt das Währungsguthaben eines Agenten.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten.</li>
<li><code>currency</code>: <code>number</code> - Das neue Währungsguthaben.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleImprisonAgent(agentId: string, duration: number): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Inhaftiert einen Agenten für eine bestimmte Dauer.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten.</li>
<li><code>duration</code>: <code>number</code> - Die Dauer der Inhaftierung.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleEnactLaw(law: Law): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Erlässt ein neues Gesetz in der Regierung der Welt.</li>
<li><strong>Parameter:</strong><ul>
<li><code>law</code>: <code>Law</code> - Das zu erlassende Gesetz.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleRepealLaw(lawId: string): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Hebt ein bestehendes Gesetz auf.</li>
<li><strong>Parameter:</strong><ul>
<li><code>lawId</code>: <code>string</code> - Die ID des aufzuhebenden Gesetzes.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleStartElection(): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Startet einen Wahlzyklus in der Simulation.</li>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleSetLeader(agentId: string): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Setzt einen Agenten als Anführer der Welt. Kann auch neue Technologien freischalten.</li>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten, der zum Anführer gemacht werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>handleUnlockTech(cultureId: string, techId: string): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Schaltet eine Technologie für eine bestimmte Kultur frei.</li>
<li><strong>Parameter:</strong><ul>
<li><code>cultureId</code>: <code>string</code> - Die ID der Kultur.</li>
<li><code>techId</code>: <code>string</code> - Die ID der freizuschaltenden Technologie.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h5><code>togglePanel(panel: keyof typeof panelVisibility): void</code></h5>
<ul>
<li><strong>Zweck:</strong> Schaltet die Sichtbarkeit eines bestimmten UI-Panels um.</li>
<li><strong>Parameter:</strong><ul>
<li><code>panel</code>: <code>keyof typeof panelVisibility</code> - Der Name des Panels (<code>&#39;left&#39;</code>, <code>&#39;agentCard&#39;</code>, <code>&#39;worldMap&#39;</code>, <code>&#39;right&#39;</code>).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code></li>
</ul>
<h4>Rückgabewert des Hooks</h4>
<p>Der Hook gibt ein Objekt zurück, das den aktuellen Zustand der Simulation und alle zur Interaktion erforderlichen Handler enthält:</p>
<ul>
<li><code>worldState</code>: Aktueller <code>WorldState</code>.</li>
<li><code>logs</code>: Aktuelle <code>TimedLogEntry[]</code>.</li>
<li><code>selectedAgent</code>: Der aktuell ausgewählte <code>Agent</code>.</li>
<li><code>isGenerating</code>: Boolean-Flag für KI-Generierung.</li>
<li><code>isProcessingSteps</code>: Boolean-Flag für Schrittverarbeitung.</li>
<li><code>isSettingsOpen</code>: Boolean-Flag für Einstellungs-Modal.</li>
<li><code>isGenerateWorldModalOpen</code>: Boolean-Flag für Weltgenerierungs-Modal.</li>
<li><code>isGenerateContentModalOpen</code>: Boolean-Flag für Inhaltsgenerierungs-Modal.</li>
<li><code>isAnalyticsOpen</code>: Boolean-Flag für Analyse-Dashboard.</li>
<li><code>isPsychoanalysisModalOpen</code>: Boolean-Flag für Psychoanalyse-Modal.</li>
<li><code>psychoanalysisReport</code>: Aktueller <code>PsychoReport</code>.</li>
<li><code>isGeneratingAnalysis</code>: Boolean-Flag für Psychoanalyse-Generierung.</li>
<li><code>analyzedAgent</code>: Der Agent, der analysiert wird.</li>
<li><code>panelVisibility</code>: Status der Panel-Sichtbarkeit.</li>
<li><code>setSelectedAgent</code>: Setter-Funktion für <code>selectedAgent</code>.</li>
<li><code>setIsSettingsOpen</code>: Setter-Funktion für <code>isSettingsOpen</code>.</li>
<li><code>setIsGenerateWorldModalOpen</code>: Setter-Funktion für <code>isGenerateWorldModalOpen</code>.</li>
<li><code>setIsGenerateContentModalOpen</code>: Setter-Funktion für <code>isGenerateContentModalOpen</code>.</li>
<li><code>setIsAnalyticsOpen</code>: Setter-Funktion für <code>isAnalyticsOpen</code>.</li>
<li><code>setIsPsychoanalysisModalOpen</code>: Setter-Funktion für <code>isPsychoanalysisModalOpen</code>.</li>
<li><code>togglePanel</code>: Funktion zum Umschalten der Panel-Sichtbarkeit.</li>
<li><code>handlers</code>: Ein Objekt, das alle <code>useCallback</code>-Funktionen zur einfacheren Übergabe an Child-Komponenten bündelt.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-services-actions-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/actions.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Typen und Konstanten</h3>
<p>Die Datei importiert verschiedene Typen (<code>Action</code>, <code>Agent</code>, <code>Entity</code>, <code>WorldState</code>, <code>ActionContext</code>, <code>Law</code>) und Konstanten (<code>EAT_HUNGER_REDUCTION</code>, <code>DRINK_THIRST_REDUCTION</code>, <code>GATHER_AMOUNT</code> etc.) aus anderen Modulen. Diese definieren die grundlegenden Datenstrukturen und Konfigurationswerte, die für die Definition und Ausführung der Agentenaktionen im Spiel erforderlich sind.</p>
<h3><code>moveAction</code> Funktion</h3>
<p>Eine Helferfunktion, die ein <code>Action</code>-Objekt für die Bewegung in eine bestimmte Himmelsrichtung generiert.</p>
<pre><code class="language-typescript">(direction: &#39;North&#39; | &#39;South&#39; | &#39;East&#39; | &#39;West&#39;) =&gt; Action
</code></pre>
<ul>
<li><strong>Parameter</strong>:<ul>
<li><code>direction: &#39;North&#39; | &#39;South&#39; | &#39;East&#39; | &#39;West&#39;</code>: Die Himmelsrichtung, in die sich der Agent bewegen soll.</li>
</ul>
</li>
<li><strong>Rückgabewert</strong>: Ein <code>Action</code>-Objekt.</li>
<li><strong>Beschreibung</strong>:
Die erzeugte Aktion veranlasst den ausführenden Agenten, sich um eine oder zwei Einheiten (abhängig vom &quot;G-AGILE&quot;-Gen) in die angegebene Richtung zu bewegen. Die Bewegung ist auf die Grenzen der Spielwelt beschränkt.</li>
<li><strong>Ausführung (<code>execute</code>) Details</strong>:<ul>
<li>Aktualisiert die <code>x</code>- oder <code>y</code>-Koordinate des <code>agent</code>-Objekts.</li>
<li>Wendet die Weltgrenzen (<code>worldState.environment.width</code>, <code>worldState.environment.height</code>) an.</li>
<li>Gibt ein <code>Log</code>-Ereignis, den Status <code>&#39;neutral&#39;</code> und eine kleine negative Belohnung (<code>-0.1</code>) zurück.</li>
</ul>
</li>
</ul>
<hr>
<h3><code>availableActions</code> Variable</h3>
<p>Ein exportiertes Array von <code>Action</code>-Objekten, das alle Aktionen repräsentiert, die Agenten im Simulationsumfeld ausführen können. Jede Aktion ist ein Objekt mit einer Beschreibung und einer <code>execute</code>-Funktion, die die spezifische Logik der Aktion implementiert.</p>
<h4>Gemeinsame Parameter der <code>execute</code>-Funktionen:</h4>
<p>Jede <code>execute</code>-Funktion innerhalb der <code>Action</code>-Definitionen empfängt die folgenden Parameter:</p>
<ul>
<li><code>agent: Agent</code>: Das ausführende Agenten-Objekt, dessen Zustand von der Aktion modifiziert werden kann.</li>
<li><code>allAgents: Map&lt;string, Agent&gt;</code>: Eine Map aller aktiven Agenten in der Simulation, indiziert nach ihrer ID.</li>
<li><code>allEntities: Map&lt;string, Entity&gt;</code>: Eine Map aller Entitäten (z.B. Ressourcen, Gebäude) in der Simulation, indiziert nach ihrer ID.</li>
<li><code>worldState: WorldState</code>: Das globale Zustandsobjekt der Welt, das Informationen über Umgebung, Regierung, Kulturen und Märkte enthält.</li>
<li><code>context: ActionContext</code>: Ein Objekt, das Hilfsfunktionen für die Interaktion mit dem Simulations-Backbone bereitstellt, darunter:<ul>
<li><code>logTransaction(transaction: { from: string, to: string, item: string, quantity: number }): void</code>: Protokolliert eine Transaktion zwischen Entitäten oder Agenten.</li>
<li><code>addListingToMarket(marketplaceId: string, listing: { fromAgentId: string, item: string, quantity: number }): void</code>: Fügt ein Angebot zu einem Marktplatz hinzu.</li>
<li><code>executeTrade(buyer: Agent, listing: any): void</code>: Führt einen Handel auf dem Markt aus.</li>
<li><code>castVote(candidateId: string): void</code>: Registriert eine Stimme für einen Kandidaten bei einer Wahl.</li>
<li><code>declareCandidacy(agentId: string): void</code>: Deklariert die Kandidatur eines Agenten bei einer Wahl.</li>
<li><code>enactLaw(law: Law): void</code>: Führt ein neues Gesetz in der Regierung ein.</li>
<li><code>addResearchPoints(cultureId: string, points: number): void</code>: Fügt einer Kultur Forschungspunkte hinzu.</li>
<li><code>addSocialMemory(agentId: string, memory: any): void</code>: Fügt dem sozialen Gedächtnis eines Agenten eine Erinnerung hinzu.</li>
<li><code>language: string</code>: Die aktuelle Spracheinstellung der Simulation.</li>
</ul>
</li>
</ul>
<h4>Gemeinsame Rückgabestruktur der <code>execute</code>-Funktionen:</h4>
<p>Jede <code>execute</code>-Funktion gibt ein Objekt mit folgenden Eigenschaften zurück:</p>
<ul>
<li><code>log: { key: string, params: Record&lt;string, any&gt; }</code>: Ein standardisiertes Log-Ereignis, das den Ausgang der Aktion für die Benutzeroberfläche oder das Debugging beschreibt. <code>key</code> ist ein Lokalisierungsschlüssel, <code>params</code> sind die einzufügenden Variablen.</li>
<li><code>status: &#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;</code>: Der Erfolgstatus der Aktion.<ul>
<li><code>&#39;success&#39;</code>: Die Aktion wurde wie beabsichtigt erfolgreich ausgeführt.</li>
<li><code>&#39;failure&#39;</code>: Die Aktion konnte aus einem bestimmten Grund nicht ausgeführt werden.</li>
<li><code>&#39;neutral&#39;</code>: Die Aktion führte zu einer Zwischenstufe (z.B. Bewegung zu einem Ziel) oder hatte keinen direkten Erfolg/Misserfolg im Sinne des Agentenziels.</li>
</ul>
</li>
<li><code>reward: number</code>: Ein numerischer Wert, der dem Agenten als Belohnung oder Bestrafung für die Ausführung der Aktion dient und sein Lernverhalten beeinflusst.</li>
<li><code>sideEffects?: { createEntity?: Partial&lt;Entity&gt;, createAgent?: { description: string, parents: Agent[] } }</code>: Optionale Seiteneffekte, die nach der Ausführung der Aktion im Simulations-Engine ausgelöst werden sollen. Dies kann die Erstellung neuer Entitäten (z.B. Gebäude) oder neuer Agenten (z.B. Nachkommen) umfassen.</li>
</ul>
<hr>
<h4>Aktionen im Detail:</h4>
<p><strong>1. Überlebensaktionen</strong></p>
<ul>
<li><p><strong>Eat Food</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Isst Nahrung aus dem Inventar, um den Hunger zu reduzieren.</li>
<li><strong>Verhalten</strong>: Verbraucht eine Einheit &#39;food&#39;. Reduziert <code>hunger</code>. Erhöht das Belief <code>planning_ahead_good</code>.</li>
<li><strong>Erfolgsbedingung</strong>: <code>agent.inventory[&#39;food&#39;] &gt; 0</code>.</li>
</ul>
</li>
<li><p><strong>Drink Water</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Findet eine Wasserquelle und trinkt, um den Durst zu reduzieren.</li>
<li><strong>Verhalten</strong>: Sucht die nächste Wasserressource. Bei Nähe wird <code>thirst</code> reduziert. Bei Distanz bewegt sich der Agent zur Quelle.</li>
<li><strong>Erfolgsbedingung</strong>: Wasserquelle in Reichweite.</li>
</ul>
</li>
<li><p><strong>Gather Food</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Sammelt Nahrung von einer nahegelegenen Quelle.</li>
<li><strong>Verhalten</strong>: Sucht die nächste Nahrungsressource. Bei Nähe wird <code>GATHER_AMOUNT</code> Nahrung gesammelt, <code>farming</code>-Fähigkeit erhöht. Bei Distanz bewegt sich der Agent zur Quelle.</li>
<li><strong>Erfolgsbedingung</strong>: Nahrungsquelle in Reichweite, nicht in Privatbesitz eines anderen Agenten.</li>
</ul>
</li>
<li><p><strong>Gather Wood</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Sammelt Holz aus einem nahegelegenen Wald.</li>
<li><strong>Verhalten</strong>: Sucht die nächste Holzressource. Bei Nähe wird <code>GATHER_AMOUNT</code> Holz gesammelt, <code>woodcutting</code>-Fähigkeit erhöht. Bei Distanz bewegt sich der Agent zur Quelle.</li>
<li><strong>Erfolgsbedingung</strong>: Holzquelle in Reichweite, nicht in Privatbesitz eines anderen Agenten.</li>
</ul>
</li>
<li><p><strong>Build Shelter</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Baut einen kleinen Unterschlupf mit 10 Holz.</li>
<li><strong>Verhalten</strong>: Verbraucht 10 Einheiten &#39;wood&#39;. Erhöht <code>construction</code>-Fähigkeit. Erzeugt eine neue <code>Entity</code> (Shelter) am Standort des Agenten.</li>
<li><strong>Erfolgsbedingung</strong>: <code>agent.inventory[&#39;wood&#39;] &gt;= 10</code>.</li>
</ul>
</li>
<li><p><strong>Rest</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Ruht sich aus, um Müdigkeit und Gesundheit wiederherzustellen.</li>
<li><strong>Verhalten</strong>: Erhöht <code>health</code> (G-FASTHEAL-Bonus möglich). Reduziert <code>fatigue</code> und <code>stress</code>. 20% Chance zur Heilung von <code>sickness</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Immer erfolgreich, solange Agent nicht bereits vollständig erholt ist.</li>
</ul>
</li>
</ul>
<p><strong>2. Wirtschaftsaktionen</strong></p>
<ul>
<li><p><strong>Work for money</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Führt generische Arbeit aus, um eine kleine Menge Währung zu verdienen.</li>
<li><strong>Verhalten</strong>: Erhöht <code>currency</code> um <code>WORK_FOR_MONEY_AMOUNT</code>. Erhöht <code>fatigue</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Immer erfolgreich.</li>
</ul>
</li>
<li><p><strong>Found Company</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Kauft eine nicht besessene ressourcenproduzierende Entität, um Unternehmer zu werden.</li>
<li><strong>Verhalten</strong>: Sucht die nächste unbesessene Ressource. Verbraucht <code>RESOURCE_PURCHASE_COST</code> Währung. Agent wird <code>ownerId</code> der Ressource, Rolle wird &#39;Entrepreneur&#39;, <code>socialStatus</code> steigt.</li>
<li><strong>Erfolgsbedingung</strong>: Agent hat genügend Währung und eine unbesessene Ressource ist in der Nähe.</li>
</ul>
</li>
<li><p><strong>Work for Company</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Arbeitet in einem privaten Unternehmen, um einen Lohn vom Besitzer zu verdienen.</li>
<li><strong>Verhalten</strong>: Sucht das nächste Unternehmen mit Besitzer. Besitzer zahlt Lohn (<code>WORK_FOR_OWNER_PAY_WORKER</code>), Agent erhält Währung. Agent sammelt <code>GATHER_AMOUNT</code> Ressource für den Besitzer. Erhöht <code>fatigue</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Unternehmen mit Besitzer vorhanden, hat Ressourcen, Besitzer ist zahlungsfähig.</li>
</ul>
</li>
<li><p><strong>Mine Iron</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Baut Eisen aus einer nahegelegenen Erzader ab.</li>
<li><strong>Verhalten</strong>: Sucht die nächste Eisenressource. Bei Nähe wird <code>GATHER_AMOUNT</code> Eisen gesammelt, <code>mining</code>-Fähigkeit erhöht. Bei Distanz bewegt sich der Agent zur Quelle.</li>
<li><strong>Erfolgsbedingung</strong>: Eisenquelle in Reichweite, nicht in Privatbesitz eines anderen Agenten.</li>
</ul>
</li>
</ul>
<p><strong>3. Handwerksaktionen</strong></p>
<ul>
<li><strong>Crafting Actions (Generiert aus <code>RECIPES</code>)</strong><ul>
<li><strong>Beschreibung</strong>: Erstellt ein bestimmtes Produkt aus Zutaten gemäß dem Rezept. (Beispiel: &quot;Craft Axe&quot;, &quot;Craft Iron Bar&quot;)</li>
<li><strong>Verhalten</strong>: Prüft auf erforderliche <code>requiredTech</code> (Kultur) und <code>requiredSkill</code> (Agent). Verbraucht definierte <code>ingredients</code>. Erzeugt <code>output.item</code> und <code>output.quantity</code>. Erhöht <code>crafting</code>-Fähigkeit.</li>
<li><strong>Erfolgsbedingung</strong>: Erforderliche Technologie und Fertigkeiten vorhanden, alle Zutaten im Inventar.</li>
</ul>
</li>
</ul>
<p><strong>4. Marktaktionen</strong></p>
<ul>
<li><p><strong>List Item on Market</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Listet einen Gegenstand aus dem Inventar auf dem öffentlichen Markt.</li>
<li><strong>Verhalten</strong>: Sucht den nächsten Marktplatz. Verbraucht 1 Einheit eines beliebigen Inventargegenstands. Fügt ein Listing zum Markt hinzu.</li>
<li><strong>Erfolgsbedingung</strong>: Marktplatz in der Nähe, Agent hat Gegenstände im Inventar.</li>
</ul>
</li>
<li><p><strong>Buy from Market</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Kauft einen auf dem Markt gelisteten Gegenstand.</li>
<li><strong>Verhalten</strong>: Sucht den nächsten Marktplatz. Findet ein bezahlbares Listing. Führt den Handel aus (<code>context.executeTrade</code>).</li>
<li><strong>Erfolgsbedingung</strong>: Marktplatz in der Nähe, bezahlbare Listings vorhanden.</li>
</ul>
</li>
</ul>
<p><strong>5. Politische Aktionen</strong></p>
<ul>
<li><p><strong>Vote</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Stimmt für einen Kandidaten bei der aktuellen Wahl ab.</li>
<li><strong>Verhalten</strong>: Sucht den Kandidaten mit dem höchsten <code>socialStatus</code>. Gibt die Stimme ab (<code>context.castVote</code>).</li>
<li><strong>Erfolgsbedingung</strong>: Aktive Wahl mit Kandidaten vorhanden.</li>
</ul>
</li>
<li><p><strong>Run for Election</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Erklärt die Kandidatur bei der aktuellen Wahl.</li>
<li><strong>Verhalten</strong>: Agent deklariert seine Kandidatur (<code>context.declareCandidacy</code>). Erhöht <code>socialStatus</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Aktive Wahl, Agent nicht bereits Kandidat, <code>socialStatus</code> &gt;= 50.</li>
</ul>
</li>
<li><p><strong>Enact Law</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Als Anführer ein neues Gesetz erlassen.</li>
<li><strong>Verhalten</strong>: Erstellt ein neues Gesetz (z.B. &quot;Curfew&quot; für &quot;Wander&quot;-Aktion) und fügt es den Gesetzen der Regierung hinzu (<code>context.enactLaw</code>).</li>
<li><strong>Erfolgsbedingung</strong>: Agent ist der Anführer, Kultur kennt &#39;governance&#39;-Technologie, Gesetz existiert noch nicht.</li>
</ul>
</li>
</ul>
<p><strong>6. Technologie- und Soziale Aktionen</strong></p>
<ul>
<li><p><strong>Research</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Trägt zur kulturellen Forschung bei.</li>
<li><strong>Verhalten</strong>: Erzeugt Forschungspunkte (Boni durch &#39;G-INTELLIGENT&#39;-Gen, hohe <code>inspiration</code>). Fügt Punkte der Kultur hinzu (<code>context.addResearchPoints</code>). Reduziert <code>inspiration</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Agent ist &#39;Scientist&#39;, gehört einer Kultur an.</li>
</ul>
</li>
<li><p><strong>Share Knowledge</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Kollaboriert mit einem anderen Wissenschaftler, um die Forschung anzukurbeln.</li>
<li><strong>Verhalten</strong>: Sucht den nächsten Wissenschaftler derselben Kultur. Fügt der Kultur Bonus-Forschungspunkte hinzu.</li>
<li><strong>Erfolgsbedingung</strong>: Agent ist &#39;Scientist&#39;, gehört einer Kultur an, anderer Wissenschaftler in der Nähe.</li>
</ul>
</li>
<li><p><strong>Propose Marriage</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Macht einem geeigneten Agenten in der Nähe einen Heiratsantrag.</li>
<li><strong>Verhalten</strong>: Sucht einen unverheirateten Agenten mit hoher Beziehungsbewertung. Mit 70% Wahrscheinlichkeit werden beide Agenten als &#39;spouse&#39; gesetzt.</li>
<li><strong>Erfolgsbedingung</strong>: Agent nicht verheiratet, geeigneter Partner in der Nähe mit genügend hoher Beziehungsbewertung, Antrag erfolgreich.</li>
</ul>
</li>
<li><p><strong>Accept Proposal</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Akzeptiert einen Heiratsantrag.</li>
<li><strong>Verhalten</strong>: Diese Aktion ist ein Platzhalter und wird aktuell implizit durch die Aktion &quot;Propose Marriage&quot; verarbeitet, wenn der Antrag erfolgreich ist. Sie hat keine eigenständige ausführbare Logik.</li>
<li><strong>Erfolgsbedingung</strong>: Immer neutral.</li>
</ul>
</li>
<li><p><strong>Reproduce</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Versucht, ein Kind mit einem Ehepartner zu zeugen.</li>
<li><strong>Verhalten</strong>: Prüft Alter und maximale Kinderanzahl. Mit 50% Wahrscheinlichkeit wird <code>offspringCount</code> beider Partner erhöht und ein neues Agenten-Objekt als Kind erstellt.</li>
<li><strong>Erfolgsbedingung</strong>: Agent verheiratet, Partner lebend und in reproduktivem Alter, maximale Kinderanzahl nicht erreicht, Versuch erfolgreich.</li>
</ul>
</li>
<li><p><strong>Artificial Insemination</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Nutzt fortschrittliche Technologie, um ein Kind zu empfangen.</li>
<li><strong>Verhalten</strong>: Prüft auf &#39;bioengineering&#39;-Technologie und Währung. Verbraucht Währung (500). Mit 70% Wahrscheinlichkeit wird <code>offspringCount</code> erhöht und ein neues Agenten-Objekt als Kind erstellt.</li>
<li><strong>Erfolgsbedingung</strong>: Kultur kennt &#39;bioengineering&#39;, Agent hat genügend Währung, Versuch erfolgreich.</li>
</ul>
</li>
<li><p><strong>Mentor young agent</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Lehrt einem jüngeren Agenten eine Fertigkeit.</li>
<li><strong>Verhalten</strong>: Sucht den nächsten jungen Agenten. Überträgt 1.5 Punkte der besten Fertigkeit des Mentors auf den Schüler. Erhöht <code>socialStatus</code> des Mentors.</li>
<li><strong>Erfolgsbedingung</strong>: Junger Agent in der Nähe, Mentor hat eine Fertigkeit &gt; 20.</li>
</ul>
</li>
<li><p><strong>Seek Counseling</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Sucht Hilfe bei einem Berater, um Stress abzubauen.</li>
<li><strong>Verhalten</strong>: Sucht den nächsten Berater (<code>role: &#39;Counselor&#39;</code>). Bewegt sich bei Fund auf diesen zu.</li>
<li><strong>Erfolgsbedingung</strong>: Berater in der Nähe.</li>
</ul>
</li>
<li><p><strong>Provide Counseling</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Als Berater einem Agenten helfen, Stress abzubauen.</li>
<li><strong>Verhalten</strong>: Prüft <code>role: &#39;Counselor&#39;</code>. Sucht den nächsten gestressten Patienten. Reduziert <code>stress</code> des Patienten. Erhöht <code>healing</code>-Fähigkeit des Beraters. Patient zahlt dem Berater 5 Währung.</li>
<li><strong>Erfolgsbedingung</strong>: Agent ist &#39;Counselor&#39;, gestresster Patient in der Nähe.</li>
</ul>
</li>
<li><p><strong>Talk</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Spricht mit einem Agenten in der Nähe oder bewegt sich auf ihn zu, um zu sprechen.</li>
<li><strong>Verhalten</strong>: Sucht den nächsten Agenten. Bei Nähe wird ein Gespräch generiert (<code>generateAgentConversation</code>), Gesprächsverlauf aktualisiert, soziale Erinnerungen hinzugefügt. Bei Distanz bewegt sich der Agent zum Ziel. Erhöht das Belief <code>social_interaction_good</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Agent in der Nähe.</li>
</ul>
</li>
<li><p><strong>Fight</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Kämpft mit einem Agenten in der Nähe.</li>
<li><strong>Verhalten</strong>: Sucht den nächsten Agenten. Berechnet Schaden basierend auf <code>combat</code>-Fähigkeiten. Verletzt beide Agenten. Beeinflusst das Belief <code>aggression</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Agent in der Nähe.</li>
</ul>
</li>
<li><p><strong>Steal</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Versucht, von einem Agenten in der Nähe zu stehlen.</li>
<li><strong>Verhalten</strong>: Sucht einen Agenten mit Inventar/Währung. 50% Chance auf Fehlschlag (erwischt werden). Bei Fehlschlag: Reduziert <code>socialStatus</code>, erhöht <code>shame</code>, ggf. Bestrafung (Geldstrafe/Verhaftung) durch Gesetze und Wachen. Bei Erfolg: Überträgt 1 zufälligen Inventargegenstand. Beeinflusst das Belief <code>immorality_ok</code>.</li>
<li><strong>Erfolgsbedingung</strong>: Opfer mit Inventar/Währung in der Nähe, Diebstahlversuch erfolgreich.</li>
</ul>
</li>
</ul>
<p><strong>7. Persönliche/Psychologische Aktionen</strong></p>
<ul>
<li><p><strong>Meditate</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Meditiert, um Stress abzubauen und Inspiration zu finden.</li>
<li><strong>Verhalten</strong>: Reduziert den Stress des Agenten. Mit 20%iger Wahrscheinlichkeit erhöht die <code>inspiration</code>-Psyche des Agenten.</li>
<li><strong>Erfolgsbedingung</strong>: Immer erfolgreich.</li>
</ul>
</li>
<li><p><strong>Mourn</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Nimmt sich einen Moment Zeit, um zu trauern und Kummer zu verarbeiten.</li>
<li><strong>Verhalten</strong>: Reduziert den <code>grief</code>-Emotionswert des Agenten.</li>
<li><strong>Erfolgsbedingung</strong>: Immer erfolgreich.</li>
</ul>
</li>
<li><p><strong>Offer Forgiveness</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Bietet einem Rivalen Vergebung an, um die Beziehung zu kitten.</li>
<li><strong>Verhalten</strong>: Sucht einen Agenten, mit dem der ausführende Agent als &#39;rival&#39; markiert ist. Bei Fund werden die Beziehungen beider zu &#39;acquaintance&#39; geändert und der <code>score</code> auf 10 gesetzt.</li>
<li><strong>Erfolgsbedingung</strong>: Rivale existiert in Beziehungen.</li>
</ul>
</li>
<li><p><strong>Confront Partner</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Konfrontiert einen Partner aus Eifersucht.</li>
<li><strong>Verhalten</strong>: Sucht den Ehe- oder Lebenspartner des Agenten. Reduziert die <code>jealousy</code>-Psyche des Agenten. Erhöht den Stress beider Partner. Reduziert den Beziehungs-<code>score</code> zwischen den Partnern.</li>
<li><strong>Erfolgsbedingung</strong>: Partner existiert in Beziehungen.</li>
</ul>
</li>
</ul>
<p><strong>8. Bewegung &amp; Rollenspezifische Aktionen</strong></p>
<ul>
<li><p><strong>Move North / South / East / West</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Bewegt einen Schritt in die jeweilige Himmelsrichtung.</li>
<li><strong>Verhalten</strong>: Siehe <code>moveAction</code> Funktion.</li>
</ul>
</li>
<li><p><strong>Patrol</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Als Wache das Gebiet patrouillieren.</li>
<li><strong>Verhalten</strong>: Führt eine Zufallsbewegung (<code>wander</code>) aus.</li>
<li><strong>Erfolgsbedingung</strong>: Agent ist &#39;Guard&#39;.</li>
</ul>
</li>
<li><p><strong>Arrest</strong></p>
<ul>
<li><strong>Beschreibung</strong>: Als Wache einen nahegelegenen Gesetzesbrecher verhaften.</li>
<li><strong>Verhalten</strong>: Diese Aktion ist ein Platzhalter für die Absicht der Wache und wird primär durch reaktive Logik im Simulations-Engine ausgelöst, wenn ein Agent ein Gesetz bricht und eine Wache in der Nähe ist.</li>
<li><strong>Erfolgsbedingung</strong>: Agent ist &#39;Guard&#39;.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-services-simulationUtils-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/simulationUtils.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Funktionen</h3>
<h4><code>findNearestEntity</code></h4>
<p>Findet die nächste Entität (Entity) relativ zu einem gegebenen Agenten, optional gefiltert nach bestimmten Kriterien.</p>
<pre><code class="language-typescript">function findNearestEntity(agent: Agent, entities: Map&lt;string, Entity&gt;, filter: (e: Entity) =&gt; boolean): Entity | null
</code></pre>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>agent</code>: <code>Agent</code><ul>
<li>Der Agent, von dem aus die Distanz zu den Entitäten berechnet werden soll.</li>
</ul>
</li>
<li><code>entities</code>: <code>Map&lt;string, Entity&gt;</code><ul>
<li>Eine Map von Entitäten, in der gesucht werden soll. Die Schlüssel sind Strings (wahrscheinlich IDs) und die Werte sind <code>Entity</code>-Objekte.</li>
</ul>
</li>
<li><code>filter</code>: <code>(e: Entity) =&gt; boolean</code><ul>
<li>Eine Filterfunktion, die für jede Entität aufgerufen wird. Nur Entitäten, für die diese Funktion <code>true</code> zurückgibt, werden bei der Suche berücksichtigt.</li>
</ul>
</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>Entity | null</code><ul>
<li>Die nächstgelegene <code>Entity</code>, die den Filterkriterien entspricht, oder <code>null</code>, falls keine passende Entität gefunden wurde.</li>
</ul>
</li>
</ul>
<hr>
<h4><code>findNearestAgent</code></h4>
<p>Findet den nächsten Agenten relativ zu einem gegebenen Agenten, optional gefiltert nach bestimmten Kriterien. Der aufrufende Agent wird dabei nicht als potenzielles Ziel berücksichtigt.</p>
<pre><code class="language-typescript">function findNearestAgent(agent: Agent, agents: Map&lt;string, Agent&gt;, filter: (a: Agent) =&gt; boolean): Agent | null
</code></pre>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>agent</code>: <code>Agent</code><ul>
<li>Der Agent, von dem aus die Distanz zu anderen Agenten berechnet werden soll.</li>
</ul>
</li>
<li><code>agents</code>: <code>Map&lt;string, Agent&gt;</code><ul>
<li>Eine Map von Agenten, in der gesucht werden soll. Die Schlüssel sind Strings (wahrscheinlich IDs) und die Werte sind <code>Agent</code>-Objekte.</li>
</ul>
</li>
<li><code>filter</code>: <code>(a: Agent) =&gt; boolean</code><ul>
<li>Eine Filterfunktion, die für jeden Agenten aufgerufen wird. Nur Agenten, für die diese Funktion <code>true</code> zurückgibt (und die nicht der aufrufende Agent selbst sind), werden bei der Suche berücksichtigt.</li>
</ul>
</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>Agent | null</code><ul>
<li>Der nächstgelegene <code>Agent</code>, der den Filterkriterien entspricht, oder <code>null</code>, falls kein passender Agent gefunden wurde.</li>
</ul>
</li>
</ul>
<hr>
<h4><code>moveTowards</code></h4>
<p>Bewegt einen Agenten um einen Schritt in Richtung eines Zielpunkts. Die Bewegung berücksichtigt die Agilität des Agenten (Genom &quot;G-AGILE&quot;) und die Grenzen der Umgebung.</p>
<pre><code class="language-typescript">function moveTowards(agent: Agent, target: { x: number, y: number }, environment: EnvironmentState): void
</code></pre>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>agent</code>: <code>Agent</code><ul>
<li>Der zu bewegende Agent. Die <code>x</code>- und <code>y</code>-Koordinaten des Agenten-Objekts werden direkt aktualisiert.</li>
<li>Die Eigenschaft <code>agent.genome</code> wird geprüft, um die Bewegungsgeschwindigkeit zu bestimmen (2, wenn &quot;G-AGILE&quot; enthalten ist, sonst 1).</li>
</ul>
</li>
<li><code>target</code>: <code>{ x: number, y: number }</code><ul>
<li>Ein Objekt mit den Zielkoordinaten (<code>x</code> und <code>y</code>), zu denen sich der Agent bewegen soll.</li>
</ul>
</li>
<li><code>environment</code>: <code>EnvironmentState</code><ul>
<li>Der Zustand der Umgebung, der die <code>width</code> und <code>height</code> für die Begrenzung der Agentenpositionen enthält.</li>
</ul>
</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>void</code><ul>
<li>Die Funktion hat keinen expliziten Rückgabewert, sondern modifiziert das übergebene <code>agent</code>-Objekt direkt.</li>
</ul>
</li>
</ul>
<hr>
<h4><code>wander</code></h4>
<p>Bewegt einen Agenten zufällig in eine der vier Kardinalrichtungen (Nord, Süd, Ost, West) und hält dabei die Agentenposition innerhalb der Umgebungsbegrenzungen.</p>
<pre><code class="language-typescript">function wander(agent: Agent, environment: EnvironmentState): { log: { key: string, params: { agentName: string } } }
</code></pre>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>agent</code>: <code>Agent</code><ul>
<li>Der zu bewegende Agent. Die <code>x</code>- und <code>y</code>-Koordinaten des Agenten-Objekts werden direkt aktualisiert.</li>
</ul>
</li>
<li><code>environment</code>: <code>EnvironmentState</code><ul>
<li>Der Zustand der Umgebung, der die <code>width</code> und <code>height</code> für die Begrenzung der Agentenpositionen enthält.</li>
</ul>
</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>{ log: { key: string, params: { agentName: string } } }</code><ul>
<li>Ein Objekt, das Informationen für die Protokollierung der Aktion des Agenten enthält.</li>
<li><code>log.key</code>: Ein String, der einen Schlüssel für eine lokalisierte Protokollnachricht darstellt (z.B. <code>&#39;log_action_wander_thoughtfully&#39;</code>).</li>
<li><code>log.params</code>: Ein Objekt mit Parametern für die Protokollnachricht (z.B. <code>{ agentName: agent.name }</code>).</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-AnalyticsDashboard-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/AnalyticsDashboard.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Typ-Definitionen</h3>
<h4><code>Tab</code></h4>
<p>Definiert die möglichen Reiter (Tabs) im Analyse-Dashboard.</p>
<pre><code class="language-typescript">type Tab = &#39;social&#39; | &#39;economic&#39; | &#39;cultural&#39; | &#39;tech&#39;;
</code></pre>
<h3>Konstanten</h3>
<h4><code>cultureColors</code></h4>
<p>Ein Objekt, das vordefinierte RGBA-Farbwerte für bestimmte Kulturen und einen Standardwert bereithält.</p>
<pre><code class="language-typescript">const cultureColors: { [key: string]: string }
</code></pre>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&#39;culture-utopian&#39;</code></td>
<td align="left"><code>string</code></td>
<td align="left">Farbe für die &quot;utopische&quot; Kultur (sky-400).</td>
</tr>
<tr>
<td align="left"><code>&#39;culture-primitivist&#39;</code></td>
<td align="left"><code>string</code></td>
<td align="left">Farbe für die &quot;primitivistische&quot; Kultur (emerald-400).</td>
</tr>
<tr>
<td align="left"><code>&#39;default&#39;</code></td>
<td align="left"><code>string</code></td>
<td align="left">Standardfarbe, wenn keine spezifische Kulturfarbe definiert ist (slate-400).</td>
</tr>
</tbody></table>
<h3>Interne Komponenten</h3>
<h4><code>SocialNetworkGraph</code></h4>
<p>Visualisiert das soziale Netzwerk der Agenten, gruppiert nach Kulturen, und zeigt Beziehungen zwischen Agenten an.</p>
<pre><code class="language-typescript">const SocialNetworkGraph: React.FC&lt;{ agents: Agent[], cultures: Culture[] }&gt;
</code></pre>
<h5>Props</h5>
<table>
<thead>
<tr>
<th align="left">Prop-Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>agents</code></td>
<td align="left"><code>Agent[]</code></td>
<td align="left">Ein Array von Agenten-Objekten, die Informationen über deren Status, Kulturzugehörigkeit und Beziehungen enthalten. Nur lebende Agenten werden angezeigt.</td>
</tr>
<tr>
<td align="left"><code>cultures</code></td>
<td align="left"><code>Culture[]</code></td>
<td align="left">Ein Array von Kultur-Objekten, die zur Benennung der Kulturgruppen im Diagramm verwendet werden.</td>
</tr>
</tbody></table>
<h5>Details</h5>
<ul>
<li>Filtert nur lebende Agenten für die Darstellung.</li>
<li>Gruppiert Agenten nach ihrer Kultur-ID (oder &#39;unaffiliated&#39;).</li>
<li>Verwendet <code>useMemo</code> für die Berechnung des Layouts (Agentenpositionen und Gruppenlayouts) und der Beziehungslinien, um die Performance zu optimieren.</li>
<li>Agenten werden in Kreisen um den Mittelpunkt ihrer Kulturgruppe platziert. Kulturgruppen sind wiederum in einem Kreis um den Diagramm-Mittelpunkt angeordnet.</li>
<li>Beziehungslinien werden nur für Beziehungen mit einem <code>score</code> über 25 gerendert und ihre Farbe hängt vom <code>relationship.type</code> ab (Ehepartner/Partner, Freund, Rivale).</li>
<li>Zeigt eine Meldung an, wenn keine Agenten oder keine Beziehungen zum Rendern vorhanden sind.</li>
<li>Verwendet SVG für die grafische Darstellung.</li>
</ul>
<h4><code>EconomicFlowDiagram</code></h4>
<p>Zeigt die Top 20 der ökonomischen Flüsse (Geldtransaktionen) zwischen Agenten innerhalb eines konfigurierbaren Zeitfensters an.</p>
<pre><code class="language-typescript">const EconomicFlowDiagram: React.FC&lt;{ transactions: Transaction[], agents: Agent[], currentTime: number }&gt;
</code></pre>
<h5>Props</h5>
<table>
<thead>
<tr>
<th align="left">Prop-Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>transactions</code></td>
<td align="left"><code>Transaction[]</code></td>
<td align="left">Ein Array aller Transaktionen im System. Nur Transaktionen vom Typ &#39;currency&#39; werden berücksichtigt.</td>
</tr>
<tr>
<td align="left"><code>agents</code></td>
<td align="left"><code>Agent[]</code></td>
<td align="left">Ein Array von Agenten-Objekten, die zur Auflösung der Agenten-IDs in Namen für die Anzeige verwendet werden.</td>
</tr>
<tr>
<td align="left"><code>currentTime</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der aktuelle Zeitpunkt (Schritt) in der Simulation, verwendet zur Begrenzung des Zeitfensters für die Transaktionen.</td>
</tr>
</tbody></table>
<h5>Details</h5>
<ul>
<li>Verwendet einen internen <code>useState</code> Hook (<code>timeWindow</code>) zur Einstellung des Zeitfensters für die angezeigten Transaktionen.</li>
<li>Filtert Transaktionen, die innerhalb des <code>timeWindow</code> vor der <code>currentTime</code> liegen.</li>
<li>Sammelt und summiert Währungstransaktionen zwischen Agenten, um Flüsse zu bilden (<code>from -&gt; to</code>).</li>
<li>Zeigt die Top 20 der Flüsse nach Wert an.</li>
<li>Die Stärke eines Flusses wird durch einen horizontalen Balken visuell dargestellt.</li>
<li>Bietet einen Slider zur dynamischen Anpassung des <code>timeWindow</code>.</li>
<li>Zeigt eine Meldung an, wenn im aktuellen Zeitfenster keine relevanten Transaktionen gefunden werden.</li>
</ul>
<h4><code>CulturalSpreadMap</code></h4>
<p>Visualisiert die kulturelle Dichte und Ausbreitung von Kulturen auf einer rasterbasierten Karte, basierend auf der Position der Agenten.</p>
<pre><code class="language-typescript">const CulturalSpreadMap: React.FC&lt;{ agents: Agent[], cultures: Culture[], environment: WorldState[&#39;environment&#39;] }&gt;
</code></pre>
<h5>Props</h5>
<table>
<thead>
<tr>
<th align="left">Prop-Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>agents</code></td>
<td align="left"><code>Agent[]</code></td>
<td align="left">Ein Array von Agenten-Objekten, die Informationen über deren Position und Kulturzugehörigkeit enthalten. Nur lebende Agenten werden berücksichtigt.</td>
</tr>
<tr>
<td align="left"><code>cultures</code></td>
<td align="left"><code>Culture[]</code></td>
<td align="left">Ein Array von Kultur-Objekten, deren IDs zur Farbzuordnung verwendet werden.</td>
</tr>
<tr>
<td align="left"><code>environment</code></td>
<td align="left"><code>WorldState[&#39;environment&#39;]</code></td>
<td align="left">Das Umgebungsobjekt, das die Dimensionen der Welt (<code>width</code>, <code>height</code>) enthält, welche für die Rasterberechnung benötigt werden.</td>
</tr>
</tbody></table>
<h5>Details</h5>
<ul>
<li>Teilt die Welt in ein 10x10-Raster (<code>gridDivisions</code>).</li>
<li>Berechnet für jede Rasterzelle die Dominanz der Kulturen, indem die Anzahl der Agenten pro Kultur in dieser Zelle gezählt wird.</li>
<li>Die Zelle wird in der Farbe der dominantesten Kultur eingefärbt, basierend auf der <code>cultureColors</code>-Konstante.</li>
<li>Die Karte wird als responsives Quadrat gerendert, wobei jede Zelle ein absolut positioniertes <code>div</code>-Element ist.</li>
<li>Zellen ohne Agenten oder Kulturzugehörigkeit werden nicht gerendert.</li>
</ul>
<h4><code>TechnologyChart</code></h4>
<p>Stellt den technologischen Fortschritt jeder Kultur dar, einschließlich bekannter Technologien, Forschungspunkte und des Fortschritts bei der Erforschung neuer Technologien.</p>
<pre><code class="language-typescript">const TechnologyChart: React.FC&lt;{ cultures: Culture[], techTree: WorldState[&#39;techTree&#39;] }&gt;
</code></pre>
<h5>Props</h5>
<table>
<thead>
<tr>
<th align="left">Prop-Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>cultures</code></td>
<td align="left"><code>Culture[]</code></td>
<td align="left">Ein Array von Kultur-Objekten, die die Forschungspunkte und bekannten Technologien jeder Kultur enthalten.</td>
</tr>
<tr>
<td align="left"><code>techTree</code></td>
<td align="left"><code>WorldState[&#39;techTree&#39;]</code></td>
<td align="left">Ein Array von Technologie-Objekten, das den gesamten Technologiebaum des Systems darstellt, einschließlich Forschungskosten und Voraussetzungen.</td>
</tr>
</tbody></table>
<h5>Details</h5>
<ul>
<li>Iteriert über jede Kultur und zeigt deren Namen und aktuelle Forschungspunkte an.</li>
<li>Für jede Technologie im <code>techTree</code> wird der Status der Kultur in Bezug auf diese Technologie angezeigt:<ul>
<li>Ob sie bereits bekannt ist (grüner Fortschrittsbalken, 100%).</li>
<li>Der aktuelle Fortschritt in Prozent, wenn sie erforscht wird (violetter Fortschrittsbalken).</li>
<li>Ob alle erforderlichen Technologien bekannt sind (falls nicht, wird die Technologie ausgegraut und die Voraussetzungen werden aufgelistet).</li>
</ul>
</li>
<li>Technologie-Namen werden über den Übersetzungs-Hook <code>t</code> lokalisiert.</li>
</ul>
<h3>Exportierte Komponenten</h3>
<h4><code>AnalyticsDashboard</code></h4>
<p>Ein modales Dashboard, das detaillierte Analysedaten über den Zustand der simulierten Welt in verschiedenen Kategorien (Sozial, Ökonomisch, Kulturell, Technologie) anzeigt.</p>
<pre><code class="language-typescript">export const AnalyticsDashboard: React.FC&lt;AnalyticsDashboardProps&gt;
</code></pre>
<h5>Props</h5>
<table>
<thead>
<tr>
<th align="left">Prop-Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isOpen</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Steuert die Sichtbarkeit des Dashboards. Ist <code>true</code>, wird das Dashboard angezeigt.</td>
</tr>
<tr>
<td align="left"><code>onClose</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Eine Callback-Funktion, die aufgerufen wird, wenn das Dashboard geschlossen werden soll (z.B. Klick auf den Schließen-Button oder außerhalb des Modals).</td>
</tr>
<tr>
<td align="left"><code>worldState</code></td>
<td align="left"><code>WorldState</code></td>
<td align="left">Das komplette Objekt, das den aktuellen Zustand der simulierten Welt enthält, einschließlich Agenten, Transaktionen, Kulturen, Umgebung und Technologiebaum.</td>
</tr>
</tbody></table>
<h5>Details</h5>
<ul>
<li>Ein überlagerndes (fixed) Modal, das den gesamten Bildschirm einnimmt und einen Backdrop-Blur-Effekt hat.</li>
<li>Verwendet <code>useState</code> (<code>activeTab</code>) zur Verwaltung des aktuell ausgewählten Analyse-Reiters.</li>
<li>Bietet vier Reiter: &#39;Social&#39;, &#39;Economic&#39;, &#39;Cultural&#39; und &#39;Tech&#39;, die jeweils die entsprechenden Unterkomponenten rendern.</li>
<li>Der Inhalt des Dashboards ist scrollbar (<code>overflow-y-auto</code>).</li>
<li>Verwendet Icons von <code>IconComponents</code> und den <code>useTranslations</code> Hook für lokalisierte Texte.</li>
<li>Das Schließen des Dashboards erfolgt durch Klicken auf den Schließen-Button oder außerhalb des Modal-Inhalts.</li>
</ul>
<h3>Schnittstellen</h3>
<h4><code>AnalyticsDashboardProps</code></h4>
<p>Definiert die Prop-Schnittstelle für die <code>AnalyticsDashboard</code>-Komponente.</p>
<pre><code class="language-typescript">interface AnalyticsDashboardProps {
    isOpen: boolean;
    onClose: () =&gt; void;
    worldState: WorldState;
}
</code></pre>
<table>
<thead>
<tr>
<th align="left">Property-Name</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>isOpen</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Flag, das die Sichtbarkeit des Dashboards steuert.</td>
</tr>
<tr>
<td align="left"><code>onClose</code></td>
<td align="left"><code>() =&gt; void</code></td>
<td align="left">Callback-Funktion zum Schließen des Dashboards.</td>
</tr>
<tr>
<td align="left"><code>worldState</code></td>
<td align="left"><code>WorldState</code></td>
<td align="left">Enthält den vollständigen Zustand der simulierten Welt zur Analyse.</td>
</tr>
</tbody></table>

            </div>
        </div>
        </div>
        <div id="file-services-memoryService-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/memoryService.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Funktionen</h3>
<h4><code>cosineSimilarity(vecA: number[], vecB: number[]): number</code></h4>
<p>Berechnet die Kosinus-Ähnlichkeit zwischen zwei Vektoren. Dieser Wert gibt an, wie ähnlich die Richtungen der Vektoren sind, unabhängig von ihrer Größe. Eine höhere Ähnlichkeit (näher an 1) bedeutet, dass die Vektoren in die gleiche Richtung zeigen, während eine Ähnlichkeit nahe -1 bedeutet, dass sie in entgegengesetzte Richtungen zeigen. Ein Wert von 0 deutet auf Orthogonalität (keine lineare Beziehung) hin.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>vecA</code>: Ein Array von Zahlen, das den ersten Vektor repräsentiert.</li>
<li><code>vecB</code>: Ein Array von Zahlen, das den zweiten Vektor repräsentiert.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>number</code>: Die Kosinus-Ähnlichkeit zwischen <code>vecA</code> und <code>vecB</code>. Der Wert liegt im Bereich von -1.0 bis 1.0. Gibt 0 zurück, wenn die Vektoren unterschiedliche Längen haben, leer sind oder einen Vektor mit einer Norm von Null enthalten (d.h. einen Vektor, der nur Nullen enthält).</li>
</ul>
<h3>Klassen</h3>
<h4><code>VectorDB</code></h4>
<p>Eine einfache, In-Memory-Vektordatenbank zur Speicherung und Abfrage von Langzeitgedächtnisinhalten (<code>LongTermMemory</code>). Die Datenbank verwaltet eine Liste von Gedächtniseinträgen, die jeweils einen Inhalt, einen Zeitstempel und ein Embedding (Vektorrepräsentation) umfassen.</p>
<p><strong>Eigenschaften:</strong></p>
<ul>
<li><code>private memories: LongTermMemory[]</code>: Ein privates Array, das alle aktuell gespeicherten Langzeitgedächtniseinträge enthält.</li>
</ul>
<p><strong>Methoden:</strong></p>
<h5><code>addMemory(content: string, timestamp: number, embedding: number[]): void</code></h5>
<p>Fügt einen neuen Langzeitgedächtniseintrag zur Datenbank hinzu. Wenn die Anzahl der gespeicherten Gedächtnisse das konfigurierte Limit (<code>MAX_LONG_TERM_MEMORIES</code>) überschreitet, wird der älteste Eintrag (<code>memories.shift()</code>) entfernt, um das Limit einzuhalten (FIFO-Prinzip).</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>content</code>: Ein String, der den textuellen Inhalt des Gedächtnisses darstellt.</li>
<li><code>timestamp</code>: Eine Zahl, die den Zeitstempel des Gedächtnisses angibt (z.B. Unix-Timestamp).</li>
<li><code>embedding</code>: Ein Array von Zahlen, das die numerische Vektor-Einbettung (Embedding) des Gedächtnisinhalts darstellt.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>void</code>: Diese Methode gibt keinen Wert zurück.</li>
</ul>
<h5><code>search(queryVector: number[], topK: number): LongTermMemory[]</code></h5>
<p>Sucht nach den <code>topK</code> ähnlichsten Langzeitgedächtniseinträgen relativ zu einem gegebenen Abfragevektor. Die Ähnlichkeit wird mithilfe der internen <code>cosineSimilarity</code>-Funktion berechnet, und die Ergebnisse werden nach absteigender Ähnlichkeit sortiert.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>queryVector</code>: Ein Array von Zahlen, das den Vektor der Suchanfrage darstellt.</li>
<li><code>topK</code>: Eine Zahl, die die maximale Anzahl der zurückzugebenden ähnlichsten Gedächtniseinträge angibt.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>LongTermMemory[]</code>: Ein Array von <code>LongTermMemory</code>-Objekten, sortiert nach absteigender Ähnlichkeit zum <code>queryVector</code>. Wenn keine Gedächtnisse in der Datenbank vorhanden sind, wird ein leeres Array zurückgegeben.</li>
</ul>
<h5><code>loadMemories(memories: LongTermMemory[]): void</code></h5>
<p>Ersetzt die aktuell in der Datenbank gespeicherten Gedächtniseinträge vollständig durch ein neu bereitgestelltes Array von Gedächtnissen. Dies kann verwendet werden, um den Zustand der Datenbank zu initialisieren oder einen persistierten Zustand wiederherzustellen.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>memories</code>: Ein Array von <code>LongTermMemory</code>-Objekten, die die neuen Gedächtniseinträge darstellen, die geladen werden sollen.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>void</code>: Diese Methode gibt keinen Wert zurück.</li>
</ul>
<h3>Importierte Typen und Konstanten</h3>
<h4><code>LongTermMemory</code> (Typ)</h4>
<p>Ein Typ, der die Struktur eines einzelnen Langzeitgedächtniseintrags definiert, wie er in der <code>VectorDB</code> gespeichert wird.</p>
<p><strong>Eigenschaften:</strong></p>
<ul>
<li><code>content: string</code>: Der textuelle Inhalt des Gedächtnisses.</li>
<li><code>timestamp: number</code>: Der Zeitstempel (z.B. Unix-Timestamp), wann das Gedächtnis erstellt oder zuletzt aktualisiert wurde.</li>
<li><code>embedding: number[]</code>: Die numerische Vektorrepräsentation (Embedding) des Gedächtnisinhalts, die für Ähnlichkeitssuchen verwendet wird.</li>
</ul>
<h4><code>MAX_LONG_TERM_MEMORIES</code> (Konstante)</h4>
<p>Eine numerische Konstante, die die maximale Anzahl der <code>LongTermMemory</code>-Einträge definiert, die die <code>VectorDB</code> speichern kann. Wenn diese Grenze durch Hinzufügen neuer Gedächtnisse überschritten wird, wird der älteste Eintrag automatisch entfernt, um die Kapazität zu wahren.</p>

            </div>
        </div>
        </div>
        <div id="file-Dokumentation-md" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> Dokumentation.md</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Interfaces &amp; Types</h3>
<h4><code>Agent</code></h4>
<p>Repräsentiert eine KI-gesteuerte Entität in der Simulation mit komplexen internen Zuständen und Eigenschaften.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutiger Bezeichner des Agenten.</td>
</tr>
<tr>
<td align="left"><code>position</code></td>
<td align="left"><code>{ x: number, y: number }</code></td>
<td align="left">Aktuelle Position des Agenten auf dem 2D-Gitter.</td>
</tr>
<tr>
<td align="left"><code>alter</code></td>
<td align="left"><code>number</code></td>
<td align="left">Alter des Agenten (gemessen in Simulationsschritten/Wochen).</td>
</tr>
<tr>
<td align="left"><code>gesundheit</code></td>
<td align="left"><code>number</code></td>
<td align="left">Aktueller Gesundheitszustand des Agenten. Fällt bei hohem <code>Stress</code> oder unerfüllten <code>Bedürfnissen</code>.</td>
</tr>
<tr>
<td align="left"><code>inventar</code></td>
<td align="left"><code>Map&lt;string, number&gt;</code></td>
<td align="left">Besitztümer und Ressourcen, die der Agent mit sich führt (z.B. <code>{&#39;Nahrung&#39;: 10}</code>).</td>
</tr>
<tr>
<td align="left"><code>jailJournal</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von KI-generierten Tagebucheinträgen, falls der Agent inhaftiert ist.</td>
</tr>
<tr>
<td align="left"><code>hunger</code></td>
<td align="left"><code>number</code></td>
<td align="left">Aktueller Hunger-Wert. Steigt kontinuierlich an.</td>
</tr>
<tr>
<td align="left"><code>durst</code></td>
<td align="left"><code>number</code></td>
<td align="left">Aktueller Durst-Wert. Steigt kontinuierlich an.</td>
</tr>
<tr>
<td align="left"><code>müdigkeit</code></td>
<td align="left"><code>number</code></td>
<td align="left">Aktueller Müdigkeits-Wert. Steigt kontinuierlich an.</td>
</tr>
<tr>
<td align="left"><code>stress</code></td>
<td align="left"><code>number</code></td>
<td align="left">Stresslevel des Agenten, beeinflusst durch unerfüllte Bedürfnisse oder traumatische Ereignisse.</td>
</tr>
<tr>
<td align="left"><code>inhaftiert</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Gibt an, ob der Agent derzeit inhaftiert ist.</td>
</tr>
<tr>
<td align="left"><code>imprisonedUntil</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Simulationsschritt, bis zu dem der Agent inhaftiert ist.</td>
</tr>
<tr>
<td align="left"><code>genom</code></td>
<td align="left"><code>Map&lt;string, boolean&gt;</code></td>
<td align="left">Genetische Merkmale, die Fähigkeiten beeinflussen (z.B. <code>{&#39;G-AGILE&#39;: true, &#39;G-INTELLIGENT&#39;: true}</code>).</td>
</tr>
<tr>
<td align="left"><code>persönlichkeit</code></td>
<td align="left"><code>{ Offenheit: number, ... }</code></td>
<td align="left">Die &quot;Big Five&quot; Persönlichkeitsmerkmale (Werte typischerweise 0-1 oder 0-100).</td>
</tr>
<tr>
<td align="left"><code>psyche</code></td>
<td align="left"><code>{ Eifersucht: number, ... }</code></td>
<td align="left">Tiefergehende, langsam veränderliche psychologische Antriebe (z.B. <code>Rachsucht</code>, <code>Sinnsuche</code>, <code>Todesangst</code>).</td>
</tr>
<tr>
<td align="left"><code>emotionen</code></td>
<td align="left"><code>{ Freude: number, ... }</code></td>
<td align="left">Kurzfristige Gefühle, die auf Ereignisse reagieren und mit der Zeit abklingen (z.B. <code>Trauer</code>, <code>Wut</code>).</td>
</tr>
<tr>
<td align="left"><code>beliefNetwork</code></td>
<td align="left"><code>Map&lt;string, number&gt;</code></td>
<td align="left">Ein Netzwerk von Überzeugungen mit Werten (z.B. <code>{&#39;natur_ist_gut&#39;: 0.8}</code>).</td>
</tr>
<tr>
<td align="left"><code>ziele</code></td>
<td align="left"><code>Goal[]</code></td>
<td align="left">Eine Liste dynamisch entwickelter, langfristiger Ziele des Agenten.</td>
</tr>
<tr>
<td align="left"><code>beziehungen</code></td>
<td align="left"><code>Map&lt;string, Relationship&gt;</code></td>
<td align="left">Beziehungen zu anderen Agenten, indiziert nach deren IDs.</td>
</tr>
<tr>
<td align="left"><code>kultur</code></td>
<td align="left"><code>string</code></td>
<td align="left">ID der Kultur, der der Agent angehört.</td>
</tr>
<tr>
<td align="left"><code>religion</code></td>
<td align="left"><code>string</code></td>
<td align="left">ID der Religion, der der Agent angehört.</td>
</tr>
<tr>
<td align="left"><code>adminAgent</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Wenn <code>true</code>, schaltet dies das &quot;Admin-Panel&quot; für den Agenten frei (Gott-Modus).</td>
</tr>
</tbody></table>
<h4><code>Entity</code></h4>
<p>Repräsentiert statische oder semi-statische Objekte in der Simulationswelt. Dies kann Ressourcen, Gebäude oder andere interaktive Elemente umfassen.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutiger Bezeichner der Entität.</td>
</tr>
<tr>
<td align="left"><code>type</code></td>
<td align="left"><code>&#39;resource&#39; | &#39;building&#39; | ...</code></td>
<td align="left">Der Typ der Entität.</td>
</tr>
<tr>
<td align="left"><code>position</code></td>
<td align="left"><code>{ x: number, y: number }</code></td>
<td align="left">Aktuelle Position der Entität auf dem 2D-Gitter.</td>
</tr>
<tr>
<td align="left"><code>menge</code></td>
<td align="left"><code>number</code></td>
<td align="left">Nur für Ressourcen: Die verbleibende Menge, die abgebaut werden kann.</td>
</tr>
<tr>
<td align="left"><code>ownerId</code></td>
<td align="left"><code>string | null</code></td>
<td align="left">ID des Agenten, dem diese Entität gehört, falls zutreffend.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Name der Entität (z.B. &quot;Beerenbusch&quot;, &quot;Marktplatz&quot;, &quot;Gefängnis&quot;).</td>
</tr>
<tr>
<td align="left"><code>isMineable</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Nur für Ressourcen: Gibt an, ob die Ressource von Agenten abgebaut werden kann.</td>
</tr>
</tbody></table>
<h4><code>Relationship</code></h4>
<p>Definiert die Art und Stärke der Beziehung zwischen zwei Agenten.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>type</code></td>
<td align="left"><code>string</code></td>
<td align="left">Art der Beziehung (z.B. <code>&#39;Freund&#39;</code>, <code>&#39;Rivale&#39;</code>, <code>&#39;Ehepartner&#39;</code>).</td>
</tr>
<tr>
<td align="left"><code>value</code></td>
<td align="left"><code>number</code></td>
<td align="left">Numerischer Wert, der die Stärke oder Intensität der Beziehung darstellt.</td>
</tr>
<tr>
<td align="left"><code>agentId</code></td>
<td align="left"><code>string</code></td>
<td align="left">ID des anderen Agenten in dieser Beziehung.</td>
</tr>
</tbody></table>
<h4><code>Goal</code></h4>
<p>Repräsentiert ein langfristiges Ziel, das ein Agent verfolgt.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Name oder Beschreibung des Ziels (z.B. &quot;Anführer werden&quot;, &quot;Rache nehmen&quot;).</td>
</tr>
<tr>
<td align="left"><code>priority</code></td>
<td align="left"><code>number</code></td>
<td align="left">Die Wichtigkeit oder Dringlichkeit des Ziels für den Agenten.</td>
</tr>
<tr>
<td align="left"><code>isActive</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Gibt an, ob das Ziel derzeit aktiv verfolgt wird.</td>
</tr>
</tbody></table>
<h4><code>Memory</code></h4>
<p>Repräsentiert eine gespeicherte Erinnerung eines Agenten im Langzeitgedächtnis.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>textContent</code></td>
<td align="left"><code>string</code></td>
<td align="left">Der originale Text der Erinnerung (z.B. &quot;Ich sammelte 5 Nahrung...&quot;).</td>
</tr>
<tr>
<td align="left"><code>embedding</code></td>
<td align="left"><code>number[]</code></td>
<td align="left">Der Vektor (Embedding), der die semantische Bedeutung der Erinnerung darstellt.</td>
</tr>
<tr>
<td align="left"><code>timestamp</code></td>
<td align="left"><code>number</code></td>
<td align="left">Der Simulationsschritt, zu dem die Erinnerung generiert wurde.</td>
</tr>
</tbody></table>
<h4><code>ActionDefinition</code></h4>
<p>Definiert eine Aktion, die ein Agent ausführen kann, einschließlich ihrer mechanischen Effekte.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutiger Name der Aktion (z.B. &quot;Move North&quot;, &quot;Gather Food&quot;, &quot;Fight&quot;).</td>
</tr>
<tr>
<td align="left"><code>cost</code></td>
<td align="left"><code>number</code></td>
<td align="left">Kosten der Aktion (z.B. Energie, Zeit).</td>
</tr>
<tr>
<td align="left"><code>statusChanges</code></td>
<td align="left"><code>object</code></td>
<td align="left">Änderungen an Agenten-Attributen nach Ausführung der Aktion (z.B. <code>{ hunger: -10, health: +5 }</code>).</td>
</tr>
<tr>
<td align="left"><code>skillGains</code></td>
<td align="left"><code>Map&lt;string, number&gt;</code></td>
<td align="left">Gewonnene Fähigkeitspunkte durch Ausführung der Aktion (z.B. <code>{&#39;Gathering&#39;: 1}</code>).</td>
</tr>
<tr>
<td align="left"><code>effects</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eine Beschreibung der Auswirkungen der Aktion auf die Welt oder andere Agenten.</td>
</tr>
<tr>
<td align="left"><code>requires</code></td>
<td align="left"><code>object</code></td>
<td align="left">Optional: Voraussetzungen für die Aktion (z.B. <code>{&#39;item&#39;: &#39;Axt&#39;, &#39;skillLevel&#39;: {&#39;Crafting&#39;: 5}}</code>).</td>
</tr>
<tr>
<td align="left"><code>illegal</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Gibt an, ob die Aktion als illegal gilt.</td>
</tr>
</tbody></table>
<h4><code>PsychoanalysisReport</code></h4>
<p>Das Ergebnis einer KI-gesteuerten tiefenpsychologischen Analyse eines Agenten.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>detailedReport</code></td>
<td align="left"><code>string</code></td>
<td align="left">Ein umfassender Textbericht über die psychische Verfassung des Agenten.</td>
</tr>
<tr>
<td align="left"><code>unconsciousConflicts</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste identifizierter unbewusster Konflikte oder Traumata.</td>
</tr>
<tr>
<td align="left"><code>therapeuticRecommendations</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Vorschläge für &quot;therapeutische&quot; Ansätze, die in die Agenten-Psyche integriert werden können (z.B. neue Ziele).</td>
</tr>
</tbody></table>
<h4><code>Technology</code></h4>
<p>Definiert eine Technologie im Technologiebaum.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutiger Bezeichner der Technologie.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Anzeigename der Technologie (z.B. &quot;Landwirtschaft&quot;, &quot;Metallverarbeitung&quot;).</td>
</tr>
<tr>
<td align="left"><code>cost</code></td>
<td align="left"><code>number</code></td>
<td align="left">Forschungskosten der Technologie.</td>
</tr>
<tr>
<td align="left"><code>prerequisites</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von IDs anderer Technologien, die vor dieser erforscht werden müssen.</td>
</tr>
<tr>
<td align="left"><code>unlocks</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Eine Liste von IDs von Aktionen oder Rezepten, die diese Technologie freischaltet.</td>
</tr>
</tbody></table>
<h4><code>Recipe</code></h4>
<p>Definiert ein Handwerksrezept.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutiger Bezeichner des Rezepts.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Anzeigename des Rezepts (z.B. &quot;Brot backen&quot;).</td>
</tr>
<tr>
<td align="left"><code>result</code></td>
<td align="left"><code>Map&lt;string, number&gt;</code></td>
<td align="left">Die durch das Rezept hergestellten Gegenstände/Ressourcen (z.B. <code>{&#39;Brot&#39;: 1}</code>).</td>
</tr>
<tr>
<td align="left"><code>ingredients</code></td>
<td align="left"><code>Map&lt;string, number&gt;</code></td>
<td align="left">Die für das Rezept benötigten Zutaten (z.B. <code>{&#39;Weizen&#39;: 2, &#39;Wasser&#39;: 1}</code>).</td>
</tr>
<tr>
<td align="left"><code>skillRequired</code></td>
<td align="left"><code>Map&lt;string, number&gt;</code></td>
<td align="left">Optional: Benötigte Fähigkeitslevel (z.B. <code>{&#39;Cooking&#39;: 3}</code>).</td>
</tr>
<tr>
<td align="left"><code>techRequired</code></td>
<td align="left"><code>string[]</code></td>
<td align="left">Optional: Benötigte Technologien.</td>
</tr>
</tbody></table>
<h4><code>Law</code></h4>
<p>Definiert ein Gesetz im System.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>string</code></td>
<td align="left">Eindeutiger Bezeichner des Gesetzes.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>string</code></td>
<td align="left">Name des Gesetzes (z.B. &quot;Diebstahl ist verboten&quot;).</td>
</tr>
<tr>
<td align="left"><code>effect</code></td>
<td align="left"><code>string</code></td>
<td align="left">Beschreibung der Auswirkung des Gesetzes auf Agentenverhalten oder Bestrafungen.</td>
</tr>
<tr>
<td align="left"><code>active</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">Gibt an, ob das Gesetz derzeit in Kraft ist.</td>
</tr>
</tbody></table>
<h4><code>WorldState</code> (Implizit)</h4>
<p>Das globale Zustandsobjekt der Simulation, das alle Agenten, Entitäten und globale Parameter enthält.</p>
<table>
<thead>
<tr>
<th align="left">Eigenschaft</th>
<th align="left">Typ</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>width</code></td>
<td align="left"><code>number</code></td>
<td align="left">Breite des Simulationsgitters.</td>
</tr>
<tr>
<td align="left"><code>height</code></td>
<td align="left"><code>number</code></td>
<td align="left">Höhe des Simulationsgitters.</td>
</tr>
<tr>
<td align="left"><code>time</code></td>
<td align="left"><code>number</code></td>
<td align="left">Aktuelle Simulationszeit (in Schritten).</td>
</tr>
<tr>
<td align="left"><code>agents</code></td>
<td align="left"><code>Map&lt;string, Agent&gt;</code></td>
<td align="left">Alle Agenten in der Simulation.</td>
</tr>
<tr>
<td align="left"><code>entities</code></td>
<td align="left"><code>Map&lt;string, Entity&gt;</code></td>
<td align="left">Alle Entitäten in der Simulation.</td>
</tr>
<tr>
<td align="left"><code>events</code></td>
<td align="left"><code>any[]</code></td>
<td align="left">Liste globaler Ereignisse (z.B. Wahlen).</td>
</tr>
<tr>
<td align="left"><code>laws</code></td>
<td align="left"><code>Map&lt;string, Law&gt;</code></td>
<td align="left">Aktive Gesetze in der Simulation.</td>
</tr>
<tr>
<td align="left"><code>cultures</code></td>
<td align="left"><code>Map&lt;string, { techTree: Technology[]}&gt;</code></td>
<td align="left">Definiert die Kulturen und deren Forschungsfortschritt.</td>
</tr>
</tbody></table>
<h3>Klassen</h3>
<h4><code>VectorDB</code></h4>
<p>Eine benutzerdefinierte, im Arbeitsspeicher laufende Vektordatenbank (<code>memoryService.ts</code>) zur Verwaltung des Langzeitgedächtnisses von Agenten. Nutzt Kosinus-Ähnlichkeit für den Abruf relevanter Erinnerungen.</p>
<table>
<thead>
<tr>
<th align="left">Methode</th>
<th align="left">Parameter</th>
<th align="left">Rückgabewert</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>addMemory</code></td>
<td align="left"><code>memory: Memory</code></td>
<td align="left"><code>void</code></td>
<td align="left">Fügt eine neue Erinnerung zur Datenbank hinzu.</td>
</tr>
<tr>
<td align="left"><code>query</code></td>
<td align="left"><code>queryVector: number[]</code>, <code>limit: number</code></td>
<td align="left"><code>Memory[]</code></td>
<td align="left">Führt eine Ähnlichkeitssuche durch und gibt die <code>limit</code> ähnlichsten Erinnerungen zurück.</td>
</tr>
<tr>
<td align="left"><code>getAllMemories</code></td>
<td align="left"><code>-</code></td>
<td align="left"><code>Memory[]</code></td>
<td align="left">Gibt alle gespeicherten Erinnerungen zurück.</td>
</tr>
</tbody></table>
<h4><code>RealityEngine</code> (Implizit)</h4>
<p>Die Kernlogik-Engine der Simulation, die den Simulationszyklus steuert, Agenten-Updates verarbeitet und die Interaktion zwischen Agenten und Welt koordiniert. Sie ist zentral im <code>services/simulation.ts</code> Modul und wird durch den <code>useSimulation</code>-Hook gesteuert.</p>
<table>
<thead>
<tr>
<th align="left">Methode</th>
<th align="left">Parameter</th>
<th align="left">Rückgabewert</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>runStep</code></td>
<td align="left"><code>worldState: WorldState</code></td>
<td align="left"><code>WorldState</code></td>
<td align="left">Führt einen einzelnen Simulationsschritt aus, aktualisiert globale Parameter und alle Agenten.</td>
</tr>
<tr>
<td align="left"><code>initializeWorld</code></td>
<td align="left"><code>config: object</code></td>
<td align="left"><code>WorldState</code></td>
<td align="left">Erstellt einen initialen Simulationszustand, basierend auf Konfigurationsvorgaben.</td>
</tr>
<tr>
<td align="left"><code>applyPerStepMechanisms</code></td>
<td align="left"><code>agent: Agent</code>, <code>worldState: WorldState</code></td>
<td align="left"><code>Agent</code></td>
<td align="left">Aktualisiert passive Agenten-Attribute (Bedürfnisse, Gesundheit, Emotionen) pro Schritt.</td>
</tr>
<tr>
<td align="left"><code>chooseAction</code></td>
<td align="left"><code>agent: Agent</code>, <code>worldState: WorldState</code>, <code>relevantMemories: Memory[]</code></td>
<td align="left"><code>ActionDefinition</code></td>
<td align="left">Wählt die nächste Aktion für einen Agenten basierend auf internen Zuständen und externen Faktoren.</td>
</tr>
<tr>
<td align="left"><code>executeAction</code></td>
<td align="left"><code>agent: Agent</code>, <code>action: ActionDefinition</code>, <code>worldState: WorldState</code></td>
<td align="left"><code>object</code></td>
<td align="left">Führt die gewählte Aktion aus und aktualisiert den Zustand des Agenten und der Welt.</td>
</tr>
</tbody></table>
<h3>Funktionen</h3>
<h4>Simulation &amp; KI-Steuerung</h4>
<h5><code>createEmbedding</code></h5>
<p>Erstellt ein Vektor-Embedding aus einem Text mit Hilfe des Google Gemini <code>text-embedding-004</code> Modells.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>text</code>: <code>string</code> - Der Eingabetext, für den ein Embedding generiert werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>Promise&lt;number[]&gt;</code> - Ein Array von Zahlen, das das Vektor-Embedding darstellt.</li>
</ul>
</li>
</ul>
<h5><code>generateJournalEntry</code></h5>
<p>Generiert einen detaillierten, persönlichen Tagebucheintrag aus der Perspektive eines inhaftierten Agenten.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code>: <code>Agent</code> - Der Agent, für den der Tagebucheintrag generiert werden soll.</li>
<li><code>context</code>: <code>object</code> - Zusätzlicher Kontext (z.B. Erinnerungen an die Tat, die zur Inhaftierung führte).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>Promise&lt;string&gt;</code> - Der generierte Tagebucheintrag im Textformat.</li>
</ul>
</li>
</ul>
<h5><code>psychoanalyzeAgent</code></h5>
<p>Führt eine tiefenpsychologische Analyse eines Agenten durch und erstellt einen detaillierten Bericht mit therapeutischen Empfehlungen.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agent</code>: <code>Agent</code> - Der Agent, der analysiert werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>Promise&lt;PsychoanalysisReport&gt;</code> - Ein Objekt, das den Analysebericht, unbewusste Konflikte und therapeutische Empfehlungen enthält.</li>
</ul>
</li>
</ul>
<h5><code>directAgentCommand</code></h5>
<p>Ermöglicht die direkte Eingabe eines Aktionsnamens für einen Agenten, um dessen Verhalten zu steuern.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten, der den Befehl erhalten soll.</li>
<li><code>actionName</code>: <code>string</code> - Der exakte Name der auszuführenden Aktion (z.B. &quot;Move North&quot;).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>naturalLanguageAgentCommand</code></h5>
<p>Ermöglicht die Interaktion mit einem Agenten über natürliche Sprache, wobei KI und Vektor-Gedächtnis für die Entscheidungsfindung genutzt werden.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten, der den Befehl erhalten soll.</li>
<li><code>command</code>: <code>string</code> - Der Befehl in natürlicher Sprache (z.B. &quot;Geh etwas essen&quot;).</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>Promise&lt;void&gt;</code> - Die Aktion wird asynchron verarbeitet.</li>
</ul>
</li>
</ul>
<h4>Zustandsverwaltung &amp; Export</h4>
<h5><code>saveState</code></h5>
<p>Speichert den gesamten Simulationszustand in einer JSON-Datei.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>worldState</code>: <code>WorldState</code> - Der aktuelle Zustand der Simulation.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>string</code> - Der Simulationszustand als JSON-String. (Die Speicherung in eine Datei erfolgt Client-seitig durch die File API)</li>
</ul>
</li>
</ul>
<h5><code>loadState</code></h5>
<p>Lädt einen Simulationszustand aus einer JSON-Datei.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>jsonString</code>: <code>string</code> - Der JSON-String, der den gespeicherten Simulationszustand enthält.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>WorldState</code> - Der geladene Simulationszustand.</li>
</ul>
</li>
</ul>
<h5><code>exportConversations</code></h5>
<p>Exportiert alle bisherigen Konversationen der Agenten in eine Markdown-Datei.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>conversationsData</code>: <code>object</code> - Datenstruktur, die alle Agenten-Konversationen enthält.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>string</code> - Ein Markdown-formatierter String der Konversationen.</li>
</ul>
</li>
</ul>
<h5><code>exportStatistics</code></h5>
<p>Generiert einen zusammenfassenden Bericht über wichtige Ereignisse (Eheschließungen, Geburten, Inhaftierungen, Kämpfe) im Markdown-Format.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>simulationData</code>: <code>object</code> - Die Daten der Simulation, aus denen Statistiken extrahiert werden sollen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>string</code> - Ein Markdown-formatierter Statistikbericht.</li>
</ul>
</li>
</ul>
<h4>Manuelle Erstellung &amp; Admin-Funktionen</h4>
<h5><code>createAgent</code></h5>
<p>Fügt manuell einen neuen Agenten zur Simulation hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentData</code>: <code>Partial&lt;Agent&gt;</code> - Ein Objekt, das die Eigenschaften des neuen Agenten definiert.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>createEntity</code></h5>
<p>Fügt manuell eine neue Entität (Ressource, Gebäude) zur Welt hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>entityData</code>: <code>Partial&lt;Entity&gt;</code> - Ein Objekt, das die Eigenschaften der neuen Entität definiert.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>createAction</code></h5>
<p>Fügt eine neue, benutzerdefinierte Aktion mit spezifischen Effekten zur Laufzeit hinzu.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>actionDefinition</code>: <code>ActionDefinition</code> - Die Definition der neuen Aktion.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>startElections</code></h5>
<p>Löst einen Wahlprozess in der Simulation aus.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>-</code></li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>setLeader</code></h5>
<p>Setzt einen Agenten manuell als Anführer der Gemeinschaft ein.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des Agenten, der zum Anführer ernannt werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>enactLaw</code></h5>
<p>Erlässt ein neues Gesetz in der Simulation.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>law</code>: <code>Law</code> - Das zu erlassende Gesetz.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>revokeLaw</code></h5>
<p>Widerruft ein bestehendes Gesetz.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>lawId</code>: <code>string</code> - Die ID des aufzuhebenden Gesetzes.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>setAgentAttribute</code></h5>
<p>Passt ein bestimmtes Attribut eines Agenten manuell an.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des zu ändernden Agenten.</li>
<li><code>attribute</code>: <code>keyof Agent</code> - Der Name des Attributs (Schlüssel der <code>Agent</code>-Schnittstelle).</li>
<li><code>value</code>: <code>any</code> - Der neue Wert für das Attribut.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h5><code>reviveAgent</code></h5>
<p>Belebt einen toten Agenten wieder.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>agentId</code>: <code>string</code> - Die ID des wiederzubelebenden Agenten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>void</code></li>
</ul>
</li>
</ul>
<h3>Komponenten</h3>
<h4><code>Steuerungspanel</code></h4>
<p>Ein UI-Panel, das grundlegende Steuerungsfunktionen für die Simulation bereitstellt.</p>
<ul>
<li><strong>Zweck:</strong> Ermöglicht dem Benutzer das Starten, Anhalten und Zurücksetzen der Simulation sowie das Generieren von Welten.</li>
<li><strong>Interne Funktionen/Schaltflächen:</strong><ul>
<li><strong>Step:</strong> Führt die Simulation um einen Schritt weiter.</li>
<li><strong>Run:</strong> Lässt die Simulation kontinuierlich für mehrere Schritte laufen.</li>
<li><strong>Reset:</strong> Setzt die gesamte Simulationswelt auf ihren Ausgangszustand zurück.</li>
<li><strong>Generate World / Add with AI:</strong> Initiiert die KI-gesteuerte Generierung einer neuen Weltbevölkerung oder fügt Agenten/Entitäten hinzu.</li>
</ul>
</li>
</ul>
<h4><code>Einstellungsmenü</code></h4>
<p>Ein Konfigurationsmenü (symbolisiert durch ein Zahnrad-Icon) zur Anpassung der KI-Anbieter-Einstellungen.</p>
<ul>
<li><strong>Zweck:</strong> Ermöglicht die Konfiguration von Google Gemini oder LM Studio als KI-Backend für die Agentenintelligenz und das Gedächtnissystem.</li>
<li><strong>Props:</strong> Nicht explizit genannt, aber impliziert sind Konfigurationsfelder wie <code>apiKey</code>, <code>serverUrl</code>, <code>chatModelId</code>, <code>embeddingModelId</code>.</li>
</ul>
<h4><code>Agentenkarte</code></h4>
<p>Eine UI-Komponente, die detaillierte Informationen zu einem einzelnen Agenten anzeigt und Interaktion ermöglicht.</p>
<ul>
<li><strong>Zweck:</strong> Visualisiert den internen Zustand eines Agenten (Persönlichkeit, Bedürfnisse, Emotionen etc.) und dient als Schnittstelle für direkte Benutzerinteraktion.</li>
<li><strong>Props:</strong><ul>
<li><code>agent</code>: <code>Agent</code> - Der Agent, dessen Details angezeigt und mit dem interagiert werden soll.</li>
</ul>
</li>
<li><strong>Interne Funktionen/Schaltflächen:</strong><ul>
<li><strong>Notizbuch-Icon:</strong> Zeigt das Gefängnistagebuch des Agenten an, falls inhaftiert.</li>
<li><strong>Eingabefelder für Befehle:</strong><ul>
<li><code>Direkter Befehl</code>: Zum Eingeben exakter Aktionsnamen (deaktiviert KI).</li>
<li><code>Natürliche Sprache (Use AI)</code>: Zum Eingeben von Befehlen in natürlicher Sprache, die von der KI verarbeitet werden.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>Create New Panel</code></h4>
<p>Ein Panel im rechten Bereich der Benutzeroberfläche, das die manuelle Erstellung von Simulationselementen ermöglicht.</p>
<ul>
<li><strong>Zweck:</strong> Ermöglicht das Hinzufügen von Agenten, Entitäten und benutzerdefinierten Aktionen ohne KI-Generierung.</li>
<li><strong>Props:</strong> Keine expliziten Props, da es sich um eine feststehende Komponente im UI-Layout handelt.</li>
<li><strong>Interne Funktionen/Felder:</strong><ul>
<li><strong>Agent erstellen:</strong> Formular zur Definition neuer Agenten.</li>
<li><strong>Entität erstellen:</strong> Formular zur Definition neuer Weltobjekte.</li>
<li><strong>Aktion erstellen:</strong> Formular zur Definition neuer Agentenaktionen.</li>
</ul>
</li>
</ul>
<h4><code>Admin-Panel</code> (Gott-Modus)</h4>
<p>Ein spezielles Panel, das nur sichtbar wird, wenn ein Agent mit dem Attribut <code>adminAgent: true</code> ausgewählt ist.</p>
<ul>
<li><strong>Zweck:</strong> Bietet &quot;gottgleiche&quot; Kontrolle über zentrale Simulationsparameter und -mechaniken.</li>
<li><strong>Props:</strong><ul>
<li><code>adminAgent</code>: <code>Agent</code> - Der ausgewählte Agent, der Admin-Rechte besitzt.</li>
</ul>
</li>
<li><strong>Interne Funktionen/Schaltflächen:</strong><ul>
<li><strong>Politische Verwaltung:</strong> Starten von Wahlen, Setzen von Anführern, Erlassen/Widerrufen von Gesetzen.</li>
<li><strong>Technologie-Management:</strong> Beobachten des Forschungsfortschritts, manuelles Freischalten von Technologien.</li>
<li><strong>Agenten-Management:</strong> Anpassen von Agenten-Attributen (Gesundheit, Währung, Position), Wiederbeleben toter Agenten.</li>
</ul>
</li>
</ul>
<h4><code>Analytics Dashboard</code></h4>
<p>Ein separates Dashboard (erreichbar über ein Balkendiagramm-Icon), das Makro-Ansichten der Simulationsdynamik bietet.</p>
<ul>
<li><strong>Zweck:</strong> Visualisiert emergente Muster und soziale, wirtschaftliche, kulturelle und technologische Entwicklungen der Simulation.</li>
<li><strong>Props:</strong> Keine expliziten Props, da es auf globalen Simulationsdaten basiert.</li>
<li><strong>Tabs/Ansichten:</strong><ul>
<li><strong>Soziales Netzwerk:</strong> Visualisiert Beziehungen zwischen Agenten als Graph.</li>
<li><strong>Wirtschaftsflüsse:</strong> Zeigt den Fluss von Währung zwischen Agenten und der Welt.</li>
<li><strong>Kulturelle Ausbreitung:</strong> Heatmap der Weltkarte, die die Konzentration von Kulturen zeigt.</li>
<li><strong>Technologie:</strong> Fortschrittsbalken für Technologien jeder Kultur.</li>
</ul>
</li>
</ul>
<h4><code>WorldGraph.tsx</code></h4>
<p>Eine benutzerdefinierte SVG-Komponente, die die 2D-Gitterwelt visualisiert.</p>
<ul>
<li><strong>Zweck:</strong> Stellt Agenten, Entitäten und ihre Positionen sowie Beziehungen auf der Karte dar.</li>
<li><strong>Props:</strong><ul>
<li><code>agents</code>: <code>Agent[]</code> - Die Liste der darzustellenden Agenten.</li>
<li><code>entities</code>: <code>Entity[]</code> - Die Liste der darzustellenden Entitäten.</li>
<li><code>width</code>: <code>number</code> - Breite des Grids.</li>
<li><code>height</code>: <code>number</code> - Höhe des Grids.</li>
<li><code>selectedAgentId</code>: <code>string</code> - Optional, die ID des aktuell ausgewählten Agenten zur Hervorhebung.</li>
<li><code>relationsToDisplay</code>: <code>Relationship[]</code> - Optional, Beziehungen, die visualisiert werden sollen (z.B. Linien zwischen Agenten).</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-package-json" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> package.json</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Projekt-Metadaten</h3>
<ul>
<li><p><strong><code>name</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Definiert den Namen des Projekts oder Pakets. Dieser Name wird verwendet, um das Paket in Registries (z.B. npm) zu identifizieren.</li>
<li><strong>Wert</strong>: <code>ver.-20-realitysim-ai</code></li>
</ul>
</li>
<li><p><strong><code>private</code></strong>: <code>boolean</code></p>
<ul>
<li><strong>Zweck</strong>: Zeigt an, ob das Paket privat ist und nicht versehentlich in einer Paket-Registry veröffentlicht werden soll. Ein Wert von <code>true</code> verhindert die Veröffentlichung.</li>
<li><strong>Wert</strong>: <code>true</code></li>
</ul>
</li>
<li><p><strong><code>version</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Gibt die aktuelle Version des Projekts an. Folgt in der Regel dem Semantic Versioning (SemVer) Schema (MAJOR.MINOR.PATCH).</li>
<li><strong>Wert</strong>: <code>0.0.0</code></li>
</ul>
</li>
<li><p><strong><code>type</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Definiert den Modultyp für alle <code>.js</code>-Dateien im Projekt, sofern nicht anders angegeben. Ein Wert von <code>module</code> signalisiert, dass ES-Module verwendet werden, was <code>import</code>/<code>export</code> Syntax ohne Dateiendung ermöglicht.</li>
<li><strong>Wert</strong>: <code>module</code></li>
</ul>
</li>
</ul>
<h3>Skripte</h3>
<ul>
<li><strong><code>scripts</code></strong>: <code>object</code><ul>
<li><p><strong>Zweck</strong>: Eine Sammlung von Befehlen, die als Skripte ausgeführt werden können, typischerweise über <code>npm run &lt;script-name&gt;</code> oder <code>yarn &lt;script-name&gt;</code>.</p>
</li>
<li><p><strong><code>dev</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Startet den Entwicklungsserver. Wird typischerweise für die lokale Entwicklung mit Hot Module Replacement (HMR) verwendet.</li>
<li><strong>Befehl</strong>: <code>vite</code></li>
</ul>
</li>
<li><p><strong><code>build</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Kompiliert das Projekt für die Produktion. Erzeugt optimierte statische Assets, die bereitgestellt werden können.</li>
<li><strong>Befehl</strong>: <code>vite build</code></li>
</ul>
</li>
<li><p><strong><code>preview</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Dient dazu, einen lokalen Server zu starten, der die Produktions-Build-Dateien hostet, um diese vor der Bereitstellung zu überprüfen.</li>
<li><strong>Befehl</strong>: <code>vite preview</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Laufzeitabhängigkeiten</h3>
<ul>
<li><strong><code>dependencies</code></strong>: <code>object</code><ul>
<li><p><strong>Zweck</strong>: Eine Liste der Pakete, die für die Ausführung des Projekts in einer Produktionsumgebung erforderlich sind. Diese Pakete werden mit dem Projekt ausgeliefert.</p>
</li>
<li><p><strong><code>react</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Die Kernbibliothek für den Aufbau von Benutzeroberflächen.</li>
<li><strong>Version</strong>: <code>^19.1.1</code> (bedeutet kompatibel mit Version 19.1.1 und neueren Patch- und Minor-Versionen bis zur nächsten Hauptversion)</li>
</ul>
</li>
<li><p><strong><code>react-dom</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Stellt DOM-spezifische Rendering-Methoden für React bereit. Erforderlich, um React-Komponenten im Webbrowser zu rendern.</li>
<li><strong>Version</strong>: <code>^19.1.1</code></li>
</ul>
</li>
<li><p><strong><code>@google/genai</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Die offizielle Client-Bibliothek von Google für den Zugriff auf die Generative AI-Dienste (z.B. Gemini).</li>
<li><strong>Version</strong>: <code>^1.11.0</code></li>
</ul>
</li>
<li><p><strong><code>recharts</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Eine Diagrammbibliothek, die mit React und D3 erstellt wurde, um verschiedene Arten von Diagrammen zu visualisieren.</li>
<li><strong>Version</strong>: <code>^3.1.0</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Entwicklungsabhängigkeiten</h3>
<ul>
<li><strong><code>devDependencies</code></strong>: <code>object</code><ul>
<li><p><strong>Zweck</strong>: Eine Liste der Pakete, die nur während der Entwicklung und nicht in der Produktionsumgebung benötigt werden. Dazu gehören Tools für Linting, Testing, Bundling usw.</p>
</li>
<li><p><strong><code>@types/node</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Enthält TypeScript-Typdefinitionen für Node.js-APIs. Ermöglicht die Typüberprüfung von Node.js-Modulen in TypeScript-Projekten.</li>
<li><strong>Version</strong>: <code>^22.14.0</code></li>
</ul>
</li>
<li><p><strong><code>typescript</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Eine typisierte Obermenge von JavaScript, die zu einfachem JavaScript kompiliert wird. Ermöglicht statische Typüberprüfung und verbesserte Entwicklungserfahrung.</li>
<li><strong>Version</strong>: <code>~5.8.2</code> (bedeutet kompatibel mit Version 5.8.2 und neueren Patch-Versionen in der Minor-Version 5.8.x)</li>
</ul>
</li>
<li><p><strong><code>vite</code></strong>: <code>string</code></p>
<ul>
<li><strong>Zweck</strong>: Ein Next-Generation-Frontend-Tooling, das für schnelle Entwicklung und optimierte Builds entwickelt wurde. Wird als Entwicklungsserver und Build-Tool verwendet.</li>
<li><strong>Version</strong>: <code>^6.2.0</code></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-index-html" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> index.html</h2>
            <div class="prose prose-invert max-w-none">
            <h3>HTML-Struktur und Metadaten</h3>
<ul>
<li><strong><code>&lt;!DOCTYPE html&gt;</code></strong>: Deklariert das Dokument als HTML5.</li>
<li><strong><code>&lt;html lang=&quot;en&quot;&gt;</code></strong>: Das Wurzelelement des Dokuments, deklariert die Sprache als Englisch.</li>
<li><strong><code>&lt;head&gt;</code></strong>: Enthält Metadaten und Verweise auf externe Ressourcen.<ul>
<li><strong><code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code></strong>: Legt die Zeichenkodierung des Dokuments auf UTF-8 fest, was eine breite Palette von Zeichen unterstützt.</li>
<li><strong><code>&lt;link rel=&quot;icon&quot; type=&quot;image/svg+xml&quot; href=&quot;/vite.svg&quot; /&gt;</code></strong>: Definiert ein Favicon für die Webseite, das auf eine SVG-Datei (<code>/vite.svg</code>) verweist.</li>
<li><strong><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</code></strong>: Konfiguriert den Viewport für responsives Design, sodass die Seite die Gerätebreite nutzt und beim Laden auf 100% Zoom eingestellt ist.</li>
<li><strong><code>&lt;title&gt;RealitySim AI&lt;/title&gt;</code></strong>: Setzt den Titel der Webseite, der im Browser-Tab oder -Fenster angezeigt wird.</li>
</ul>
</li>
</ul>
<h3>Styling-Konfiguration</h3>
<ul>
<li><strong>Tailwind CSS CDN</strong>:<ul>
<li><strong><code>&lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;</code></strong>: Bindet das Tailwind CSS Framework über ein Content Delivery Network (CDN) in das Dokument ein. Dies ermöglicht die Nutzung von Utility-Klassen zur Gestaltung der Benutzeroberfläche.</li>
</ul>
</li>
<li><strong>Inline Tailwind Konfiguration</strong>:<ul>
<li><strong><code>tailwind.config = { ... }</code></strong>: Ein JavaScript-Block zur Anpassung der Tailwind CSS-Standardkonfiguration.<ul>
<li><strong><code>theme.extend.colors.slate.850: &#39;#172033&#39;</code></strong>: Erweitert die vorhandenen Farbpaletten von Tailwind um eine benutzerdefinierte <code>slate-850</code>-Farbe mit dem Hexadezimalwert <code>#172033</code>.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Lokale Stylesheet-Datei</strong>:<ul>
<li><strong><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/index.css&quot;&gt;</code></strong>: Bindet eine lokale CSS-Datei (<code>/index.css</code>) ein, die wahrscheinlich anwendungsspezifische Stile oder Überschreibungen enthält.</li>
</ul>
</li>
<li><strong>Body-Standardstile</strong>:<ul>
<li><strong><code>&lt;body class=&quot;bg-slate-900 text-slate-200&quot;&gt;</code></strong>: Wendet Tailwind CSS-Klassen auf das <code>&lt;body&gt;</code>-Element an, um einen dunklen Hintergrund (<code>bg-slate-900</code>) und eine helle Textfarbe (<code>text-slate-200</code>) global für die Anwendung zu setzen.</li>
</ul>
</li>
</ul>
<h3>JavaScript Modul-Management</h3>
<ul>
<li><strong>Import Map (<code>&lt;script type=&quot;importmap&quot;&gt;</code>)</strong>:<ul>
<li>Definiert ein <code>importmap</code>, das Browsern hilft, Modul-Spezifizierer auf URLs aufzulösen. Dies ermöglicht die Verwendung von &quot;bare module specifiers&quot; (z.B. <code>import React from &#39;react&#39;</code>) ohne vollständige URLs in den JavaScript-Dateien angeben zu müssen.</li>
<li><strong><code>imports</code></strong>: Objekt, das die Modul-Aliase und ihre entsprechenden URLs definiert:<ul>
<li><strong><code>&quot;react/&quot;</code>, <code>&quot;react&quot;</code></strong>: Beide verweisen auf <code>https://esm.sh/react@^19.1.1</code>, um das React-Framework zu laden.</li>
<li><strong><code>&quot;react-dom/&quot;</code></strong>: Verweist auf <code>https://esm.sh/react-dom@^19.1.1/</code>, um das React DOM-Paket zu laden, das für die Interaktion mit dem DOM benötigt wird.</li>
<li><strong><code>&quot;@google/genai&quot;</code></strong>: Verweist auf <code>https://esm.sh/@google/genai@^1.11.0</code>, um die Google Generative AI-Bibliothek einzubinden.</li>
<li><strong><code>&quot;recharts&quot;</code></strong>: Verweist auf <code>https://esm.sh/recharts@^3.1.0</code>, um die Recharts-Bibliothek für Diagramme und Visualisierungen zu laden.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Anwendungs-Entrypoint</h3>
<ul>
<li><strong><code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code></strong>: Ein leeres <code>div</code>-Element, das als Mount-Point für die React-Anwendung dient. Der JavaScript-Code wird diese ID verwenden, um die React-Komponentenhierarchie in dieses Element zu rendern.</li>
<li><strong><code>&lt;script type=&quot;module&quot; src=&quot;/index.tsx&quot;&gt;&lt;/script&gt;</code></strong>:<ul>
<li>Bindet die Haupt-JavaScript/TypeScript-Anwendungsdatei (<code>/index.tsx</code>) ein.</li>
<li><code>type=&quot;module&quot;</code> zeigt an, dass diese Datei als ES-Modul geladen und ausgeführt werden soll, was die Verwendung von <code>import</code> und <code>export</code> Syntax innerhalb der Datei ermöglicht.</li>
<li>Diese Datei ist der Startpunkt der Client-Side-Anwendung, wahrscheinlich eine React-App.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-index-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> index.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <p><strong>Zweck:</strong>
Diese Datei dient als zentraler Einstiegspunkt für die React-Anwendung. Sie ist verantwortlich für die Initialisierung des React-Rendering-Prozesses, das Binden der Anwendung an ein spezifisches DOM-Element (<code>#root</code>) und das Umhüllen der Hauptanwendungskomponente (<code>App</code>) mit wichtigen Kontext-Providern, um globale Zustände oder Einstellungen für die gesamte Anwendung bereitzustellen.</p>
<p><strong>Abhängigkeiten:</strong></p>
<ul>
<li><code>react</code>: Die Hauptbibliothek für die Erstellung von Benutzeroberflächen.</li>
<li><code>react-dom/client</code>: DOM-spezifische Methoden für das Rendering von React-Komponenten im Browser (Client-Seite).</li>
<li><code>./App</code>: Die Hauptkomponente der Anwendung, die die gesamte Benutzeroberfläche kapselt.</li>
<li><code>./contexts/LanguageContext</code>: Ein benutzerdefinierter React Context Provider, der globale Sprach-Einstellungen verwaltet und diese für alle Kindkomponenten verfügbar macht.</li>
<li><code>./contexts/SettingsContext</code>: Ein benutzerdefinierter React Context Provider, der globale Anwendungseinstellungen verwaltet und diese für alle Kindkomponenten verfügbar macht.</li>
</ul>
<p><strong>Ausführungsablauf:</strong></p>
<ol>
<li><p><strong>Auffinden des Root-Elements:</strong>
Die Anwendung versucht, ein DOM-Element mit der ID <code>root</code> abzurufen. Dieses Element ist der Ankerpunkt im HTML-Dokument, in das die gesamte React-Anwendung injiziert wird.</p>
<pre><code class="language-typescript">const rootElement = document.getElementById(&#39;root&#39;);
</code></pre>
</li>
<li><p><strong>Fehlerbehandlung für das Root-Element:</strong>
Es wird eine Überprüfung durchgeführt, ob das <code>root</code>-Element erfolgreich gefunden wurde. Falls nicht, wird eine <code>Error</code>-Exception geworfen, da die Anwendung ohne einen gültigen Mount-Point nicht fortfahren kann.</p>
<pre><code class="language-typescript">if (!rootElement) {
  throw new Error(&quot;Could not find root element to mount to&quot;);
}
</code></pre>
</li>
<li><p><strong>Erstellung des React-Root:</strong>
Mit <code>ReactDOM.createRoot</code> wird ein neuer Root für die React-Anwendung erstellt. Diese Methode ist der Einstiegspunkt für das Concurrent Rendering von React 18+.</p>
<pre><code class="language-typescript">const root = ReactDOM.createRoot(rootElement);
</code></pre>
<ul>
<li><strong><code>ReactDOM.createRoot(container: Element | DocumentFragment)</code></strong>:<ul>
<li><strong>Parameter:</strong><ul>
<li><code>container</code>: Das DOM-Element oder <code>DocumentFragment</code>, in das die React-Anwendung gerendert werden soll.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> Ein <code>Root</code>-Objekt, das über eine <code>render</code>-Methode verfügt.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Rendern der Anwendungskomponente:</strong>
Die <code>render</code>-Methode des erstellten <code>root</code>-Objekts wird aufgerufen, um die gesamte Komponentenhierarchie der Anwendung in das DOM zu rendern. Die Hauptkomponente (<code>App</code>) ist dabei in mehrere Kontext-Provider und <code>React.StrictMode</code> eingeschlossen.</p>
<pre><code class="language-typescript">root.render(
  &lt;React.StrictMode&gt;
    &lt;LanguageProvider&gt;
      &lt;SettingsProvider&gt;
        &lt;App /&gt;
      &lt;/SettingsProvider&gt;
    &lt;/LanguageProvider&gt;
  &lt;/React.StrictMode&gt;
);
</code></pre>
<ul>
<li><strong><code>root.render(element: React.ReactNode)</code></strong>:<ul>
<li><strong>Parameter:</strong><ul>
<li><code>element</code>: Der React-Elementbaum, der in das DOM gerendert werden soll. Dies ist typischerweise die oberste Komponente der Anwendung, umhüllt von relevanten Providern.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code>.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>Gerenderte Komponenten und ihre Zwecke:</strong></p>
<ul>
<li><p><strong><code>React.StrictMode</code></strong>:</p>
<ul>
<li><strong>Zweck:</strong> Ein Entwicklungswerkzeug, das zusätzliche Prüfungen und Warnungen für potenzielle Probleme in der Anwendung (z.B. veraltete APIs, unerwartete Side-Effects) aktiviert. Es trägt dazu bei, robusteren und wartbaren Code zu schreiben, hat aber keine Auswirkungen auf die Performance oder das Verhalten in Produktionsumgebungen.</li>
<li><strong>Props:</strong> Akzeptiert keine spezifischen Props außer <code>children</code>.</li>
</ul>
</li>
<li><p><strong><code>LanguageProvider</code></strong>:</p>
<ul>
<li><strong>Zweck:</strong> Stellt einen globalen Kontext für Sprach-Einstellungen bereit. Alle Komponenten, die innerhalb dieses Providers verschachtelt sind, können über React-Hooks (z.B. <code>useContext</code>) auf die aktuelle Sprache zugreifen und Funktionen zur Sprachumschaltung nutzen.</li>
<li><strong>Props:</strong> Akzeptiert keine spezifischen Props außer <code>children</code>. Die bereitgestellten Kontextwerte sind innerhalb der Definition von <code>LanguageContext</code> in <code>./contexts/LanguageContext</code> definiert.</li>
</ul>
</li>
<li><p><strong><code>SettingsProvider</code></strong>:</p>
<ul>
<li><strong>Zweck:</strong> Stellt einen globalen Kontext für allgemeine Anwendungseinstellungen bereit. Komponenten innerhalb dieses Providers können auf Konfigurationswerte zugreifen und diese bei Bedarf ändern, wodurch eine konsistente Verwaltung von Benutzereinstellungen oder Anwendungspräferenzen ermöglicht wird.</li>
<li><strong>Props:</strong> Akzeptiert keine spezifischen Props außer <code>children</code>. Die bereitgestellten Kontextwerte sind innerhalb der Definition von <code>SettingsContext</code> in <code>./contexts/SettingsContext</code> definiert.</li>
</ul>
</li>
<li><p><strong><code>App</code></strong>:</p>
<ul>
<li><strong>Zweck:</strong> Die Hauptkomponente der gesamten React-Anwendung. Sie kapselt die gesamte Benutzeroberfläche und die Anwendungslogik. Alle anderen spezifischen Anwendungsansichten oder Teilkomponenten werden typischerweise innerhalb der <code>App</code>-Komponente gerendert.</li>
<li><strong>Props:</strong> Akzeptiert keine spezifischen Props, da sie direkt als Kind von <code>SettingsProvider</code> gerendert wird und ihr keine externen Daten über Props von <code>index.tsx</code> übergeben werden.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-tsconfig-json" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> tsconfig.json</h2>
            <div class="prose prose-invert max-w-none">
            <h2><code>compilerOptions</code></h2>
<p>Dieser Abschnitt definiert die Optionen, die der TypeScript-Compiler beim Kompilieren von TypeScript-Dateien anwendet.</p>
<h3><code>target</code></h3>
<ul>
<li><strong>Typ</strong>: String</li>
<li><strong>Wert</strong>: <code>ES2022</code></li>
<li><strong>Zweck</strong>: Legt die ECMAScript-Zielversion für den generierten JavaScript-Code fest. <code>ES2022</code> stellt sicher, dass der ausgegebene Code die Features des ECMAScript 2022-Standards nutzt oder emuliert.</li>
</ul>
<h3><code>experimentalDecorators</code></h3>
<ul>
<li><strong>Typ</strong>: Boolean</li>
<li><strong>Wert</strong>: <code>true</code></li>
<li><strong>Zweck</strong>: Ermöglicht die Verwendung von experimentellen Decorators, die vor der Standardisierung von Decorators in ECMAScript existierten. Dies ist häufig für Bibliotheken und Frameworks wie Angular oder bestimmte Versionen von NestJS erforderlich.</li>
</ul>
<h3><code>useDefineForClassFields</code></h3>
<ul>
<li><strong>Typ</strong>: Boolean</li>
<li><strong>Wert</strong>: <code>false</code></li>
<li><strong>Zweck</strong>: Steuert die Emit-Strategie für Klassenfelder. Wenn <code>false</code>, werden Klassenfelder als Zuweisungen im Konstruktor emittiert (ähnlich ES2015-Verhalten). Wenn <code>true</code> (der Standardwert in neueren TypeScript-Versionen), werden sie über <code>Object.defineProperty</code> emittiert (näher an ES2022), was Auswirkungen auf die Initialisierungsreihenfolge und das <code>this</code>-Binding haben kann. <code>false</code> wird oft für Kompatibilität mit älteren Runtimes oder bestimmten Build-Tools verwendet.</li>
</ul>
<h3><code>module</code></h3>
<ul>
<li><strong>Typ</strong>: String</li>
<li><strong>Wert</strong>: <code>ESNext</code></li>
<li><strong>Zweck</strong>: Gibt das Modulsystem an, das für den generierten JavaScript-Code verwendet werden soll. <code>ESNext</code> bedeutet, dass der Compiler die neueste ECMAScript-Modulsyntax (z.B. <code>import</code>/<code>export</code>) beibehält, die für moderne Browser und Node.js-Umgebungen mit ES-Modul-Unterstützung geeignet ist.</li>
</ul>
<h3><code>lib</code></h3>
<ul>
<li><strong>Typ</strong>: Array von Strings</li>
<li><strong>Werte</strong>: <code>[&quot;ES2022&quot;, &quot;DOM&quot;, &quot;DOM.Iterable&quot;]</code></li>
<li><strong>Zweck</strong>: Spezifiziert eine Liste von integrierten Deklarationsdateien, die während der Kompilierung in den globalen Kontext aufgenommen werden sollen.<ul>
<li><code>ES2022</code>: Stellt Typdefinitionen für alle Sprachfeatures von ECMAScript 2022 bereit.</li>
<li><code>DOM</code>: Stellt Typdefinitionen für die Standard-DOM-APIs (Document Object Model) bereit, die in Browsern verfügbar sind.</li>
<li><code>DOM.Iterable</code>: Ergänzt die <code>DOM</code>-Bibliothek um Typdefinitionen für iterable DOM-Schnittstellen, wie z.B. <code>NodeList</code> oder <code>HTMLCollection</code>, die über das Iterator-Protokoll verfügen.</li>
</ul>
</li>
</ul>
<h3><code>skipLibCheck</code></h3>
<ul>
<li><strong>Typ</strong>: Boolean</li>
<li><strong>Wert</strong>: <code>true</code></li>
<li><strong>Zweck</strong>: Deaktiviert die Typprüfung für alle <code>.d.ts</code>-Deklarationsdateien. Dies kann die Kompilierungszeit in großen Projekten erheblich verkürzen, insbesondere wenn die Typen von Drittanbieterbibliotheken als zuverlässig angesehen werden.</li>
</ul>
<h3><code>moduleResolution</code></h3>
<ul>
<li><strong>Typ</strong>: String</li>
<li><strong>Wert</strong>: <code>bundler</code></li>
<li><strong>Zweck</strong>: Definiert die Strategie, die TypeScript zur Auflösung von Modulen verwendet. Die Strategie <code>bundler</code> ist für die Zusammenarbeit mit modernen Bundlern (wie Webpack, Rollup, Vite) optimiert und ahmt deren Modulauflösungsverhalten genauer nach.</li>
</ul>
<h3><code>isolatedModules</code></h3>
<ul>
<li><strong>Typ</strong>: Boolean</li>
<li><strong>Wert</strong>: <code>true</code></li>
<li><strong>Zweck</strong>: Stellt sicher, dass jede Datei von TypeScript als isoliertes Modul behandelt werden kann. Dies bedeutet, dass bestimmte Features, die eine Cross-File-Analyse erfordern (wie <code>const enum</code> oder Namespace-Importe), nicht verwendet oder in einer Weise transpilert werden, die eine Einzeldateikompilierung ermöglicht. Dies ist nützlich, wenn ein Tool wie Babel oder Vite (ohne <code>tsc</code> als transpiler) die eigentliche Codetranspilierung übernimmt.</li>
</ul>
<h3><code>moduleDetection</code></h3>
<ul>
<li><strong>Typ</strong>: String</li>
<li><strong>Wert</strong>: <code>force</code></li>
<li><strong>Zweck</strong>: Steuert, wie TypeScript erkennt, ob eine Datei ein Modul oder ein Skript ist. <code>force</code> bewirkt, dass jede Datei als Modul behandelt wird, selbst wenn sie keine <code>import</code>- oder <code>export</code>-Anweisungen enthält. Dies ist in Projekten nützlich, die konsistent ES-Module verwenden.</li>
</ul>
<h3><code>allowJs</code></h3>
<ul>
<li><strong>Typ</strong>: Boolean</li>
<li><strong>Wert</strong>: <code>true</code></li>
<li><strong>Zweck</strong>: Ermöglicht es dem TypeScript-Compiler, auch JavaScript-Dateien (<code>.js</code>, <code>.jsx</code>) in die Kompilierung einzubeziehen und Typprüfungen auf sie anzuwenden. Nützlich für die Migration von JavaScript-Projekten zu TypeScript oder in gemischten Projekten.</li>
</ul>
<h3><code>jsx</code></h3>
<ul>
<li><strong>Typ</strong>: String</li>
<li><strong>Wert</strong>: <code>react-jsx</code></li>
<li><strong>Zweck</strong>: Gibt an, wie JSX-Code in JavaScript umgewandelt werden soll. Der Wert <code>react-jsx</code> nutzt das neuere JSX-Transform (verfügbar ab React 17), das keine explizite <code>import React from &#39;react&#39;;</code>-Anweisung mehr in jeder Datei erfordert, die JSX verwendet.</li>
</ul>
<h3><code>paths</code></h3>
<ul>
<li><strong>Typ</strong>: Objekt</li>
<li><strong>Wert</strong>: <code>{&quot;@/*&quot;: [&quot;./*&quot;]}</code></li>
<li><strong>Zweck</strong>: Definiert Pfad-Mappings, um Importaliase zu erstellen.<ul>
<li><code>@/*</code>: Definiert einen Alias, der mit <code>@/</code> beginnt.</li>
<li><code>./*</code>: Gibt an, dass dieser Alias auf Pfade relativ zum Verzeichnis der <code>tsconfig.json</code>-Datei verweist.
  Beispiel: <code>import { X } from &#39;@/components/X&#39;</code> würde zu <code>import { X } from &#39;./components/X&#39;</code> aufgelöst werden (angenommen, die <code>tsconfig.json</code> befindet sich im Projekt-Root).</li>
</ul>
</li>
</ul>
<h3><code>allowImportingTsExtensions</code></h3>
<ul>
<li><strong>Typ</strong>: Boolean</li>
<li><strong>Wert</strong>: <code>true</code></li>
<li><strong>Zweck</strong>: Erlaubt, dass Importpfade Dateierweiterungen wie <code>.ts</code>, <code>.tsx</code>, <code>.d.ts</code>, <code>.mts</code> oder <code>.cts</code> enthalten. Dies ist nützlich für Umgebungen, die explizite Dateierweiterungen in Importen erwarten (z.B. native ES-Module in Node.js oder Browser).</li>
</ul>
<h3><code>noEmit</code></h3>
<ul>
<li><strong>Typ</strong>: Boolean</li>
<li><strong>Wert</strong>: <code>true</code></li>
<li><strong>Zweck</strong>: Verhindert, dass der TypeScript-Compiler Ausgabedateien (wie <code>.js</code> oder <code>.d.ts</code>) generiert. Dies wird häufig verwendet, wenn ein anderer Build-Prozess (z.B. ein Bundler wie Vite oder Webpack) die tatsächliche Transpilierung oder Bundling übernimmt, und TypeScript nur zur Typprüfung dient.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-vite-config-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> vite.config.ts</h2>
            <div class="prose prose-invert max-w-none">
            <p>Dieses Dokument beschreibt die technische Konfiguration einer Vite-Anwendung, definiert durch die <code>vite.config.ts</code>-Datei.</p>
<h3>Standard-Export</h3>
<p>Die Datei exportiert die Konfiguration für Vite, die durch die Funktion <code>defineConfig</code> erstellt wird. Diese Konfiguration ist dynamisch und hängt vom aktuellen Umgebungstyp ab.</p>
<h4>Konfigurationsobjekt</h4>
<p><strong>Typ:</strong> <code>ViteUserConfig</code></p>
<p>Ein Konfigurationsobjekt, das die Build- und Entwicklungseinstellungen für Vite definiert. Es wird dynamisch basierend auf dem aktuellen <code>mode</code> (Umgebungsmodus) generiert.</p>
<h5>Parameter der Konfigurationsfunktion</h5>
<ul>
<li><strong><code>mode</code></strong>: <code>string</code><ul>
<li>Der aktuelle Umgebungstyp, z.B. <code>&#39;development&#39;</code> oder <code>&#39;production&#39;</code>. Dieser Wert wird von Vite bereitgestellt und zur bedingten Konfiguration verwendet.</li>
</ul>
</li>
</ul>
<h5>Eigenschaften des zurückgegebenen Konfigurationsobjekts</h5>
<ul>
<li><p><strong><code>define</code></strong>: <code>Record&lt;string, string&gt;</code></p>
<ul>
<li><strong>Zweck</strong>: Diese Eigenschaft ermöglicht das Definieren globaler Konstanten, die während des Build-Prozesses ersetzt werden. Dies ist nützlich, um Umgebungsvariablen oder andere statische Werte in den Client-Code zu injizieren.</li>
<li><strong>Definitionen</strong>:<ul>
<li><strong><code>&#39;process.env.API_KEY&#39;</code></strong>:<ul>
<li><strong>Wert</strong>: <code>JSON.stringify(env.GEMINI_API_KEY)</code></li>
<li><strong>Beschreibung</strong>: Definiert eine globale Konstante namens <code>process.env.API_KEY</code>. Ihr Wert wird aus der Umgebungsvariable <code>GEMINI_API_KEY</code> geladen, die über <code>loadEnv</code> zur Laufzeit der Konfigurationsdatei ermittelt wird. Der Wert wird als JSON-String serialisiert, um ihn korrekt in den JavaScript-Code einzubetten.</li>
</ul>
</li>
<li><strong><code>&#39;process.env.GEMINI_API_KEY&#39;</code></strong>:<ul>
<li><strong>Wert</strong>: <code>JSON.stringify(env.GEMINI_API_KEY)</code></li>
<li><strong>Beschreibung</strong>: Definiert eine globale Konstante namens <code>process.env.GEMINI_API_KEY</code>. Ihr Wert ist identisch mit dem für <code>process.env.API_KEY</code> und wird ebenfalls aus der Umgebungsvariable <code>GEMINI_API_KEY</code> bezogen und serialisiert. Dies stellt sicher, dass der API-Schlüssel auf zwei verschiedenen Pfaden zugänglich ist.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong><code>resolve</code></strong>: <code>Object</code></p>
<ul>
<li><strong>Zweck</strong>: Diese Eigenschaft konfiguriert, wie Module aufgelöst werden. Sie ist nützlich für die Definition von Import-Aliasen oder die Anpassung der Modulauflösungsstrategie.</li>
<li><strong>Eigenschaften</strong>:<ul>
<li><strong><code>alias</code></strong>: <code>Record&lt;string, string&gt;</code><ul>
<li><strong>Zweck</strong>: Definiert Alias-Pfade, die bei Import-Anweisungen verwendet werden können. Dies vereinfacht Import-Pfade und macht sie robuster gegenüber Änderungen in der Dateisystemstruktur.</li>
<li><strong>Aliase</strong>:<ul>
<li><strong><code>&#39;@&#39;</code></strong>:<ul>
<li><strong>Ziel</strong>: <code>path.resolve(__dirname, &#39;.&#39;)</code></li>
<li><strong>Beschreibung</strong>: Definiert einen Alias <code>@</code>, der auf das Wurzelverzeichnis des Projekts (das Verzeichnis, in dem sich die <code>vite.config.ts</code>-Datei befindet) verweist. Dies ermöglicht relative Importe vom Projekt-Root aus, z.B. <code>import MyModule from &#39;@/components/MyModule.vue&#39;;</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Verwendete Hilfsfunktionen</h3>
<ul>
<li><p><strong><code>loadEnv(mode, root, prefix)</code></strong>:</p>
<ul>
<li><strong>Zweck</strong>: Eine Vite-Hilfsfunktion, die Umgebungsvariablen aus <code>.env</code>-Dateien lädt, basierend auf dem angegebenen Modus.</li>
<li><strong>Verwendung in dieser Konfiguration</strong>: <code>loadEnv(mode, &#39;.&#39;, &#39;&#39;)</code><ul>
<li><strong><code>mode</code></strong>: Der aktuelle <code>mode</code> (z.B. <code>&#39;development&#39;</code>, <code>&#39;production&#39;</code>).</li>
<li><strong><code>root</code></strong>: Der Pfad zum Stammverzeichnis der Umgebungsvariablen-Dateien (hier: <code>.</code> für das aktuelle Verzeichnis).</li>
<li><strong><code>prefix</code></strong>: Das Präfix, mit dem Umgebungsvariablen gefiltert werden sollen (hier: <code>&#39;&#39;</code> bedeutet, es werden alle Umgebungsvariablen geladen, unabhängig vom Präfix).</li>
</ul>
</li>
<li><strong>Rückgabewert</strong>: Ein Objekt, das die geladenen Umgebungsvariablen enthält.</li>
</ul>
</li>
<li><p><strong><code>path.resolve(__dirname, &#39;.&#39;)</code></strong>:</p>
<ul>
<li><strong>Zweck</strong>: Eine Node.js-Funktion zum Auflösen einer Sequenz von Pfadsegmenten zu einem absoluten Pfad.</li>
<li><strong>Verwendung in dieser Konfiguration</strong>: Sie wird verwendet, um den absoluten Pfad zum Wurzelverzeichnis des Projekts zu ermitteln, indem <code>__dirname</code> (der absolute Pfad des Verzeichnisses, in dem sich die aktuelle Datei befindet) mit <code>.</code> (dem aktuellen Verzeichnis) kombiniert wird.</li>
<li><strong>Rückgabewert</strong>: Ein String, der den absoluten Pfad zum Projekt-Root darstellt.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file--gitignore" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> .gitignore</h2>
            <div class="prose prose-invert max-w-none">
            <h3>Ignorierungsregeln für Protokolldateien</h3>
<ul>
<li><strong><code>logs/</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert das gesamte Verzeichnis <code>logs</code> und alle darin enthaltenen Dateien und Unterverzeichnisse.</li>
<li><strong>Zweck:</strong> Schließt temporäre oder laufzeitgenerierte Protokolldateien von der Versionskontrolle aus.</li>
</ul>
</li>
<li><strong><code>*.log</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien in jedem Verzeichnis des Projekts, deren Dateiname auf die Erweiterung <code>.log</code> endet.</li>
<li><strong>Zweck:</strong> Erfasst generische Protokolldateien, die von Anwendungen oder Skripten erstellt werden.</li>
</ul>
</li>
<li><strong><code>npm-debug.log*</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert Dateien, die mit <code>npm-debug.log</code> beginnen, gefolgt von beliebigen weiteren Zeichen (z.B. <code>npm-debug.log</code>, <code>npm-debug.log.1</code>).</li>
<li><strong>Zweck:</strong> Schließt npm-spezifische Debug-Protokolldateien von der Versionskontrolle aus.</li>
</ul>
</li>
<li><strong><code>yarn-debug.log*</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert Dateien, die mit <code>yarn-debug.log</code> beginnen, gefolgt von beliebigen weiteren Zeichen.</li>
<li><strong>Zweck:</strong> Schließt Yarn-spezifische Debug-Protokolldateien aus.</li>
</ul>
</li>
<li><strong><code>yarn-error.log*</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert Dateien, die mit <code>yarn-error.log</code> beginnen, gefolgt von beliebigen weiteren Zeichen.</li>
<li><strong>Zweck:</strong> Schließt Yarn-spezifische Fehlerprotokolle aus.</li>
</ul>
</li>
<li><strong><code>pnpm-debug.log*</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert Dateien, die mit <code>pnpm-debug.log</code> beginnen, gefolgt von beliebigen weiteren Zeichen.</li>
<li><strong>Zweck:</strong> Schließt pnpm-spezifische Debug-Protokolldateien aus.</li>
</ul>
</li>
<li><strong><code>lerna-debug.log*</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert Dateien, die mit <code>lerna-debug.log</code> beginnen, gefolgt von beliebigen weiteren Zeichen.</li>
<li><strong>Zweck:</strong> Schließt Lerna-spezifische Debug-Protokolldateien aus.</li>
</ul>
</li>
</ul>
<h3>Ignorierungsregeln für Build-Artefakte und Abhängigkeiten</h3>
<ul>
<li><strong><code>node_modules/</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert das gesamte Verzeichnis <code>node_modules</code> und alle darin enthaltenen Dateien und Unterverzeichnisse.</li>
<li><strong>Zweck:</strong> Schließt Projekt-Abhängigkeiten aus, die über Paketmanager (npm, Yarn, pnpm) installiert werden und nicht direkt versioniert werden sollen.</li>
</ul>
</li>
<li><strong><code>dist/</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert das gesamte Verzeichnis <code>dist</code> und alle darin enthaltenen Dateien und Unterverzeichnisse.</li>
<li><strong>Zweck:</strong> Schließt kompilierte oder gebundelte Produktions-Build-Artefakte aus.</li>
</ul>
</li>
<li><strong><code>dist-ssr/</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert das gesamte Verzeichnis <code>dist-ssr</code> und alle darin enthaltenen Dateien und Unterverzeichnisse.</li>
<li><strong>Zweck:</strong> Schließt Server-Side Rendering (SSR) spezifische Build-Artefakte aus.</li>
</ul>
</li>
<li><strong><code>*.local</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien in jedem Verzeichnis des Projekts, deren Dateiname auf die Erweiterung <code>.local</code> endet.</li>
<li><strong>Zweck:</strong> Dient zum Ausschluss lokaler Konfigurationsdateien, die umgebungsspezifische oder entwicklerindividuelle Einstellungen enthalten können.</li>
</ul>
</li>
</ul>
<h3>Ignorierungsregeln für Editor- und OS-spezifische Dateien</h3>
<ul>
<li><strong><code>.vscode/*</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien und Unterverzeichnisse direkt innerhalb des <code>.vscode</code>-Verzeichnisses. Das <code>.vscode</code>-Verzeichnis selbst wird nicht ignoriert.</li>
<li><strong>Zweck:</strong> Schließt benutzerspezifische oder temporäre Konfigurationen von Visual Studio Code aus.</li>
</ul>
</li>
<li><strong><code>!.vscode/extensions.json</code></strong><ul>
<li><strong>Beschreibung:</strong> Eine Ausnahme-Regel, die sicherstellt, dass die Datei <code>extensions.json</code> innerhalb des <code>.vscode</code>-Verzeichnisses <em>nicht</em> ignoriert wird, selbst wenn eine frühere Regel (wie <code>.vscode/*</code>) sie ignorieren würde.</li>
<li><strong>Zweck:</strong> Ermöglicht die Versionskontrolle von empfohlenen VS Code-Erweiterungen für das Projekt.</li>
</ul>
</li>
<li><strong><code>.idea/</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert das gesamte Verzeichnis <code>.idea</code> und alle darin enthaltenen Dateien und Unterverzeichnisse.</li>
<li><strong>Zweck:</strong> Schließt Konfigurationen von JetBrains IDEs (z.B. IntelliJ IDEA) aus, die oft benutzerspezifische Einstellungen oder Indexdateien enthalten.</li>
</ul>
</li>
<li><strong><code>.DS_Store</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert die Datei <code>.DS_Store</code>.</li>
<li><strong>Zweck:</strong> Schließt von macOS automatisch generierte Dateien aus, die Desktop-Einstellungen speichern.</li>
</ul>
</li>
<li><strong><code>*.suo</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien in jedem Verzeichnis des Projekts, deren Dateiname auf die Erweiterung <code>.suo</code> endet.</li>
<li><strong>Zweck:</strong> Schließt Visual Studio Solution User Options-Dateien aus, die benutzerspezifische Projekt- und IDE-Einstellungen enthalten.</li>
</ul>
</li>
<li><strong><code>*.ntvs*</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien, deren Dateiname die Zeichenfolge <code>ntvs</code> enthält.</li>
<li><strong>Zweck:</strong> Potenziell im Zusammenhang mit Node.js Tools für Visual Studio generierte Dateien.</li>
</ul>
</li>
<li><strong><code>*.njsproj</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien in jedem Verzeichnis des Projekts, deren Dateiname auf die Erweiterung <code>.njsproj</code> endet.</li>
<li><strong>Zweck:</strong> Schließt Visual Studio Node.js Projektdateien aus.</li>
</ul>
</li>
<li><strong><code>*.sln</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien in jedem Verzeichnis des Projekts, deren Dateiname auf die Erweiterung <code>.sln</code> endet.</li>
<li><strong>Zweck:</strong> Schließt Visual Studio Solution-Dateien aus, die oft IDE-generiert sind und absolute Pfade oder benutzerspezifische Einstellungen enthalten können.</li>
</ul>
</li>
<li><strong><code>*.sw?</code></strong><ul>
<li><strong>Beschreibung:</strong> Ignoriert alle Dateien in jedem Verzeichnis des Projekts, deren Dateiname mit <code>.sw</code> beginnt und auf ein beliebiges einzelnes Zeichen endet (z.B. <code>.swp</code>, <code>.swo</code>, <code>.swn</code>).</li>
<li><strong>Zweck:</strong> Schließt temporäre Swap-Dateien aus, die von Texteditoren wie Vim erstellt werden.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-README-md" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> README.md</h2>
            <div class="prose prose-invert max-w-none">
            <h1>Application Overview</h1>
<p>This document describes the process for running and deploying the AI Studio application locally. It provides all necessary steps and prerequisites to get the application operational in a local development environment.</p>
<h2>Local Execution</h2>
<h3>Prerequisites</h3>
<p>To run the application locally, the following software must be installed on your system:</p>
<ul>
<li><strong>Node.js</strong>: Required for executing JavaScript outside of a browser and managing project dependencies via <code>npm</code>.</li>
</ul>
<h3>Installation Steps</h3>
<p>Follow these steps to set up the application dependencies:</p>
<ol>
<li><strong>Install Dependencies</strong>: Navigate to the project root directory in your terminal and execute the following command to install all required Node.js packages:<pre><code class="language-bash">npm install
</code></pre>
</li>
</ol>
<h3>Configuration</h3>
<p>Before running the application, a crucial API key needs to be configured:</p>
<ol>
<li><strong>Set Gemini API Key</strong>:<ul>
<li>Locate the <code>.env.local</code> file in the project&#39;s root directory.</li>
<li>Set the <code>GEMINI_API_KEY</code> environment variable within this file to your personal Gemini API key.</li>
<li>Example <code>.env.local</code> entry:<pre><code>GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE
</code></pre>
</li>
</ul>
</li>
</ol>
<h3>Running the Application</h3>
<p>Once prerequisites are met and dependencies are installed, start the application using the following command:</p>
<ol>
<li><strong>Run the App</strong>: Execute the development server command to launch the application locally:<pre><code class="language-bash">npm run dev
</code></pre>
</li>
</ol>

            </div>
        </div>
        </div>
            </main>
        </div>
    </body>
    </html>
    