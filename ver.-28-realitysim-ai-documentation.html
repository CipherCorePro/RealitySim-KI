
    <!DOCTYPE html>
    <html lang="de" class="dark scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Technische Dokumentation: ver.-28-realitysim-ai</title>
        <style>
        * {
            box-sizing: border-box;
        }
        :root {
            --color-bg: #111827; /* gray-900 */
            --color-sidebar-bg: #1f2937; /* gray-800 */
            --color-text: #d1d5db; /* gray-300 */
            --color-text-dim: #9ca3af; /* gray-400 */
            --color-heading: #93c5fd; /* blue-300 */
            --color-title: #60a5fa; /* blue-400 */
            --color-link: #60a5fa;
            --color-link-hover: #93c5fd; /* blue-300 */
            --color-accent: #34d399; /* green-400 */
            --color-border: #374151; /* gray-700 */
            --color-code-bg: #374151;
            --color-pre-bg: #111827;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--color-bg);
            color: var(--color-text);
            margin: 0;
            line-height: 1.6;
        }
        .container {
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 300px;
            background-color: var(--color-sidebar-bg);
            padding: 2rem;
            border-right: 1px solid var(--color-border);
            position: fixed;
            height: 100%;
            overflow-y: auto;
        }
        .sidebar h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--color-text);
            margin-top: 0;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 1rem;
        }
        .sidebar ul { list-style: none; padding: 0; margin: 0; }
        .sidebar a {
            color: var(--color-text-dim);
            text-decoration: none;
            font-size: 0.9rem;
            word-break: break-all;
        }
        .sidebar a:hover { color: var(--color-link-hover); }
        .main-content {
            flex-grow: 1;
            padding: 3rem;
            margin-left: 300px;
        }
        .prose { max-width: 80ch; }
        .prose.max-w-none { max-width: none; }
        .prose-invert { color: var(--color-text); }
        .prose-invert h1, .prose-invert h2, .prose-invert h3, .prose-invert h4 { color: var(--color-heading); font-weight: 600; margin-top: 1.5em; margin-bottom: 1em; }
        .prose-invert h1 { font-size: 2em; }
        .prose-invert h2 { font-size: 1.5em; }
        .prose-invert h3 { font-size: 1.25em; }
        .prose-invert p { margin-bottom: 1.25em; }
        .prose-invert a { color: var(--color-link); }
        .prose-invert a:hover { color: var(--color-link-hover); text-decoration: underline; }
        .prose-invert strong { color: var(--color-text); font-weight: 600; }
        .prose-invert blockquote { border-left: 4px solid var(--color-border); padding-left: 1em; margin-left: 0; font-style: italic; color: var(--color-text-dim); }
        .prose-invert ul, .prose-invert ol { margin-bottom: 1.25em; padding-left: 1.5em; }
        .prose-invert li > p { margin-bottom: 0.5em; }
        .prose-invert code { background-color: var(--color-code-bg); padding: 0.2em 0.4em; border-radius: 0.25rem; font-size: 0.9em; color: #e5e7eb; }
        .prose-invert pre { background-color: var(--color-pre-bg); border: 1px solid var(--color-border); padding: 1em; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 1.5em; }
        .prose-invert pre code { background-color: transparent; padding: 0; font-size: 1em; }
        .prose-invert table { width: 100%; border-collapse: collapse; margin-bottom: 1.5em; }
        .prose-invert th, .prose-invert td { border: 1px solid var(--color-border); padding: 0.75em; }
        .prose-invert th { background-color: var(--color-sidebar-bg); }
        
        .main-header {
            background-color: var(--color-sidebar-bg);
            padding: 2rem;
            border-radius: 0.5rem;
            margin-bottom: 3rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }
        .main-header h1 {
            font-size: 2.5rem;
            margin: 0 0 0.5rem 0;
            color: var(--color-title);
            font-weight: 700;
        }
        </style>
    </head>
    <body>
        <div class="container">
            <aside class="sidebar">
                <h3>Inhaltsverzeichnis</h3>
                <nav>
                    <ul>
                        <li><a href="#project-overview" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">Projektübersicht</a></li>
                        <li><a href="#file-metadata-json" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">metadata.json</a></li><li><a href="#file-App-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">App.tsx</a></li><li><a href="#file-types-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">types.ts</a></li><li><a href="#file-constants-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">constants.ts</a></li><li><a href="#file-services-simulation-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/simulation.ts</a></li><li><a href="#file-services-geminiService-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/geminiService.ts</a></li><li><a href="#file-components-AgentCard-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/AgentCard.tsx</a></li><li><a href="#file-components-BeliefsChart-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/BeliefsChart.tsx</a></li><li><a href="#file-components-ControlPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/ControlPanel.tsx</a></li><li><a href="#file-components-LogPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/LogPanel.tsx</a></li><li><a href="#file-components-WorldGraph-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/WorldGraph.tsx</a></li><li><a href="#file-components-CreateObjectPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/CreateObjectPanel.tsx</a></li><li><a href="#file-components-IconComponents-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/IconComponents.tsx</a></li><li><a href="#file-components-ExporterPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/ExporterPanel.tsx</a></li><li><a href="#file-components-AdminPanel-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/AdminPanel.tsx</a></li><li><a href="#file-contexts-LanguageContext-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">contexts/LanguageContext.tsx</a></li><li><a href="#file-hooks-useTranslations-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">hooks/useTranslations.ts</a></li><li><a href="#file-translations-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">translations.ts</a></li><li><a href="#file-components-LanguageSwitcher-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/LanguageSwitcher.tsx</a></li><li><a href="#file-components-ProcessingIndicator-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/ProcessingIndicator.tsx</a></li><li><a href="#file-contexts-SettingsContext-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">contexts/SettingsContext.tsx</a></li><li><a href="#file-hooks-useSimulation-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">hooks/useSimulation.ts</a></li><li><a href="#file-services-actions-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/actions.ts</a></li><li><a href="#file-services-simulationUtils-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/simulationUtils.ts</a></li><li><a href="#file-components-AnalyticsDashboard-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">components/AnalyticsDashboard.tsx</a></li><li><a href="#file-services-memoryService-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">services/memoryService.ts</a></li><li><a href="#file-Dokumentation-md" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">Dokumentation.md</a></li><li><a href="#file-die-simulation-md" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">die_simulation.md</a></li><li><a href="#file-WorldState-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">WorldState.ts</a></li><li><a href="#file-package-json" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">package.json</a></li><li><a href="#file-index-html" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">index.html</a></li><li><a href="#file-index-tsx" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">index.tsx</a></li><li><a href="#file-tsconfig-json" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">tsconfig.json</a></li><li><a href="#file-vite-config-ts" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">vite.config.ts</a></li><li><a href="#file--gitignore" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">.gitignore</a></li><li><a href="#file-README-md" class="block py-2 px-4 rounded hover:bg-gray-700 transition-colors duration-200">README.md</a></li>
                    </ul>
                </nav>
            </aside>
            <main class="main-content">
                <div id="project-overview" class="main-header scroll-mt-20">
                  <h1>Technische Dokumentation: ver.-28-realitysim-ai</h1>
                  <div class="prose prose-invert max-w-none" style="margin-top: 1rem;">
                    <p>Das Projekt "ver.-28-realitysim-ai" ist eine webbasierte Simulation, die mit künstlicher Intelligenz interagiert. Es verwendet TypeScript und React (App.tsx, index.tsx) mit verschiedenen UI-Komponenten (AgentCard.tsx, ControlPanel.tsx, WorldGraph.tsx usw.) zur Visualisierung und Interaktion. Die Simulation umfasst Kern-Services für die Durchführung und Verwaltung (services/simulation.ts, services/simulationUtils.ts, WorldState.ts) und die Anbindung an einen KI-Dienst (GeminiService).  Zusätzlich werden Daten verwaltet (metadata.json),  Einstellungen  (SettingsContext.tsx), Übersetzungen (LanguageContext.tsx, translations.ts),  Administrationsfunktionen (AdminPanel.tsx, ExporterPanel.tsx)  und Analysen (AnalyticsDashboard.tsx) bereitgestellt. Die Dokumentation (Dokumentation.md, die_simulation.md),  Konfigurationsdateien (tsconfig.json, vite.config.ts, package.json) und allgemeine Projektunterlagen (README.md, .gitignore) runden das Projekt ab.</p>
                  </div>
                </div>
                
        <div id="file-metadata-json" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> metadata.json</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## metadata.json

Dieses Dokument beschreibt die Metadaten für eine Anwendung, vermutlich eine Webanwendung namens &quot;Ver. 28 RealitySim AI&quot;.

### Struktur

Das JSON-Objekt enthält folgende Properties:

*   **name**
    *   Typ: `string`
    *   Beschreibung: Der Name der Anwendung. Wert: &quot;Ver. 28 RealitySim AI&quot;.
*   **description**
    *   Typ: `string`
    *   Beschreibung: Eine ausführliche Beschreibung der Anwendung. Wert: &quot;An interactive web-based simulation environment where AI agents with unique beliefs and memories interact with a dynamic world. Control agents with natural language, run simulation steps, and visualize the emergent cognitive behavior of the system.&quot;
*   **requestFramePermissions**
    *   Typ: `Array&lt;string&gt;`
    *   Beschreibung: Ein Array, das die Berechtigungen listet, die für den Zugriff auf Frames innerhalb der Webanwendung angefordert werden. In diesem Fall ist das Array leer, was bedeutet, dass keine Frame-Berechtigungen angefordert werden. Wert: `[]`.
*   **prompt**
    *   Typ: `string`
    *   Beschreibung: Ein Platzhalter oder ein Prompt für eine mögliche Benutzerinteraktion, beispielsweise für die Generierung von Text oder die Eingabe von Befehlen. In diesem Fall ist das Feld leer. Wert: `&quot;&quot;`.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-App-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> App.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### Interfaces und Typen

#### `ViewTogglePanelProps`

```typescript
interface ViewTogglePanelProps {
    visibility: {
        left: boolean;
        agentCard: boolean;
        worldMap: boolean;
        right: boolean;
    };
    onToggle: (panel: keyof ViewTogglePanelProps[&#39;visibility&#39;]) =&gt; void;
}
</code></pre>
<ul>
<li><strong><code>visibility</code></strong>: Ein Objekt, das die Sichtbarkeit verschiedener Panels steuert.<ul>
<li><strong><code>left</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das linke Panel sichtbar ist.</li>
<li><strong><code>agentCard</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das AgentCard-Panel sichtbar ist.</li>
<li><strong><code>worldMap</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das WorldMap-Panel sichtbar ist.</li>
<li><strong><code>right</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das rechte Panel sichtbar ist.</li>
</ul>
</li>
<li><strong><code>onToggle</code></strong>: Eine Funktion, die aufgerufen wird, wenn ein Panel umgeschaltet werden soll.<ul>
<li>Parameter:<ul>
<li><code>panel</code>: Ein String, der den Namen des Panels angibt, das umgeschaltet werden soll (z.B. &#39;left&#39;, &#39;agentCard&#39;, &#39;worldMap&#39;, &#39;right&#39;). Der Typ ist <code>keyof ViewTogglePanelProps[&#39;visibility&#39;]</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><code>SettingsModalProps</code></h4>
<pre><code class="language-typescript">interface SettingsModalProps {
    isOpen: boolean;
    onClose: () =&gt; void;
}
</code></pre>
<ul>
<li><strong><code>isOpen</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das Modal geöffnet ist.</li>
<li><strong><code>onClose</code></strong>: Eine Funktion, die aufgerufen wird, um das Modal zu schließen.</li>
</ul>
<h4><code>GenerateWorldModalProps</code></h4>
<pre><code class="language-typescript">interface GenerateWorldModalProps {
    isOpen: boolean;
    onClose: () =&gt; void;
    onGenerate: (agentCount: number, entityCounts: { [key: string]: number }) =&gt; void;
    isGenerating: boolean;
}
</code></pre>
<ul>
<li><strong><code>isOpen</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das Modal geöffnet ist.</li>
<li><strong><code>onClose</code></strong>: Eine Funktion, die aufgerufen wird, um das Modal zu schließen.</li>
<li><strong><code>onGenerate</code></strong>: Eine Funktion, die aufgerufen wird, um die Welt zu generieren.<ul>
<li>Parameter:<ul>
<li><code>agentCount</code>: Die Anzahl der zu erstellenden Agenten.</li>
<li><code>entityCounts</code>: Ein Objekt, das die Anzahl der zu erstellenden Entitäten pro Typ angibt.</li>
</ul>
</li>
</ul>
</li>
<li><strong><code>isGenerating</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob die Welt gerade generiert wird.</li>
</ul>
<h4><code>GenerateContentModalProps</code></h4>
<pre><code class="language-typescript">interface GenerateContentModalProps {
    isOpen: boolean;
    onClose: () =&gt; void;
    onGenerateAgents: (count: number) =&gt; void;
    onGenerateEntities: (counts: { [key: string]: number }) =&gt; void;
    isGenerating: boolean;
}
</code></pre>
<ul>
<li><strong><code>isOpen</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das Modal geöffnet ist.</li>
<li><strong><code>onClose</code></strong>: Eine Funktion, die aufgerufen wird, um das Modal zu schließen.</li>
<li><strong><code>onGenerateAgents</code></strong>: Eine Funktion, die aufgerufen wird, um Agenten zu generieren.<ul>
<li>Parameter:<ul>
<li><code>count</code>: Die Anzahl der zu erstellenden Agenten.</li>
</ul>
</li>
</ul>
</li>
<li><strong><code>onGenerateEntities</code></strong>: Eine Funktion, die aufgerufen wird, um Entitäten zu generieren.<ul>
<li>Parameter:<ul>
<li><code>counts</code>: Ein Objekt, das die Anzahl der zu erstellenden Entitäten pro Typ angibt.</li>
</ul>
</li>
</ul>
</li>
<li><strong><code>isGenerating</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob gerade generiert wird.</li>
</ul>
<h4><code>PsychoanalysisModalProps</code></h4>
<pre><code class="language-typescript">interface PsychoanalysisModalProps {
    isOpen: boolean;
    onClose: () =&gt; void;
    report: PsychoReport | null;
    isGenerating: boolean;
    agentName: string | null;
}
</code></pre>
<ul>
<li><strong><code>isOpen</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob das Modal geöffnet ist.</li>
<li><strong><code>onClose</code></strong>: Eine Funktion, die aufgerufen wird, um das Modal zu schließen.</li>
<li><strong><code>report</code></strong>: Ein <code>PsychoReport</code>-Objekt oder <code>null</code>, das den Analysebericht enthält.</li>
<li><strong><code>isGenerating</code></strong>: Ein <code>boolean</code>-Wert, der angibt, ob die Analyse gerade generiert wird.</li>
<li><strong><code>agentName</code></strong>: Ein <code>string</code>-Wert, der den Namen des Agenten enthält, für den die Analyse durchgeführt wird, oder <code>null</code>.</li>
</ul>
<h3>Komponenten</h3>
<h4><code>ViewTogglePanel</code></h4>
<pre><code class="language-typescript">const ViewTogglePanel: React.FC&lt;ViewTogglePanelProps&gt; = ({ visibility, onToggle }) =&gt; { ... };
</code></pre>
<ul>
<li><strong>Zweck</strong>: Bietet Buttons zum Umschalten der Sichtbarkeit verschiedener Panels in der Benutzeroberfläche.</li>
<li><strong>Props</strong>: Siehe <code>ViewTogglePanelProps</code>.</li>
<li><strong>Zustand</strong>: Verwendet keine lokalen Zustände.</li>
<li><strong>Rendert</strong>: Buttons zum Umschalten von left, agentCard, worldMap und right panels.</li>
</ul>
<h4><code>SettingsModal</code></h4>
<pre><code class="language-typescript">const SettingsModal: React.FC&lt;SettingsModalProps&gt; = ({ isOpen, onClose }) =&gt; { ... };
</code></pre>
<ul>
<li><strong>Zweck</strong>: Ein Modal-Fenster zur Verwaltung der Anwendungseinstellungen, wie z.B. AI-Provider, LM Studio URL, LM Studio Model, Gemini Model etc.</li>
<li><strong>Props</strong>: Siehe <code>SettingsModalProps</code>.</li>
<li><strong>Zustand</strong>:<ul>
<li><code>provider</code>: Der aktuell ausgewählte AI-Provider (&#39;lm_studio&#39; oder &#39;gemini&#39;).</li>
<li><code>url</code>: Die URL für LM Studio.</li>
<li><code>model</code>: Das LM Studio Model.</li>
<li><code>embeddingModel</code>: Das Embedding Model für LM Studio.</li>
<li><code>geminiModel</code>: Das ausgewählte Gemini Model.</li>
</ul>
</li>
<li><strong>Effekte</strong>:<ul>
<li>Initialisiert die Zustände mit den aktuellen Einstellungen, wenn das Modal geöffnet wird.</li>
</ul>
</li>
<li><strong>Methoden</strong>:<ul>
<li><code>handleSave</code>: Speichert die aktuellen Einstellungen und schließt das Modal.</li>
</ul>
</li>
<li><strong>Rendert</strong>: Ein Modal mit Eingabefeldern und Auswahlmöglichkeiten für die Einstellungen.  Enthält Eingabefelder für LM Studio und Optionen für Gemini.</li>
</ul>
<h4><code>GenerateWorldModal</code></h4>
<pre><code class="language-typescript">const GenerateWorldModal: React.FC&lt;GenerateWorldModalProps&gt; = ({ isOpen, onClose, onGenerate, isGenerating }) =&gt; { ... };
</code></pre>
<ul>
<li><strong>Zweck</strong>: Ein Modal zum Generieren einer neuen Welt.</li>
<li><strong>Props</strong>: Siehe <code>GenerateWorldModalProps</code>.</li>
<li><strong>Zustand</strong>:<ul>
<li><code>agentCount</code>: Die Anzahl der zu erstellenden Agenten.</li>
<li><code>entityCounts</code>: Ein Objekt, das die Anzahl der zu erstellenden Entitäten pro Typ speichert.</li>
</ul>
</li>
<li><strong>Methoden</strong>:<ul>
<li><code>handleEntityCountChange</code>: Aktualisiert die Anzahl der Entitäten eines bestimmten Typs.</li>
<li><code>handleGenerateClick</code>: Ruft die <code>onGenerate</code>-Funktion mit den aktuellen Einstellungen auf und schließt das Modal.</li>
</ul>
</li>
<li><strong>Rendert</strong>: Ein Modal mit Eingabefeldern zur Auswahl der Anzahl der Agenten und Entitäten.  Enthält Eingabefelder für verschiedene Entitätstypen.</li>
</ul>
<h4><code>GenerateContentModal</code></h4>
<pre><code class="language-typescript">const GenerateContentModal: React.FC&lt;GenerateContentModalProps&gt; = ({ isOpen, onClose, onGenerateAgents, onGenerateEntities, isGenerating }) =&gt; { ... };
</code></pre>
<ul>
<li><strong>Zweck</strong>: Ein Modal zur Generierung von zusätzlichem Inhalt (Agenten und Entitäten).</li>
<li><strong>Props</strong>: Siehe <code>GenerateContentModalProps</code>.</li>
<li><strong>Zustand</strong>:<ul>
<li><code>agentCount</code>: Die Anzahl der zu erstellenden Agenten.</li>
<li><code>entityCounts</code>: Ein Objekt, das die Anzahl der zu erstellenden Entitäten pro Typ speichert.</li>
</ul>
</li>
<li><strong>Methoden</strong>:<ul>
<li><code>handleEntityCountChange</code>: Aktualisiert die Anzahl der Entitäten eines bestimmten Typs.</li>
<li><code>handleGenerateAgentsClick</code>: Ruft die <code>onGenerateAgents</code>-Funktion auf.</li>
<li><code>handleGenerateEntitiesClick</code>: Ruft die <code>onGenerateEntities</code>-Funktion auf.</li>
</ul>
</li>
<li><strong>Rendert</strong>: Ein Modal mit Eingabefeldern zur Auswahl der Anzahl der Agenten und Entitäten. Enthält Buttons zur Generierung.</li>
</ul>
<h4><code>PsychoanalysisModal</code></h4>
<pre><code class="language-typescript">const PsychoanalysisModal: React.FC&lt;PsychoanalysisModalProps&gt; = ({ isOpen, onClose, report, isGenerating, agentName }) =&gt; { ... };
</code></pre>
<ul>
<li><strong>Zweck</strong>: Ein Modal zur Anzeige der Ergebnisse einer Psychoanalyse eines Agenten.</li>
<li><strong>Props</strong>: Siehe <code>PsychoanalysisModalProps</code>.</li>
<li><strong>Rendert</strong>: Zeigt einen Ladeindikator während der Generierung oder die Analyseergebnisse an, wenn sie verfügbar sind.  Verwendet die <code>ReportSection</code> Komponente zur Darstellung der einzelnen Berichtsabschnitte.</li>
</ul>
<h4><code>ReportSection</code></h4>
<pre><code class="language-typescript">const ReportSection: React.FC&lt;{ title: string; content: string | undefined }&gt; = ({ title, content }) =&gt; ( ... );
</code></pre>
<ul>
<li><strong>Zweck</strong>: Eine Komponente zur Anzeige eines einzelnen Abschnitts eines Analyseberichts.</li>
<li><strong>Props</strong>:<ul>
<li><code>title</code>: Der Titel des Abschnitts.</li>
<li><code>content</code>: Der Inhalt des Abschnitts oder <code>undefined</code>.</li>
</ul>
</li>
<li><strong>Rendert</strong>: Zeigt den Titel und den Inhalt des Abschnitts an.</li>
</ul>
<h4><code>App</code></h4>
<pre><code class="language-typescript">export default function App() { ... }
</code></pre>
<ul>
<li><strong>Zweck</strong>: Die Hauptkomponente der Anwendung.  Verwaltet den Zustand der Anwendung und rendert die UI-Elemente.</li>
<li><strong>Zustand</strong>:<ul>
<li>Der Zustand wird über den <code>useSimulation</code> Hook verwaltet. Siehe dessen Dokumentation.</li>
</ul>
</li>
<li><strong>Methoden</strong>:<ul>
<li>Verwendet diverse Handler aus dem <code>useSimulation</code> Hook für Interaktionen.</li>
</ul>
</li>
<li><strong>Rendert</strong>:<ul>
<li><code>ProcessingIndicator</code>: Zeigt einen Ladeindikator an, wenn Schritte verarbeitet werden.</li>
<li><code>header</code>: Enthält den Titel der Anwendung und die View Toggle Panel und Control Panel.</li>
<li><code>main</code>: Enthält die Hauptinhalte der Anwendung, organisiert in einem Grid-Layout. Enthält je nach Zustand und <code>panelVisibility</code>:<ul>
<li>Das linke Panel mit Agenten- und Entitätenlisten.</li>
<li>Das AgentCard Panel oder das WorldMap Panel.</li>
<li>Das rechte Panel mit Environment Details, Aktionen, einem Create Object Panel, LogPanel und ExporterPanel.</li>
</ul>
</li>
<li><code>SettingsModal</code>: Das Einstellungs-Modal.</li>
<li><code>GenerateWorldModal</code>: Das Modal zum Generieren einer Welt.</li>
<li><code>GenerateContentModal</code>: Das Modal zum Generieren von Inhalten.</li>
<li><code>PsychoanalysisModal</code>: Das Modal zur Anzeige der Psychoanalyse.</li>
<li><code>AnalyticsDashboard</code>: Das Dashboard für Analysen.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-types-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> types.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### Interfaces

#### `Psyche`
Represents the psychological attributes of an agent.

*   `empathy`: `number` (0-1) -  Level of empathy.
*   `vengefulness`: `number` (0-1) - Level of vengefulness.
*   `forgiveness`: `number` (0-1) - Level of forgiveness.
*   `searchForMeaning`: `number` (0-1) -  Drive to find meaning in life.
*   `decisionPressure`: `number` (0-1) - Susceptibility to decision pressure.
*   `fearOfDeath`: `number` (0-1) - Fear of death.
*   `boredom`: `number` (0-1) - Level of boredom.
*   `inspiration`: `number` (0-1) - Level of inspiration.
*   `fanaticism`: `number` (0-1) - Level of fanaticism.
*   `spiritualNeed`: `number` (0-1) - Need for spirituality.
*   `jealousy`: `number` (0-1) - Level of jealousy.

#### `Beliefs`
Represents a collection of beliefs.

*   `[key: string]`: `number` - A key-value pair representing a belief and its strength.

#### `Emotions`
Represents a collection of emotions.

*   `[key: string]`: `number` - A key-value pair representing an emotion and its intensity.

#### `Personality`
Represents the personality traits of an agent (modeled after the Big Five personality traits).

*   `openness`: `number` (0-1) - Level of openness to experience.
*   `conscientiousness`: `number` (0-1) - Level of conscientiousness.
*   `extraversion`: `number` (0-1) - Level of extraversion.
*   `agreeableness`: `number` (0-1) - Level of agreeableness.
*   `neuroticism`: `number` (0-1) - Level of neuroticism.

#### `Skills`
Represents the skill levels of an agent.

*   `[key: string]`: `number` - A key-value pair representing a skill and its level.  Example: `{ healing: 15, woodcutting: 22, rhetoric: 5 }`

#### `Goal`
Represents a goal for an agent.

*   `type`: `GoalType` - The type of the goal.
*   `status`: `&#39;active&#39; | &#39;completed&#39; | &#39;failed&#39;` - The current status of the goal.
*   `progress`: `number` (0-100) - The progress towards the goal, as a percentage.
*   `description`: `string` - A description of the goal.
*   `targetId`: `string | undefined` - The ID of a target associated with the goal (e.g., a rival agent).

#### `Trauma`
Represents a traumatic event experienced by an agent.

*   `event`: `string` - A description of the traumatic event.
*   `timestamp`: `number` - The timestamp of the event.
*   `intensity`: `number` (0-1) - The intensity of the trauma.

#### `Relationship`
Represents a relationship between two agents.

*   `type`: `RelationshipType` - The type of the relationship.
*   `score`: `number` - The score representing the quality/strength of the relationship.
*   `disposition`: `Emotions` - The emotions the agent feels towards the other agent.

#### `Resonance`
Represents the resonance of an agent with different concepts or objects.

*   `[key:string]`: `number` - A key-value pair representing the resonance with a concept and its strength.

#### `LogEntry`
Represents an entry in a log.

*   `key`: `string` - A key or identifier for the log entry.
*   `params`: `{ [key: string]: any } | undefined` - Optional parameters associated with the log entry.

#### `SocialMemoryEntry`
Represents an entry in an agent&#39;s social memory.

*   `agentId`: `string` - The ID of the agent the memory is about.
*   `action`: `string` - The action that triggered the memory.
*   `result`: `&#39;accepted&#39; | &#39;rejected&#39; | &#39;initiated&#39; | &#39;reciprocated&#39; | &#39;observed&#39;` - The result of the action.
*   `emotionalImpact`: `number` (-1 to 1) - The emotional impact of the action.
*   `timestamp`: `number` - The timestamp of the action.
*   `info`: `string | undefined` - Optional information about the action.

#### `Inventory`
Represents an agent&#39;s inventory.

*   `[item: string]`: `number` - A key-value pair where the key is the item name and the value is the quantity.

#### `Recipe`
Represents a recipe for crafting items.

*   `name`: `string` - The name of the recipe.
*   `output`: `{ item: CraftedItemType, quantity: number }` - The item produced and its quantity.
    *   `item`: `CraftedItemType` - The type of the crafted item.
    *   `quantity`: `number` - The quantity of the crafted item.
*   `ingredients`: `{ [key in ItemType]?: number }` - The ingredients required and their quantities.
*   `requiredSkill`: `{ skill: keyof Skills, level: number } | undefined` - Optional skill requirements for the recipe.
    *   `skill`: `keyof Skills` - The required skill.
    *   `level`: `number` - The required skill level.
*   `requiredTech`: `string | undefined` - Optional technology requirements for the recipe.

#### `TradeOffer`
Represents a trade offer in the market.

*   `offerId`: `string` - A unique identifier for the trade offer.
*   `fromAgentId`: `string` - The ID of the agent making the offer.
*   `item`: `ItemType` - The type of item being offered.
*   `quantity`: `number` - The quantity of the item being offered.
*   `price`: `number` - The price per unit of the item.

#### `Market`
Represents a marketplace.

*   `id`: `string` - Unique ID of the market.
*   `name`: `string` - The name of the market.
*   `listings`: `TradeOffer[]` - An array of trade offers.

#### `Law`
Represents a law within a government.

*   `id`: `string` - The ID of the law.
*   `name`: `string` - The name of the law.
*   `description`: `string` - A description of the law.
*   `violatingAction`: `string` - The action name that this law prohibits.
*   `punishment`: `{ type: &#39;fine&#39; | &#39;arrest&#39;; amount: number; }` - The punishment for violating the law.
    *   `type`: `&#39;fine&#39; | &#39;arrest&#39;` - The type of punishment.
    *   `amount`: `number` - The amount of the fine or the duration of arrest (in steps).

#### `Government`
Represents a government structure.

*   `type`: `&#39;monarchy&#39; | &#39;democracy&#39;` - The type of government.
*   `leaderId`: `string | null` - The ID of the leader of the government, or null if there is no leader.
*   `laws`: `Law[]` - An array of laws enforced by the government.

#### `Election`
Represents an election within a government.

*   `isActive`: `boolean` - Whether the election is currently active.
*   `candidates`: `string[]` - An array of candidate IDs.
*   `votes`: `{ [candidateId: string]: number }` - An object mapping candidate IDs to the number of votes they have received.
*   `termEndDate`: `number` - The timestamp when the election term ends.

#### `Technology`
Represents a technological advancement.

*   `id`: `string` - The ID of the technology.
*   `name`: `string` - The name of the technology.
*   `description`: `string` - A description of the technology.
*   `researchCost`: `number` - The cost to research the technology.
*   `unlocks`: `{ actions?: string[]; recipes?: string[]; }` - What the technology unlocks.
    *   `actions`: `string[] | undefined` - An array of action names unlocked by this technology.
    *   `recipes`: `string[] | undefined` - An array of recipe names unlocked by this technology.
*   `requiredTech`: `string[] | undefined` - An array of technology IDs that must be researched before this technology can be researched.

#### `LongTermMemory`
Represents an entry in long term memory.

*   `content`: `string` - The textual content of the memory.
*   `embedding`: `number[]` - An embedding of the memory content, likely for semantic similarity searches.
*   `timestamp`: `number` - The timestamp of the memory.

#### `JailJournalEntry`
Represents an entry in a jail journal.

*   `timestamp`: `number` - The timestamp of the journal entry.
*   `entry`: `string` - The content of the journal entry.

#### `Agent`
Represents an agent in the simulation.

*   `id`: `string` - The unique ID of the agent.
*   `name`: `string` - The name of the agent.
*   `description`: `string` - A description of the agent.
*   `x`: `number` - The x-coordinate of the agent&#39;s location.
*   `y`: `number` - The y-coordinate of the agent&#39;s location.
*   `beliefNetwork`: `Beliefs` - The agent&#39;s belief network.
*   `emotions`: `Emotions` - The agent&#39;s current emotions.
*   `resonance`: `Resonance` - The agent&#39;s resonance with different concepts.
*   `socialMemory`: `SocialMemoryEntry[]` - An array of social memory entries.
*   `longTermMemory`: `LongTermMemory[]` - An array of long-term memory entries.
*   `lastActions`: `Action[]` - An array of the agent&#39;s last actions.
*   `adminAgent`: `boolean` - Whether the agent is an administrator.
*   `health`: `number` - The agent&#39;s health.
*   `isAlive`: `boolean` - Whether the agent is alive.
*   `sickness`: `string | null | undefined` - The agent&#39;s current sickness, or null if not sick.
*   `conversationHistory`: `{ speakerName: string; message: string; }[]` - The conversation history of the agent.
*   `age`: `number` - The age of the agent.
*   `genome`: `string[]` - The agent&#39;s genome (as an array of strings).
*   `relationships`: `{ [agentId: string]: Relationship }` - An object mapping agent IDs to their relationship with this agent.
*   `cultureId`: `string | null` - The ID of the culture the agent belongs to, or null if the agent does not belong to any culture.
*   `religionId`: `string | null` - The ID of the religion the agent belongs to, or null if the agent does not belong to any religion.
*   `role`: `string | null` - The agent&#39;s current role (e.g., worker, owner), or null if no role.
*   `offspringCount`: `number` - The number of offspring the agent has.
*   `childrenIds`: `string[] | undefined` - The IDs of the agent&#39;s children.
*   `hunger`: `number` - The agent&#39;s hunger level.
*   `thirst`: `number` - The agent&#39;s thirst level.
*   `fatigue`: `number` - The agent&#39;s fatigue level.
*   `inventory`: `Inventory` - The agent&#39;s inventory.
*   `personality`: `Personality` - The agent&#39;s personality traits.
*   `goals`: `Goal[]` - The agent&#39;s current goals.
*   `stress`: `number` - The agent&#39;s stress level.
*   `socialStatus`: `number` - The agent&#39;s social status.
*   `skills`: `Skills` - The agent&#39;s skills.
*   `trauma`: `Trauma[]` - An array of traumatic events the agent has experienced.
*   `psyche`: `Psyche` - The agent&#39;s psychological profile.
*   `unconsciousState`: `{ [key: string]: number } | undefined` - An optional object representing the agent&#39;s unconscious state.
*   `currency`: `number` - The agent&#39;s currency.
*   `imprisonedUntil`: `number | undefined` - The timestamp until which the agent is imprisoned.
*   `jailJournal`: `JailJournalEntry[] | undefined` - An array of jail journal entries.
*   `job`: `{ factoryId: string, role: &#39;worker&#39; | &#39;owner&#39; } | undefined` - The agent&#39;s job information.
    *   `factoryId`: `string` - The ID of the factory where the agent works.
    *   `role`: `&#39;worker&#39; | &#39;owner&#39;` - The agent&#39;s role at the factory.
*   `qTable`: `{ [stateAction: string]: number; }` - The agent&#39;s Q-table used for reinforcement learning.
*   `lastStressLevel`: `number | undefined` - The agent&#39;s last stress level.

#### `Entity`
Represents an entity in the simulation (e.g., a tree, a house).

*   `id`: `string` - The unique ID of the entity.
*   `name`: `string` - The name of the entity.
*   `description`: `string` - A description of the entity.
*   `x`: `number` - The x-coordinate of the entity&#39;s location.
*   `y`: `number` - The y-coordinate of the entity&#39;s location.
*   `isResource`: `boolean | undefined` - Whether the entity is a resource.
*   `resourceType`: `ResourceType | undefined` - The resource type of the entity.
*   `quantity`: `number | undefined` - The quantity of the resource.
*   `ownerId`: `string | null | undefined` - The ID of the owner of the entity, or null if not owned.
*   `isMarketplace`: `boolean | undefined` - Whether the entity is a marketplace.
*   `isJail`: `boolean | undefined` - Whether the entity is a jail.
*   `isFactory`: `boolean | undefined` - Whether the entity is a factory.
*   `factoryDetails`: `{ product: CraftedItemType; efficiency: number; employees: string[]; } | undefined` - The factory details.
    *   `product`: `CraftedItemType` - The product of the factory.
    *   `efficiency`: `number` - The efficiency of the factory (e.g., 1.0 for standard output).
    *   `employees`: `string[]` - The IDs of the employees working at the factory.
*   `inmates`: `string[] | undefined` - An array of inmate IDs if the entity is a jail.

#### `EnvironmentState`
Represents the state of the environment.

*   `[key: string]`: `any` - Allows for any other properties representing environment state.
*   `width`: `number` - The width of the environment.
*   `height`: `number` - The height of the environment.
*   `time`: `number` - The current simulation time.
*   `election`: `Election | null` - The current election, or null if there is no election.

#### `Religion`
Represents a religion.

*   `id`: `string` - The ID of the religion.
*   `name`: `string` - The name of the religion.
*   `dogma`: `Beliefs` - The core beliefs of the religion.
*   `memberIds`: `string[]` - An array of agent IDs who are members of the religion.

#### `Culture`
Represents a culture.

*   `id`: `string` - The ID of the culture.
*   `name`: `string` - The name of the culture.
*   `sharedBeliefs`: `Beliefs` - The shared beliefs of the culture.
*   `memberIds`: `string[]` - An array of agent IDs who are members of the culture.
*   `researchPoints`: `number` - The culture&#39;s research points.
*   `knownTechnologies`: `string[]` - The IDs of the technologies the culture knows.

#### `Transaction`
Represents a transaction in the simulation.

*   `from`: `string` - The ID of the agent or special source from which the transaction originates (e.g., &#39;WORLD&#39;, &#39;NATURE&#39;).
*   `to`: `string` - The ID of the agent or special sink to which the transaction goes (e.g., &#39;MARKET&#39;).
*   `item`: `ItemType | &#39;currency&#39;` - The item or currency being transacted.
*   `quantity`: `number` - The quantity of the item or currency.
*   `step`: `number` - The simulation step in which the transaction occurred.

#### `ActionContext`
Provides context for executing actions.

*   `language`: `Language` - The language settings.
*   `marketPrices`: `{ [item: string]: number }` - The current market prices for items.
*   `addListingToMarket`: `(marketId: string, offer: { fromAgentId: string, item: ItemType, quantity: number}) =&gt; void` - Function to add a trade offer to a market.
    *   `marketId`: `string` - The ID of the market.
    *   `offer`: `{ fromAgentId: string, item: ItemType, quantity: number}` - The trade offer details.
        *   `fromAgentId`: `string` - The ID of the agent offering the trade.
        *   `item`: `ItemType` - The item to trade.
        *   `quantity`: `number` - The quantity to trade.
*   `executeTrade`: `(buyer: Agent, offer: TradeOffer) =&gt; void` - Function to execute a trade.
    *   `buyer`: `Agent` - The agent buying the item.
    *   `offer`: `TradeOffer` - The trade offer details.
*   `castVote`: `(candidateId: string) =&gt; void` - Function to cast a vote in an election.
    *   `candidateId`: `string` - The ID of the candidate being voted for.
*   `declareCandidacy`: `(agentId: string) =&gt; void` - Function to declare candidacy in an election.
    *   `agentId`: `string` - The ID of the agent declaring candidacy.
*   `enactLaw`: `(law: Law) =&gt; void` - Function to enact a law.
    *   `law`: `Law` - The law to enact.
*   `addResearchPoints`: `(cultureId: string, points: number) =&gt; void` - Function to add research points to a culture.
    *   `cultureId`: `string` - The ID of the culture.
    *   `points`: `number` - The number of research points to add.
*   `addSocialMemory`: `(agentId: string, memory: SocialMemoryEntry) =&gt; void` - Function to add a social memory entry.
    *   `agentId`: `string` - The ID of the agent the memory is about.
    *   `memory`: `SocialMemoryEntry` - The social memory entry.
*   `logTransaction`: `(transaction: Omit&lt;Transaction, &#39;step&#39;&gt;) =&gt; void` - Function to log a transaction.
    *   `transaction`: `Omit&lt;Transaction, &#39;step&#39;&gt;` - The details of the transaction, excluding the &#39;step&#39; property.

#### `ActionEffect`
Defines the effects of an action.

*   `statChanges`: `{ health?: number; hunger?: number; thirst?: number; fatigue?: number; stress?: number; currency?: number; } | undefined` - Changes to agent stats.
    *   `health`: `number | undefined` - Change in health.
    *   `hunger`: `number | undefined` - Change in hunger.
    *   `thirst`: `number | undefined` - Change in thirst.
    *   `fatigue`: `number | undefined` - Change in fatigue.
    *   `stress`: `number | undefined` - Change in stress.
    *   `currency`: `number | undefined` - Change in currency.
*   `costs`: `{ [item: string]: number } | undefined` - Costs associated with the action (e.g., resource consumption).
*   `skillGain`: `{ skill: keyof Skills; amount: number; } | undefined` - Skill gains.
    *   `skill`: `keyof Skills` - The skill to gain.
    *   `amount`: `number` - The amount of skill to gain.

#### `Action`
Represents an action an agent can take.

*   `name`: `string` - The name of the action.
*   `description`: `string` - A description of the action.
*   `beliefKey`: `string | undefined` - The belief key associated with this action.
*   `isIllegal`: `boolean | undefined` - Indicates if the action is illegal (dynamically set).
*   `onSuccess`: `{ belief: string; delta: number; } | undefined` - Changes to a belief on success.
    *   `belief`: `string` - The belief key to change.
    *   `delta`: `number` - The change in belief.
*   `onFailure`: `{ belief: string; delta: number; } | undefined` - Changes to a belief on failure.
    *   `belief`: `string` - The belief key to change.
    *   `delta`: `number` - The change in belief.
*   `effects`: `ActionEffect | undefined` - The effects of the action.
*   `execute`: `(agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;, worldState: WorldState, context: ActionContext) =&gt; Promise&lt;ActionExecutionResult&gt; | undefined` - The function to execute the action.
    *   `agent`: `Agent` - The agent performing the action.
    *   `allAgents`: `Map&lt;string, Agent&gt;` - A map of all agents in the world.
    *   `allEntities`: `Map&lt;string, Entity&gt;` - A map of all entities in the world.
    *   `worldState`: `WorldState` - The current state of the world.
    *   `context`: `ActionContext` - The action context.
    *   Returns a `Promise` that resolves to an `ActionExecutionResult`.

#### `WorldState`
Represents the state of the entire world.

*   `environment`: `EnvironmentState` - The state of the environment.
*   `agents`: `Agent[]` - An array of all agents in the world.
*   `entities`: `Entity[]` - An array of all entities in the world.
*   `actions`: `Action[]` - An array of available actions.
*   `cultures`: `Culture[]` - An array of cultures.
*   `religions`: `Religion[]` - An array of religions.
*   `government`: `Government` - The current government.
*   `markets`: `Market[]` - An array of markets.
*   `techTree`: `Technology[]` - An array of technologies.
*   `recipes`: `Recipe[]` - An array of recipes.
*   `marketPrices`: `{ [item: string]: number } | undefined` - The current market prices for items.
*   `transactions`: `Transaction[] | undefined` - An array of transactions that have occurred.

#### `ActionExecutionResult`
The result of an action&#39;s execution.

*   `log`: `LogEntry` - The log entry for the action.
*   `status`: `&#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;` - The status of the action.
*   `reward`: `number` - The reward associated with the action.
*   `sideEffects`:
    *   `createAgent`: `Partial&lt;Agent&gt; &amp; { description: string, parents: [Agent, Agent] } | undefined` - Side effect to create an agent.
        *   `description`: `string` - Agent description.
        *   `parents`: `[Agent, Agent]` - An array containing the parents of the agent.
    *   `updateReligion`: `{ agentId: string, newReligionId: string | null } | undefined` - Side effect to update an agent&#39;s religion.
        *   `agentId`: `string` - The ID of the agent.
        *   `newReligionId`: `string | null` - The ID of the new religion.
    *   `createEntity`: `Partial&lt;Entity&gt; &amp; { ownerId?: string } | undefined` - Side effect to create an entity.
        *   `ownerId`: `string | undefined` -  The ID of the entity owner.
    *   `addTrauma`: `{ agentId: string, trauma: Trauma } | undefined` - Side effect to add trauma to an agent.
        *   `agentId`: `string` - The ID of the agent.
        *   `trauma`: `Trauma` - The trauma to add.
    *   `inventTechnology`: `Technology | undefined` - Side effect to invent a technology.
    *   `createRecipe`: `Recipe | undefined` - Side effect to create a recipe.
    *   `createAction`: `Partial&lt;Action&gt; &amp; { name: string, description: string } | undefined` - Side effect to create an action.
        *   `name`: `string` - The name of the action.
        *   `description`: `string` - The description of the action.
    *   `createCulture`: `Partial&lt;Culture&gt; &amp; { name: string, sharedBeliefs: Beliefs, founderId: string } | undefined` - Side effect to create a culture.
        *   `name`: `string` - The name of the culture.
        *   `sharedBeliefs`: `Beliefs` - The shared beliefs of the culture.
        *   `founderId`: `string` - The ID of the founder.
    *   `updateAgentCulture`: `{ agentId: string, newCultureId: string | null } | undefined` - Side effect to update an agent&#39;s culture.
        *   `agentId`: `string` - The ID of the agent.
        *   `newCultureId`: `string | null` - The ID of the new culture.

#### `PsychoReport`
Represents a psychological report.

*   `Psychodynamik`: `string` -  Information about the agent&#39;s psychodynamics.
*   `Persönlichkeitsbild`: `string` - Information about the agent&#39;s personality.
*   `Beziehungsdynamik`: `string` - Information about the agent&#39;s relationship dynamics.
*   `&#39;Traumatische Spuren oder psychische Belastung&#39;`: `string` - Information about traumatic experiences or psychological burdens.
*   `&#39;Kulturelle &amp; spirituelle Verarbeitung&#39;`: `string` - Information about cultural and spiritual processing.
*   `&#39;Projektionen oder Verschiebungen&#39;`: `string` - Information about projections or displacements.
*   `&#39;Therapeutische Empfehlung&#39;`: `string` - Therapeutic recommendations.
*   `unconscious_modifiers`: `{ [key: string]: number } | undefined` - Modifiers related to the unconscious mind.
*   `suggested_goal`: `Omit&lt;Goal, &#39;status&#39; | &#39;progress&#39;&gt; | undefined` - A suggested goal for the agent.

### Type Aliases

#### `GoalType`
`&#39;becomeLeader&#39; | &#39;buildLargeHouse&#39; | &#39;masterSkill&#39; | &#39;avengeRival&#39; | &#39;achieveWealth&#39; | &#39;mentorYoungAgent&#39; | &#39;seekCounseling&#39; | &#39;findMeaning&#39; | &#39;forgiveRival&#39; | &#39;expressGrief&#39;`
A type alias for the different types of goals an agent can have.

#### `RelationshipType`
`&#39;stranger&#39; | &#39;acquaintance&#39; | &#39;friend&#39; | &#39;rival&#39; | &#39;partner&#39; | &#39;spouse&#39; | &#39;ex-partner&#39;`
A type alias for the different types of relationships an agent can have.

#### `ResourceType`
`&#39;food&#39; | &#39;water&#39; | &#39;wood&#39; | &#39;medicine&#39; | &#39;iron&#39; | &#39;coal&#39; | &#39;stone&#39; | &#39;sand&#39; | &#39;clay&#39;`
A type alias for resource types.

#### `CraftedItemType`
`&#39;sword&#39; | &#39;plow&#39; | &#39;advanced_medicine&#39; | &#39;iron_ingot&#39; | &#39;charcoal&#39; | &#39;steel_ingot&#39; | &#39;bricks&#39; | &#39;glass&#39; | &#39;tools&#39; | &#39;furniture&#39; | &#39;pottery&#39;`
A type alias for crafted item types.

#### `ItemType`
`ResourceType | CraftedItemType`
A type alias that combines `ResourceType` and `CraftedItemType`.

#### `TimedLogEntry`
`LogEntry &amp; { timestamp: number }`
Represents a log entry with a timestamp.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-constants-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> constants.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## constants.ts

Diese Datei definiert eine Vielzahl von Konstanten und Initialwerten, die im Spiel verwendet werden, einschließlich Raten, Schwellenwerte, Optionen, Konfigurationen und Startzuständen.

### Imports

*   `WorldState`: Ein Interface, das den globalen Spielzustand repräsentiert.
*   `Agent`: Ein Interface, das einen spielbaren Charakter (Agenten) beschreibt.
*   `Action`: Ein Interface, das Aktionen beschreibt, die ein Agent ausführen kann.
*   `EnvironmentState`: Ein Interface, das den Zustand der Spielumgebung beschreibt.
*   `Emotions`: Ein Interface, das die Emotionen eines Agenten darstellt.
*   `Beliefs`: Ein Interface, das die Überzeugungen eines Agenten darstellt.
*   `Entity`: Ein Interface, das eine Entität im Spiel darstellt (z.B. Gebäude, Ressourcen).
*   `Goal`: Ein Interface, das die Ziele eines Agenten definiert.
*   `Personality`: Ein Interface, das die Persönlichkeit eines Agenten beschreibt.
*   `Skills`: Ein Interface, das die Fähigkeiten eines Agenten darstellt.
*   `Technology`: Ein Interface, das Technologien im Spiel beschreibt.
*   `Recipe`: Ein Interface, das ein Rezept für die Herstellung von Gegenständen darstellt.
*   `Law`: Ein Interface, das Gesetze im Spiel beschreibt.
*   `Government`: Ein Interface, das die Regierungsform im Spiel beschreibt.
*   `LogEntry`: Ein Interface für Log-Einträge.
*   `Psyche`: Ein Interface, das die psychologischen Aspekte eines Agenten beschreibt.

### Konstanten

*   `RESONANCE_DECAY_RATE`: `number`.  Die Rate, mit der die Resonanz abnimmt. Wert: `0.95`.
*   `RESONANCE_THRESHOLD`: `number`. Der Schwellenwert, unterhalb dessen die Resonanz als nicht mehr wirksam gilt. Wert: `0.1`.
*   `RESONANCE_UPDATE_AMOUNT`: `number`. Die Menge, um die die Resonanz aktualisiert wird. Wert: `0.2`.
*   `MAX_LAST_ACTIONS`: `number`. Die maximale Anzahl der letzten Aktionen, die gespeichert werden. Wert: `5`.
*   `AGE_INCREMENT`: `number`. Die Erhöhung des Alters pro Spielzyklus. Wert: `0.1`.
*   `MIN_REPRODUCTION_AGE`: `number`. Das Mindestalter für die Fortpflanzung. Wert: `20`.
*   `MAX_REPRODUCTION_AGE`: `number`. Das Höchstalter für die Fortpflanzung. Wert: `50`.
*   `MAX_AGE`: `number`. Das maximale Alter eines Agenten. Wert: `80`.
*   `AGE_RELATED_HEALTH_DECLINE`: `number`. Der Gesundheitsverfall, der mit dem Alter zusammenhängt. Wert: `0.5`.
*   `RELATIONSHIP_INCREMENT_PROXIMITY`: `number`. Der Zuwachs an Beziehungen durch Nähe. Wert: `2.0`.
*   `PROXIMITY_DISTANCE_THRESHOLD`: `number`. Der Schwellenwert für die Entfernung, innerhalb dessen sich die Nähe auswirkt. Wert: `3`.
*   `GENOME_OPTIONS`: `string[]`. Ein Array von Genom-Optionen (Genen). Wert: `[&quot;G-RESISTANT&quot;, &quot;G-AGILE&quot;, &quot;G-SOCIAL&quot;, &quot;G-LONGEVITY&quot;, &quot;G-FASTHEAL&quot;, &quot;G-INTELLIGENT&quot;, &quot;G-FERTILE&quot;]`.
*   `EMOTION_DECAY_RATE`: `number`. Die Rate, mit der Emotionen abklingen. Wert: `0.98`.
*   `DISPOSITION_DECAY_RATE`: `number`. Die Rate, mit der die Veranlagung abnimmt. Wert: `0.998`.
*   `MAX_SOCIAL_MEMORIES`: `number`. Die maximale Anzahl an sozialen Erinnerungen, die gespeichert werden. Wert: `20`.
*   `MAX_LONG_TERM_MEMORIES`: `number`. Die maximale Anzahl an Langzeiterinnerungen, die gespeichert werden. Wert: `200`.
*   `MAX_TRANSACTIONS`: `number`. Die maximale Anzahl an Transaktionen, die gespeichert werden. Wert: `500`.
*   `MUTATION_RATE`: `number`. Die Mutationsrate. Wert: `0.05`.
*   `MAX_OFFSPRING`: `number`. Die maximale Anzahl an Nachkommen. Wert: `2`.
*   `CULTURAL_ASSIMILATION_RATE`: `number`. Die Rate der kulturellen Assimilation. Wert: `0.01`.
*   `RELIGIOUS_ASSIMILATION_RATE`: `number`. Die Rate der religiösen Assimilation. Wert: `0.02`.
*   `CULTURAL_EVOLUTION_INTERVAL`: `number`. Das Intervall für die kulturelle Entwicklung. Wert: `20`.
*   `EMOTIONAL_LEARNING_RATE`: `number`. Die Lernrate für Emotionen. Wert: `0.1`.
*   `CHILDHOOD_MAX_AGE`: `number`. Das maximale Alter des Kindes. Wert: `12`.
*   `ADOLESCENCE_MAX_AGE`: `number`. Das maximale Alter der Jugend. Wert: `19`.
*   `ADULTHOOD_MAX_AGE`: `number`. Das maximale Alter des Erwachsenseins. Wert: `65`.
*   `ROLES`: `string[]`. Ein Array von Agenten-Rollen. Wert: `[&#39;Worker&#39;, &#39;Healer&#39;, &#39;Scientist&#39;, &#39;Leader&#39;, &#39;Trader&#39;, &#39;Crafter&#39;, &#39;Guard&#39;, &#39;Counselor&#39;, &#39;Entrepreneur&#39;]`.
*   `RESOURCE_TYPES`: `string[]`. Ein Array von Ressourcentypen. Wert: `[&#39;food&#39;, &#39;water&#39;, &#39;wood&#39;, &#39;medicine&#39;, &#39;iron&#39;, &#39;stone&#39;, &#39;coal&#39;, &#39;sand&#39;, &#39;clay&#39;]`.
*   `SKILL_TYPES`: `string[]`. Ein Array von Fähigkeitstypen. Wert: `[&#39;healing&#39;, &#39;woodcutting&#39;, &#39;rhetoric&#39;, &#39;combat&#39;, &#39;construction&#39;, &#39;farming&#39;, &#39;mining&#39;, &#39;crafting&#39;, &#39;trading&#39;]`.

#### Learning &amp; Personality

*   `Q_LEARNING_RATE`: `number`.  Die Q-Learning-Rate. Wert: `0.1`.
*   `Q_DISCOUNT_FACTOR`: `number`. Der Q-Learning-Rabattfaktor. Wert: `0.9`.
*   `EPSILON_GREEDY`: `number`. Die Wahrscheinlichkeit, eine zufällige Aktion zu erforschen (Epsilon-Greedy-Strategie). Wert: `0.1`.
*   `PERSONALITY_SHIFT_RATE`: `number`. Die Rate der Persönlichkeitsverschiebung. Wert: `0.001`.
*   `STRESS_THRESHOLD_FOR_PERSONALITY_SHIFT`: `number`. Der Stressschwellenwert für eine Persönlichkeitsverschiebung. Wert: `70`.

#### Economy

*   `INITIAL_CURRENCY`: `number`. Der anfängliche Währungswert. Wert: `50`.
*   `RESOURCE_PURCHASE_COST`: `number`. Die Kosten für den Kauf von Ressourcen. Wert: `150`.
*   `WORK_FOR_MONEY_AMOUNT`: `number`. Der Betrag, der durch Arbeit verdient wird. Wert: `10`.
*   `FOUND_FACTORY_COST`: `{ currency: number; wood: number; stone: number }`. Die Kosten für die Gründung einer Fabrik. Wert: `{ currency: 300, wood: 20, stone: 20 }`.
*   `FACTORY_WAGE`: `number`. Der Lohn für Fabrikarbeiter. Wert: `15`.
*   `FACTORY_OWNER_PROFIT_PER_WORKER`: `number`. Der Gewinn des Fabrikbesitzers pro Arbeiter. Wert: `5`.

#### Random Data for Generation

*   `RANDOM_FIRST_NAMES`: `string[]`. Ein Array zufälliger Vornamen.
*   `RANDOM_LAST_NAMES`: `string[]`. Ein Array zufälliger Nachnamen.
*   `RANDOM_DESCRIPTORS`: `string[]`. Ein Array von zufälligen Deskriptoren.
*   `RANDOM_AGENT_ROLES`: `string[]`. Ein Array von zufälligen Agenten-Rollen.
*   `RANDOM_HOBBIES`: `string[]`. Ein Array von zufälligen Hobbys.
*   `RANDOM_BELIEF_KEYS`: `string[]`. Ein Array von zufälligen Glaubensschlüsseln.

#### RECIPES

*   `RECIPES`: `Recipe[]`. Ein Array von Rezepten für die Herstellung von Gegenständen.

    *   `name`: `string`. Der Name des Rezepts.
    *   `output`: `{ item: string; quantity: number }`. Das Ergebnis des Rezepts.
        *   `item`: `string`. Der Name des hergestellten Artikels.
        *   `quantity`: `number`. Die Menge des hergestellten Artikels.
    *   `ingredients`: `{ [key: string]: number }`. Die benötigten Zutaten und ihre Mengen.
    *   `requiredSkill`: `{ skill: string; level: number }`. Die erforderliche Fähigkeit und das erforderliche Fähigkeitsniveau.
        *   `skill`: `string`. Der Name der erforderlichen Fähigkeit.
        *   `level`: `number`. Das erforderliche Fähigkeitsniveau.
    *   `requiredTech`: `string`. Die erforderliche Technologie.

#### Politics

*   `ELECTION_TERM_LENGTH`: `number`. Die Länge der Wahlperiode. Wert: `100`.
*   `INITIAL_LAWS`: `Law[]`. Ein Array von anfänglichen Gesetzen.

    *   `id`: `string`. Die ID des Gesetzes.
    *   `name`: `string`. Der Name des Gesetzes.
    *   `description`: `string`. Die Beschreibung des Gesetzes.
    *   `violatingAction`: `string`. Die Aktion, die das Gesetz verletzt.
    *   `punishment`: `{ type: string; amount: number }`. Die Strafe für die Gesetzesverletzung.
        *   `type`: `string`. Der Typ der Strafe (z.B. &#39;arrest&#39;, &#39;fine&#39;).
        *   `amount`: `number`. Der Wert der Strafe.
*   `INITIAL_GOVERNMENT`: `Government`. Die anfängliche Regierungsform.

    *   `type`: `string`. Der Typ der Regierung (z.B. &#39;democracy&#39;).
    *   `leaderId`: `string | null`. Die ID des Anführers.
    *   `laws`: `Law[]`. Ein Array von Gesetzen.

#### Technology

*   `RESEARCH_PER_ACTION`: `number`. Die Forschungsmenge pro Aktion. Wert: `10`.
*   `TECH_TREE`: `Technology[]`. Ein Array von Technologien.

    *   `id`: `string`. Die ID der Technologie.
    *   `name`: `string`. Der Name der Technologie.
    *   `description`: `string`. Die Beschreibung der Technologie.
    *   `researchCost`: `number`. Die Forschungskosten.
    *   `requiredTech`: `string[] | undefined`. Ein Array der erforderlichen Technologien (optional).
    *   `unlocks`: `{ actions?: string[]; recipes?: string[] }`. Was die Technologie freischaltet (optional).
        *   `actions`: `string[]`. Ein Array von freizuschaltenden Aktionen.
        *   `recipes`: `string[]`. Ein Array von freizuschaltenden Rezepten.

#### Survival Constants

*   `HUNGER_INCREASE_RATE`: `number`. Die Rate der Hungerzunahme. Wert: `0.5`.
*   `THIRST_INCREASE_RATE`: `number`. Die Rate der Durstzunahme. Wert: `0.8`.
*   `FATIGUE_INCREASE_RATE`: `number`. Die Rate der Ermüdungszunahme. Wert: `0.4`.
*   `HEALTH_LOSS_FROM_STARVATION`: `number`. Der Gesundheitsverlust durch Verhungern. Wert: `2`.
*   `HEALTH_LOSS_FROM_DEHYDRATION`: `number`. Der Gesundheitsverlust durch Dehydration. Wert: `3`.
*   `FATIGUE_RECOVERY_RATE`: `number`. Die Erholungsrate der Ermüdung. Wert: `40`.
*   `EAT_HUNGER_REDUCTION`: `number`. Die Hungerreduktion durch Essen. Wert: `50`.
*   `DRINK_THIRST_REDUCTION`: `number`. Die Durstreduktion durch Trinken. Wert: `60`.
*   `GATHER_AMOUNT`: `number`. Die Menge, die beim Sammeln von Ressourcen erhalten wird. Wert: `5`.
*   `SICKNESS_HEALTH_LOSS`: `number`. Der Gesundheitsverlust durch Krankheit. Wert: `5`.

#### Psychology and Social Constants

*   `STRESS_FROM_NEEDS`: `number`. Der Stress durch Bedürfnisse. Wert: `0.2`.
*   `STRESS_FROM_FIGHT`: `number`. Der Stress durch Kampf. Wert: `15`.
*   `STRESS_FROM_REJECTION`: `number`. Der Stress durch Ablehnung. Wert: `10`.
*   `STRESS_RECOVERY_REST`: `number`. Die Stressreduktion durch Ruhe. Wert: `20`.
*   `STRESS_DECAY_RATE`: `number`. Die Rate des Stressabbaus. Wert: `0.99`.
*   `DEFAULT_SKILL_GAIN`: `number`. Der Standard-Fähigkeitsgewinn. Wert: `0.5`.
*   `STATUS_FROM_FIGHT_WIN`: `number`. Der Statusgewinn durch einen Kampfsieg. Wert: `5`.
*   `STATUS_FROM_SUCCESSFUL_TRADE`: `number`. Der Statusgewinn durch erfolgreichen Handel. Wert: `2`.
*   `STATUS_FROM_GOAL_COMPLETION`: `number`. Der Statusgewinn durch Zielerreichung. Wert: `10`.
*   `PERSONALITY_TRAITS`: `string[]`. Ein Array von Persönlichkeitsmerkmalen. Wert: `[&#39;openness&#39;, &#39;conscientiousness&#39;, &#39;extraversion&#39;, &#39;agreeableness&#39;, &#39;neuroticism&#39;]`.
*   `BOREDOM_INCREASE_RATE`: `number`. Die Rate der Zunahme von Langeweile. Wert: `0.05`.
*   `PSYCHE_DECAY_RATE`: `number`. Die Rate des Psyche-Abbaus. Wert: `0.995`.

### Default-Werte

*   `defaultEmotions()`: `() =&gt; Emotions`. Eine Funktion, die die Standard-Emotionen zurückgibt.
    *   Rückgabewert: `{ happiness: 0.5, sadness: 0.1, anger: 0.1, fear: 0.1, trust: 0.3, love: 0.1 }`.
*   `defaultPersonality()`: `() =&gt; Personality`. Eine Funktion, die die Standard-Persönlichkeit zurückgibt.
    *   Rückgabewert: `{ openness: 0.5, conscientiousness: 0.5, extraversion: 0.5, agreeableness: 0.5, neuroticism: 0.5 }`.
*   `defaultSkills()`: `() =&gt; Skills`. Eine Funktion, die die Standard-Fähigkeiten zurückgibt.
    *   Rückgabewert: `{ healing: 1, woodcutting: 1, rhetoric: 1, combat: 1, construction: 1, farming: 1, mining: 1, crafting: 1, trading: 1 }`.
*   `defaultPsyche()`: `() =&gt; Psyche`. Eine Funktion, die die Standard-Psyche zurückgibt.
    *   Rückgabewert: `{ empathy: 0.5, vengefulness: 0.1, forgiveness: 0.5, searchForMeaning: 0.2, decisionPressure: 0.1, fearOfDeath: 0.2, boredom: 0.0, inspiration: 0.1, fanaticism: 0.1, spiritualNeed: 0.3, jealousy: 0.1 }`.
*   `defaultQTable()`: `() =&gt; { [key: string]: number }`. Eine Funktion, die eine Standard-Q-Table zurückgibt.
    *   Rückgabewert: `{}` (ein leeres Objekt).

### initialWorldState

*   `initialWorldState`: `WorldState`. Der anfängliche Zustand der Spielwelt.

    *   `environment`: `EnvironmentState`. Der anfängliche Zustand der Umgebung.
        *   `time`: `number`. Die verstrichene Spielzeit.
        *   `weather`: `string`. Das aktuelle Wetter.
        *   `width`: `number`. Die Breite der Spielwelt.
        *   `height`: `number`. Die Höhe der Spielwelt.
        *   `election`: `Election | null`. Der aktuelle Stand der Wahl.
    *   `agents`: `Agent[]`. Ein Array von Agenten.
        *   `id`: `string`. Die eindeutige ID des Agenten.
        *   `name`: `string`. Der Name des Agenten.
        *   `description`: `string`. Die Beschreibung des Agenten.
        *   `x`: `number`. Die x-Koordinate des Agenten.
        *   `y`: `number`. Die y-Koordinate des Agenten.
        *   `beliefNetwork`: `{ [key: string]: number }`. Das Belief-Network des Agenten.
        *   `emotions`: `Emotions`. Die Emotionen des Agenten.
        *   `resonance`: `{ [key: string]: number }`. Die Resonanz des Agenten.
        *   `socialMemory`: `SocialMemoryEntry[]`. Soziale Erinnerungen des Agenten.
        *   `longTermMemory`: `LongTermMemoryEntry[]`. Langzeiterinnerungen des Agenten.
        *   `lastActions`: `Action[]`. Die letzten Aktionen des Agenten.
        *   `adminAgent`: `boolean`. Ob der Agent ein Admin-Agent ist.
        *   `health`: `number`. Die Gesundheit des Agenten.
        *   `isAlive`: `boolean`. Ob der Agent am Leben ist.
        *   `sickness`: `Sickness | null`. Die Krankheit des Agenten (optional).
        *   `conversationHistory`: `string[]`. Die Gesprächsverlauf des Agenten.
        *   `age`: `number`. Das Alter des Agenten.
        *   `genome`: `string[]`. Das Genom des Agenten.
        *   `relationships`: `{ [key: string]: Relationship }`. Die Beziehungen des Agenten zu anderen Agenten.
            *   `type`: `string`. Der Typ der Beziehung (z.B. &#39;acquaintance&#39;, &#39;friend&#39;, &#39;stranger&#39;).
            *   `score`: `number`. Der Beziehungs-Score.
            *   `disposition`: `{ [key: string]: number }`. Die Disposition des Agenten.
        *   `cultureId`: `string | null`. Die Kultur des Agenten (optional).
        *   `religionId`: `string | null`. Die Religion des Agenten (optional).
        *   `role`: `string | null`. Die Rolle des Agenten (optional).
        *   `offspringCount`: `number`. Die Anzahl der Nachkommen des Agenten.
        *   `childrenIds`: `string[]`. Die IDs der Kinder des Agenten.
        *   `hunger`: `number`. Der Hunger des Agenten.
        *   `thirst`: `number`. Der Durst des Agenten.
        *   `fatigue`: `number`. Die Ermüdung des Agenten.
        *   `inventory`: `{ [key: string]: number }`. Das Inventar des Agenten.
        *   `personality`: `Personality`. Die Persönlichkeit des Agenten.
        *   `goals`: `Goal[]`. Die Ziele des Agenten.
            *   `type`: `string`. Der Typ des Ziels.
            *   `status`: `string`. Der Status des Ziels (z.B. &#39;active&#39;).
            *   `progress`: `number`. Der Fortschritt des Ziels.
            *   `description`: `string`. Die Beschreibung des Ziels.
            *   `targetId`: `string`. Die ID des Zielobjekts.
        *   `stress`: `number`. Der Stresslevel des Agenten.
        *   `socialStatus`: `number`. Der Sozialstatus des Agenten.
        *   `skills`: `Skills`. Die Fähigkeiten des Agenten.
        *   `trauma`: `TraumaEntry[]`. Die Traumata des Agenten.
        *   `currency`: `number`. Die Währung des Agenten.
        *   `psyche`: `Psyche`. Die Psyche des Agenten.
        *   `qTable`: `{ [key: string]: number }`. Die Q-Table des Agenten.
        *   `lastStressLevel`: `number`. Der letzte Stresslevel des Agenten.
    *   `entities`: `Entity[]`. Ein Array von Entitäten.
        *   `id`: `string`. Die eindeutige ID der Entität.
        *   `name`: `string`. Der Name der Entität.
        *   `description`: `string`. Die Beschreibung der Entität.
        *   `x`: `number`. Die x-Koordinate der Entität.
        *   `y`: `number`. Die y-Koordinate der Entität.
        *   `ownerId`: `string | undefined`. Die ID des Besitzers (optional).
        *   `isResource`: `boolean | undefined`. Ob die Entität eine Ressource ist (optional).
        *   `resourceType`: `string | undefined`. Der Typ der Ressource (optional).
        *   `quantity`: `number | undefined`. Die Menge der Ressource (optional).
        *   `isMarketplace`: `boolean | undefined`. Ob die Entität ein Marktplatz ist (optional).
        *   `isJail`: `boolean | undefined`. Ob die Entität ein Gefängnis ist (optional).
        *   `inmates`: `string[] | undefined`. Die IDs der Insassen (optional).
    *   `cultures`: `Culture[]`. Ein Array von Kulturen.
        *   `id`: `string`. Die eindeutige ID der Kultur.
        *   `name`: `string`. Der Name der Kultur.
        *   `sharedBeliefs`: `{ [key: string]: number }`. Die geteilten Überzeugungen der Kultur.
        *   `memberIds`: `string[]`. Die IDs der Mitglieder der Kultur.
        *   `researchPoints`: `number`. Die Forschungspunkte der Kultur.
        *   `knownTechnologies`: `string[]`. Die bekannten Technologien der Kultur.
    *   `religions`: `Religion[]`. Ein Array von Religionen.
        *   `id`: `string`. Die eindeutige ID der Religion.
        *   `name`: `string`. Der Name der Religion.
        *   `dogma`: `{ [key: string]: number }`. Das Dogma der Religion.
        *   `memberIds`: `string[]`. Die IDs der Mitglieder der Religion.
    *   `government`: `Government`. Die aktuelle Regierung.
    *   `markets`: `Market[]`. Ein Array von Märkten.
        *   `id`: `string`. Die eindeutige ID des Marktes.
        *   `name`: `string`. Der Name des Marktes.
        *   `listings`: `Listing[]`. Die Angebote des Marktes.
    *   `techTree`: `Technology[]`. Der Technologiebaum.
    *   `recipes`: `Recipe[]`. Die Rezepte.
    *   `actions`: `Action[]`. Ein Array von Aktionen.
    *   `transactions`: `Transaction[]`. Ein Array von Transaktionen.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-services-simulation-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/simulation.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## services/simulation.ts

### Imports

*   `WorldState`: Typdefinition für den globalen Zustand der Welt.
*   `Agent`: Typdefinition für einen Agenten/Charakter in der Simulation.
*   `Entity`: Typdefinition für eine Entität in der Simulation.
*   `Action`: Typdefinition für eine Aktion, die ein Agent ausführen kann.
*   `EnvironmentState`: Typdefinition für den Zustand der Umgebung (z.B. Zeit).
*   `Beliefs`: Typdefinition für die Überzeugungen eines Agenten.
*   `Resonance`: Typdefinition für die Resonanz eines Agenten zu Aktionen.
*   `LogEntry`: Typdefinition für einen Log-Eintrag.
*   `Relationship`: Typdefinition für eine Beziehung zwischen Agenten.
*   `Culture`: Typdefinition für eine Kultur.
*   `ActionExecutionResult`: Typdefinition für das Ergebnis einer Aktion.
*   `Religion`: Typdefinition für eine Religion.
*   `Personality`: Typdefinition für die Persönlichkeit eines Agenten.
*   `Skills`: Typdefinition für die Fähigkeiten eines Agenten.
*   `Trauma`: Typdefinition für Traumata eines Agenten.
*   `Goal`: Typdefinition für ein Ziel eines Agenten.
*   `Law`: Typdefinition für ein Gesetz.
*   `TradeOffer`: Typdefinition für ein Handelsangebot.
*   `ItemType`: Typdefinition für einen Item-Typ.
*   `SocialMemoryEntry`: Typdefinition für einen Eintrag im sozialen Gedächtnis eines Agenten.
*   `PsychoReport`: Typdefinition für einen Psychoanalyse-Bericht.
*   `Psyche`: Typdefinition für die Psyche eines Agenten.
*   `ActionContext`: Typdefinition für den Kontext einer Aktion.
*   `Transaction`: Typdefinition für eine Transaktion.
*   `ActionEffect`: Typdefinition für die Effekte einer Aktion.
*   `Technology`: Typdefinition für Technologie.
*   `Language`: Typdefinition für die Sprache (aus &#39;../contexts/LanguageContext&#39;).
*   `Settings`: Typdefinition für die Einstellungen (aus &#39;../contexts/SettingsContext&#39;).
*   `RESONANCE_DECAY_RATE`: Konstante für die Abklingrate der Resonanz.
*   `RESONANCE_THRESHOLD`: Konstante für den Schwellenwert der Resonanz.
*   `RESONANCE_UPDATE_AMOUNT`: Konstante für die Aktualisierungsmenge der Resonanz.
*   `MAX_LAST_ACTIONS`: Konstante für die maximale Anzahl der letzten Aktionen.
*   `AGE_INCREMENT`: Konstante für die Inkrementierung des Alters.
*   `MAX_AGE`: Konstante für das maximale Alter.
*   `AGE_RELATED_HEALTH_DECLINE`: Konstante für den altersbedingten Gesundheitsverfall.
*   `RELATIONSHIP_INCREMENT_PROXIMITY`: Konstante für die Beziehungsinkrementierung durch Nähe.
*   `PROXIMITY_DISTANCE_THRESHOLD`: Konstante für den Nähe-Schwellenwert.
*   `EMOTION_DECAY_RATE`: Konstante für die Abklingrate der Emotionen.
*   `GENOME_OPTIONS`: Konstante für Genom-Optionen.
*   `MUTATION_RATE`: Konstante für die Mutationsrate.
*   `CULTURAL_EVOLUTION_INTERVAL`: Konstante für das kulturelle Evolutionsintervall.
*   `EMOTIONAL_LEARNING_RATE`: Konstante für die emotionale Lernrate.
*   `ELECTION_TERM_LENGTH`: Konstante für die Länge der Wahlperiode.
*   `initialWorldState`: Konstante für den initialen Weltzustand.
*   `HUNGER_INCREASE_RATE`: Konstante für die Zunahmerate des Hungers.
*   `THIRST_INCREASE_RATE`: Konstante für die Zunahmerate des Durstes.
*   `FATIGUE_INCREASE_RATE`: Konstante für die Zunahmerate der Ermüdung.
*   `HEALTH_LOSS_FROM_DEHYDRATION`: Konstante für den Gesundheitsverlust durch Dehydration.
*   `HEALTH_LOSS_FROM_STARVATION`: Konstante für den Gesundheitsverlust durch Verhungern.
*   `SICKNESS_HEALTH_LOSS`: Konstante für den Gesundheitsverlust durch Krankheit.
*   `STRESS_DECAY_RATE`: Konstante für die Abklingrate des Stresses.
*   `STRESS_FROM_NEEDS`: Konstante für den Stress durch Bedürfnisse.
*   `TECH_TREE`: Konstante für den Technologiebaum.
*   `MAX_SOCIAL_MEMORIES`: Konstante für die maximale Anzahl sozialer Erinnerungen.
*   `SKILL_TYPES`: Konstante für Skill-Typen.
*   `BOREDOM_INCREASE_RATE`: Konstante für die Zunahmerate der Langeweile.
*   `PSYCHE_DECAY_RATE`: Konstante für die Abklingrate der Psyche.
*   `defaultPsyche`: Funktion zur Erstellung der Standard-Psyche.
*   `defaultQTable`: Funktion zur Erstellung der Standard-Q-Tabelle.
*   `Q_LEARNING_RATE`: Konstante für die Q-Learning-Rate.
*   `Q_DISCOUNT_FACTOR`: Konstante für den Q-Discount-Faktor.
*   `EPSILON_GREEDY`: Konstante für Epsilon-Greedy.
*   `PERSONALITY_SHIFT_RATE`: Konstante für die Persönlichkeitsverschiebung.
*   `STRESS_THRESHOLD_FOR_PERSONALITY_SHIFT`: Konstante für den Stress-Schwellenwert für Persönlichkeitsverschiebung.
*   `MAX_TRANSACTIONS`: Konstante für die maximale Anzahl von Transaktionen.
*   `MAX_LONG_TERM_MEMORIES`: Konstante für die maximale Anzahl an Langzeitgedächtnissen.
*   `RANDOM_FIRST_NAMES`: Konstante für zufällige Vornamen.
*   `RANDOM_LAST_NAMES`: Konstante für zufällige Nachnamen.
*   `availableActions`: Exportierte Liste der verfügbaren Aktionen (aus &#39;./actions&#39;).
*   `wander`: Funktion zur zufälligen Bewegung (aus &#39;./simulationUtils&#39;).
*   `findNearestEntity`: Funktion zum Finden der nächsten Entität (aus &#39;./simulationUtils&#39;).
*   `findNearestAgent`: Funktion zum Finden des nächsten Agenten (aus &#39;./simulationUtils&#39;).
*   `VectorDB`: Klasse für die Vektordatenbank (aus &#39;./memoryService&#39;).
*   `generateEmbedding`: Funktion zur Generierung von Embeddings (aus &#39;./geminiService&#39;).
*   `generateJailJournalEntry`: Funktion zur Generierung von Gefängnis-Journal-Einträgen (aus &#39;./geminiService&#39;).
*   `translations`: Objekt mit Übersetzungen.

### Funktionen

#### `getRandomItem(arr: string[]): string`

&gt;   Generiert einen zufälligen Eintrag aus einem String-Array.

*   **Parameter:**
    *   `arr`: Das Array von Strings.
*   **Rückgabewert:**
    *   Ein zufälliger String aus dem Array.

### Klassen

#### `PromptParser`

&gt;   Verarbeitet Benutzereingaben (Prompts) und versucht, sie mit verfügbaren Aktionen abzugleichen.

*   **Methoden:**
    *   `parse(prompt: string, availableActions: Action[]): Action | null`
        *   **Parameter:**
            *   `prompt`: Der Benutzereingabe-String.
            *   `availableActions`: Ein Array verfügbarer `Action`-Objekte.
        *   **Rückgabewert:**
            *   Das übereinstimmende `Action`-Objekt oder `null`, falls keine Übereinstimmung gefunden wurde.

#### `RealityEngine`

&gt;   Die Hauptklasse, die die Simulation antreibt. Sie verwaltet den Weltzustand, Agenten, Entitäten, Aktionen und führt die Simulationsschritte aus.

*   **Eigenschaften:**
    *   `worldState: WorldState`: Der aktuelle Zustand der Welt.
    *   `agents: Map&lt;string, Agent&gt;`: Eine Map, die alle Agenten nach ID speichert.
    *   `entities: Map&lt;string, Entity&gt;`: Eine Map, die alle Entitäten nach ID speichert.
    *   `actions: Map&lt;string, Action&gt;`: Eine Map, die alle Aktionen nach Name speichert.
    *   `cultures: Map&lt;string, Culture&gt;`: Eine Map, die alle Kulturen nach ID speichert.
    *   `religions: Map&lt;string, Religion&gt;`: Eine Map, die alle Religionen nach ID speichert.
    *   `promptParser: PromptParser`: Eine Instanz des `PromptParser` zur Verarbeitung von Prompts.
    *   `conversations: Map&lt;string, Conversation&gt;`: Eine Map zur Verwaltung von Konversationen.
    *   `memoryDBs: Map&lt;string, VectorDB&gt;`: Eine Map, die Vektordatenbanken für Agenten speichert.
    *   `settings: Settings`: Die Einstellungen der Simulation.
    *   `language: Language`: Die aktuell verwendete Sprache. Standardmäßig &#39;de&#39;.
    *   `marketPrices: { [key: string]: number }`: Ein Objekt, das die Marktpreise für verschiedene Items speichert.

*   **Konstruktor:**
    *   `constructor(initialState: WorldState, settings: Settings)`
        *   **Parameter:**
            *   `initialState`: Der anfängliche Weltzustand (`WorldState`).
            *   `settings`: Die Einstellungen (`Settings`) der Simulation.
        *   **Aktionen:**
            *   Initialisiert den Weltzustand, die Maps für Agenten, Entitäten, Aktionen, Kulturen und Religionen.
            *   Fügt benutzerdefinierte Aktionen aus dem Weltzustand hinzu.
            *   Initialisiert Vektor-Datenbanken für Agenten.
            *   Berechnet die Marktpreise.

*   **Methoden:**
    *   `updateCultureMembership(agent: Agent): void`
        *   Aktualisiert die Mitgliedschaft in einer Kultur basierend auf der `cultureId` des Agenten.
        *   **Parameter:**
            *   `agent`: Der zu aktualisierende Agent.
    *   `logTransaction(transaction: Omit&lt;Transaction, &#39;step&#39;&gt;): void`
        *   Protokolliert eine Transaktion in `this.worldState.transactions`.
        *   **Parameter:**
            *   `transaction`: Ein `Transaction`-Objekt ohne die `step`-Eigenschaft.
    *   `calculateMarketPrices(): void`
        *   Berechnet die Marktpreise für Items basierend auf Angebot und Nachfrage.
    *   `addListingToMarket(marketId: string, offer: {fromAgentId: string, item: ItemType, quantity: number}): void`
        *   Fügt dem Markt ein Handelsangebot hinzu.
        *   **Parameter:**
            *   `marketId`: Die ID des Marktes.
            *   `offer`: Das Handelsangebot.
    *   `executeTrade(buyer: Agent, offer: TradeOffer): void`
        *   Führt einen Handel zwischen einem Käufer und einem Verkäufer aus.
        *   **Parameter:**
            *   `buyer`: Der Käufer (`Agent`).
            *   `offer`: Das Handelsangebot (`TradeOffer`).
    *   `startElection(): void`
        *   Initiiert eine Wahl.
    *   `castVote(candidateId: string): void`
        *   Gibt eine Stimme für einen Kandidaten ab.
        *   **Parameter:**
            *   `candidateId`: Die ID des Kandidaten.
    *   `declareCandidacy(agentId: string): void`
        *   Erklärt einen Agenten als Kandidaten für die Wahl.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
    *   `endElection(): LogEntry[]`
        *   Beendet eine Wahl und ermittelt den Gewinner.
        *   **Rückgabewert:**
            *   Ein Array von `LogEntry`-Objekten.
    *   `enactLaw(law: Law): void`
        *   Erlässt ein Gesetz.
        *   **Parameter:**
            *   `law`: Das zu erlassende Gesetz (`Law`).
    *   `updateActionLegality(): void`
        *   Aktualisiert die Legalität von Aktionen basierend auf den Gesetzen.
    *   `addResearchPoints(cultureId: string, points: number): void`
        *   Fügt einer Kultur Forschungspunkte hinzu.
        *   **Parameter:**
            *   `cultureId`: Die ID der Kultur.
            *   `points`: Die Anzahl der hinzuzufügenden Punkte.
    *   `checkTechnologyUnlocks(): LogEntry[]`
        *   Überprüft, ob neue Technologien freigeschaltet werden können.
        *   **Rückgabewert:**
            *   Ein Array von `LogEntry`-Objekten.
    *   `inheritGenome(parent1: Agent, parent2: Agent): string[]`
        *   Vererbt das Genom von Eltern an ein Kind, einschließlich Mutationen.
        *   **Parameter:**
            *   `parent1`: Der erste Elternteil (`Agent`).
            *   `parent2`: Der zweite Elternteil (`Agent`).
        *   **Rückgabewert:**
            *   Das Genom des Kindes (Array von Strings).
    *   `inheritPersonality(parent1: Agent, parent2: Agent): Personality`
        *   Vererbt die Persönlichkeit von Eltern an ein Kind.
        *   **Parameter:**
            *   `parent1`: Der erste Elternteil (`Agent`).
            *   `parent2`: Der zweite Elternteil (`Agent`).
        *   **Rückgabewert:**
            *   Die Persönlichkeit des Kindes (`Personality`).
    *   `inheritPsyche(parent1: Agent, parent2: Agent): Psyche`
        *   Vererbt die Psyche von Eltern an ein Kind.
        *   **Parameter:**
            *   `parent1`: Der erste Elternteil (`Agent`).
            *   `parent2`: Der zweite Elternteil (`Agent`).
        *   **Rückgabewert:**
            *   Die Psyche des Kindes (`Psyche`).
    *   `addNewbornAgent(data: Partial&lt;Agent&gt; &amp; { description: string, parents: [Agent, Agent] }): LogEntry[]`
        *   Erstellt einen neuen Agenten (Kind).
        *   **Parameter:**
            *   `data`: Daten für den neuen Agenten, einschließlich Beschreibung und Eltern.
        *   **Rückgabewert:**
            *   Ein Array von `LogEntry`-Objekten.
    *   `addEntityToSimulation(entity: Entity): void`
        *   Fügt eine Entität zur Simulation hinzu.
        *   **Parameter:**
            *   `entity`: Die hinzuzufügende Entität (`Entity`).
    *   `addSocialMemory(agentId: string, memory: SocialMemoryEntry): void`
        *   Fügt einem Agenten eine soziale Erinnerung hinzu.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `memory`: Die soziale Erinnerung (`SocialMemoryEntry`).
    *   `addNewSanitizedAgent(agent: Agent): void`
        *   Fügt einen neuen, bereinigten Agenten hinzu.
        *   **Parameter:**
            *   `agent`: Der hinzuzufügende Agent (`Agent`).
    *   `addNewSanitizedEntity(entity: Entity): void`
        *   Fügt eine neue, bereinigte Entität hinzu.
        *   **Parameter:**
            *   `entity`: Die hinzuzufügende Entität (`Entity`).
    *   `addAgent(name: string, description: string, beliefs: Beliefs, genome?: string[], role?: string | null, personality?: Personality): void`
        *   Fügt der Simulation einen neuen Agenten hinzu.
        *   **Parameter:**
            *   `name`: Der Name des Agenten.
            *   `description`: Die Beschreibung des Agenten.
            *   `beliefs`: Die Überzeugungen des Agenten (`Beliefs`).
            *   `genome`: Das Genom des Agenten (optional, `string[]`).
            *   `role`: Die Rolle des Agenten (optional, `string | null`).
            *   `personality`: Die Persönlichkeit des Agenten (optional, `Personality`).
    *   `addEntity(name: string, description: string): void`
        *   Fügt der Simulation eine neue Entität hinzu.
        *   **Parameter:**
            *   `name`: Der Name der Entität.
            *   `description`: Die Beschreibung der Entität.
    *   `createCustomActionExecute(action: Action): (agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;, worldState: WorldState, context: ActionContext) =&gt; Promise&lt;ActionExecutionResult&gt;`
        *   Erstellt eine benutzerdefinierte Ausführungsfunktion für Aktionen.
        *   **Parameter:**
            *   `action`: Die Aktion (`Action`).
        *   **Rückgabewert:**
            *   Eine asynchrone Funktion, die die Aktion ausführt.
    *   `addAction(name: string, description: string, beliefKey?: string, effects?: ActionEffect): void`
        *   Fügt eine neue Aktion hinzu.
        *   **Parameter:**
            *   `name`: Der Name der Aktion.
            *   `description`: Die Beschreibung der Aktion.
            *   `beliefKey`: Der Schlüssel des Belief, der durch die Aktion beeinflusst wird (optional, `string`).
            *   `effects`: Die Auswirkungen der Aktion (optional, `ActionEffect`).
    *   `removeAgent(agentId: string): void`
        *   Entfernt einen Agenten aus der Simulation.
        *   **Parameter:**
            *   `agentId`: Die ID des zu entfernenden Agenten.
    *   `removeEntity(entityId: string): void`
        *   Entfernt eine Entität aus der Simulation.
        *   **Parameter:**
            *   `entityId`: Die ID der zu entfernenden Entität.
    *   `removeAction(actionName: string): void`
        *   Entfernt eine Aktion aus der Simulation.
        *   **Parameter:**
            *   `actionName`: Der Name der zu entfernenden Aktion.
    *   `getAgentById(agentId: string): Agent | undefined`
        *   Gibt einen Agenten anhand seiner ID zurück.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
        *   **Rückgabewert:**
            *   Das `Agent`-Objekt oder `undefined`, falls nicht gefunden.
    *   `getEntityById(entityId: string): Entity | undefined`
        *   Gibt eine Entität anhand ihrer ID zurück.
        *   **Parameter:**
            *   `entityId`: Die ID der Entität.
        *   **Rückgabewert:**
            *   Das `Entity`-Objekt oder `undefined`, falls nicht gefunden.
    *   `getAvailableActions(): Action[]`
        *   Gibt ein Array aller verfügbaren Aktionen zurück.
        *   **Rückgabewert:**
            *   Ein Array von `Action`-Objekten.
    *   `setEnvironment(newState: EnvironmentState): void`
        *   Setzt den Zustand der Umgebung.
        *   **Parameter:**
            *   `newState`: Der neue Zustand der Umgebung (`EnvironmentState`).
    *   `setAgentHealth(agentId: string, health: number): void`
        *   Setzt die Gesundheit eines Agenten.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `health`: Die neue Gesundheit.
    *   `setAgentSickness(agentId: string, sickness: string | null): void`
        *   Setzt den Krankheitszustand eines Agenten.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `sickness`: Der Name der Krankheit oder `null`, falls nicht krank.
    *   `resurrectAgent(agentId: string): void`
        *   Belebt einen Agenten wieder.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
    *   `setAgentPosition(agentId: string, x: number, y: number): void`
        *   Setzt die Position eines Agenten.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `x`: Die X-Koordinate.
            *   `y`: Die Y-Koordinate.
    *   `setAgentCurrency(agentId: string, currency: number): void`
        *   Setzt die Währung eines Agenten.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `currency`: Der Währungsbetrag.
    *   `repealLaw(lawId: string): void`
        *   Hebt ein Gesetz auf.
        *   **Parameter:**
            *   `lawId`: Die ID des Gesetzes.
    *   `setLeader(agentId: string): { techUnlocked: boolean, cultureName?: string }`
        *   Setzt einen Agenten zum Anführer.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
        *   **Rückgabewert:**
            *   Ein Objekt mit `techUnlocked` (ob Technologie freigeschaltet wurde) und optional `cultureName`.
    *   `imprisonAgent(agentId: string, duration: number): boolean`
        *   Sperrt einen Agenten ein.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `duration`: Die Dauer der Inhaftierung in Schritten.
        *   **Rückgabewert:**
            *   `true`, wenn die Inhaftierung erfolgreich war, sonst `false`.
    *   `unlockTech(cultureId: string, techId: string): void`
        *   Schaltet eine Technologie für eine Kultur frei.
        *   **Parameter:**
            *   `cultureId`: Die ID der Kultur.
            *   `techId`: Die ID der Technologie.
    *   `applyPsychoanalysis(agentId: string, report: PsychoReport): { logs: LogEntry[] }`
        *   Wendet eine Psychoanalyse auf einen Agenten an.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `report`: Der Psychoanalyse-Bericht (`PsychoReport`).
        *   **Rückgabewert:**
            *   Ein Objekt mit einem Array von `LogEntry`-Objekten.
    *   `getState(): WorldState`
        *   Erstellt einen serialisierbaren `WorldState` für die Ausgabe.
        *   **Rückgabewert:**
            *   Der aktuelle `WorldState`.
    *   `updateAgentGoals(agent: Agent): LogEntry[]`
        *   Aktualisiert die Ziele eines Agenten.
        *   **Parameter:**
            *   `agent`: Der Agent.
        *   **Rückgabewert:**
            *   Ein Array von `LogEntry`-Objekten.
    *   `updateAgentRole(agent: Agent): LogEntry[]`
        *   Aktualisiert die Rolle eines Agenten basierend auf seinen Fähigkeiten.
        *   **Parameter:**
            *   `agent`: Der Agent.
        *   **Rückgabewert:**
            *   Ein Array von `LogEntry`-Objekten.
    *   `applyPersonalityShifts(agent: Agent): void`
        *   Passt die Persönlichkeit eines Agenten an.
        *   **Parameter:**
            *   `agent`: Der Agent.
    *   `applyPerStepMechanisms(agent: Agent): LogEntry[]`
        *   Wendet Mechanismen an, die pro Schritt gelten (z.B. Hunger, Durst, Krankheit).
        *   **Parameter:**
            *   `agent`: Der Agent.
        *   **Rückgabewert:**
            *   Ein Array von `LogEntry`-Objekten.
    *   `getAgentStateKey(agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;): string`
        *   Generiert einen Schlüssel, der den Zustand eines Agenten beschreibt.
        *   **Parameter:**
            *   `agent`: Der Agent.
            *   `allAgents`: Alle Agenten.
            *   `allEntities`: Alle Entitäten.
        *   **Rückgabewert:**
            *   Ein String, der den Zustand des Agenten repräsentiert.
    *   `chooseAction(agent: Agent): Action | null`
        *   Wählt eine Aktion für einen Agenten basierend auf seinem Zustand und seinen Zielen.
        *   **Parameter:**
            *   `agent`: Der Agent.
        *   **Rückgabewert:**
            *   Die ausgewählte `Action` oder `null`, wenn keine Aktion ausgewählt werden konnte.
    *   `updateQValue(agent: Agent, stateKey: string, actionName: string, reward: number, newStateKey: string): void`
        *   Aktualisiert den Q-Wert für ein bestimmtes Aktions-Zustands-Paar basierend auf dem Q-Learning-Algorithmus.
        *   **Parameter:**
            *   `agent`: Der Agent.
            *   `stateKey`: Der Schlüssel des Zustands vor der Aktion.
            *   `actionName`: Der Name der Aktion.
            *   `reward`: Die Belohnung, die durch die Aktion erhalten wurde.
            *   `newStateKey`: Der Schlüssel des Zustands nach der Aktion.
    *   `formatLogToString(log: LogEntry): string`
        *   Formatiert einen Log-Eintrag in einen String.
        *   **Parameter:**
            *   `log`: Der Log-Eintrag.
        *   **Rückgabewert:**
            *   Der formatierte String.
    *   `executeAction(agentId: string, action: Action): Promise&lt;{ logs: LogEntry[], sideEffects?: ActionExecutionResult[&#39;sideEffects&#39;] }&gt;`
        *   Führt eine Aktion für einen Agenten aus.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `action`: Die auszuführende `Action`.
        *   **Rückgabewert:**
            *   Ein Promise, das ein Objekt mit einem Array von `LogEntry`-Objekten und optionalen Nebeneffekten zurückgibt.
    *   `step(language: Language): Promise&lt;{ logs: LogEntry[] }&gt;`
        *   Führt einen Simulationsschritt aus.
        *   **Parameter:**
            *   `language`: Die zu verwendende Sprache (`Language`).
        *   **Rückgabewert:**
            *   Ein Promise, das ein Objekt mit einem Array von `LogEntry`-Objekten zurückgibt.
    *   `processAgentPrompt(agentId: string, prompt: string): Promise&lt;{ logs: LogEntry[] }&gt;`
        *   Verarbeitet die Eingabe eines Agenten.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `prompt`: Die Eingabe des Agenten.
        *   **Rückgabewert:**
            *   Ein Promise, das ein Objekt mit einem Array von `LogEntry`-Objekten zurückgibt.
    *   `searchAgentMemory(agentId: string, queryVector: number[], topK: number)`
        *   Sucht im Langzeitgedächtnis eines Agenten nach relevanten Erinnerungen.
        *   **Parameter:**
            *   `agentId`: Die ID des Agenten.
            *   `queryVector`: Der Suchvektor.
            *   `topK`: Die Anzahl der zurückzugebenden Ergebnisse.
        *   **Rückgabewert:**
            *   Ein Array mit Suchergebnissen.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-services-geminiService-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/geminiService.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### `LmStudioError` Klasse

Die Klasse `LmStudioError` erweitert die eingebaute `Error` Klasse. Sie wird verwendet, um Fehler im Zusammenhang mit der Interaktion mit dem LM Studio (oder Gemini) API zu behandeln.

**Eigenschaften:**

*   `translationKey?: TranslationKey` (optional): Ein Schlüssel zur Übersetzung der Fehlermeldung.

**Methoden:**

*   **`constructor(message: string, public translationKey?: TranslationKey)`**: Konstruktor für die Klasse.
    *   `message`: Die Fehlermeldung als Zeichenkette.
    *   `translationKey?`: Der optionale Übersetzungsschlüssel.
    *   Setzt `this.name` auf `&#39;AIProviderError&#39;`.

### `AiConfig` Interface

Definiert die Konfigurationseinstellungen für den AI-Provider.

**Eigenschaften:**

*   `provider`: Der AI-Anbieter (`&#39;lm_studio&#39;` oder `&#39;gemini&#39;`).
*   `lmStudioUrl`: Die URL für den LM Studio API-Endpunkt.
*   `lmStudioModel`: Der Name des LM Studio Modells.
*   `lmStudioEmbeddingModel`: Das Embedding-Modell für LM Studio.
*   `geminiModel`: Der Name des Gemini Modells.

### `getAiConfig()` Funktion

Ruft die AI-Konfiguration aus dem `localStorage` ab.

**Rückgabewert:**

*   `AiConfig`: Die AI-Konfiguration.

**Ausnahmen:**

*   Wirft einen Fehler, wenn keine AI-Konfiguration gefunden wird.

### `generateEmbedding(text: string, aiConfig: AiConfig): Promise&lt;number[]&gt;` Funktion

Generiert Einbettungen (Embeddings) für einen gegebenen Text mithilfe des konfigurierten AI-Providers (LM Studio oder Gemini).

**Parameter:**

*   `text`: Der Text, für den eine Einbettung generiert werden soll.
*   `aiConfig`: Die AI-Konfiguration.

**Rückgabewert:**

*   `Promise&lt;number[]&gt;`: Ein Promise, das ein Array von Zahlen (die Einbettung) zurückgibt.

**Ausnahmen:**

*   Wirft einen `LmStudioError`, wenn der API-Schlüssel für Gemini nicht gefunden wird.
*   Wirft einen `LmStudioError`, wenn die LM Studio URL ungültig ist.
*   Wirft einen Fehler, wenn ein Fehler bei der Abfrage der LM Studio Embedding API auftritt.
*   Wirft einen Fehler, wenn die Antwort von LM Studio ein ungültiges Einbettungsobjekt enthält.

### `callAi(systemPrompt: string, userPrompt: string | null, jsonMode: boolean = false)` Funktion

Stellt eine Verbindung zum konfigurierten AI-Provider (LM Studio oder Gemini) her und generiert Text basierend auf den bereitgestellten Prompts.

**Parameter:**

*   `systemPrompt`: Der System-Prompt, der die Rolle des AI-Assistenten und die Aufgabenstellung definiert.
*   `userPrompt`: Der optionale Benutzer-Prompt.
*   `jsonMode`: Ein boolescher Wert, der angibt, ob die Antwort im JSON-Format generiert werden soll. Standardwert ist `false`.

**Rückgabewert:**

*   `Promise&lt;string&gt;`: Ein Promise, das den generierten Text zurückgibt.

**Ausnahmen:**

*   Wirft einen `LmStudioError`, wenn der API-Schlüssel für Gemini nicht gefunden wird.
*   Wirft einen `LmStudioError`, wenn die LM Studio URL ungültig ist.
*   Wirft einen `LmStudioError` bei Netzwerkfehlern mit LM Studio (z.B. CORS-Probleme).
*   Wirft einen Fehler, wenn eine ungültige Antwort von LM Studio empfangen wird.
*   Wirft einen Fehler bei Fehlern bei der Gemini-API.
*   Wirft einen Fehler bei unbekannten Fehlern.

### `generateActionFromPrompt(prompt: string, availableActions: Action[], agent: Agent, worldState: WorldState, language: Language, recalledMemories: string[]): Promise&lt;string | null&gt;` Funktion

Generiert eine Aktion für einen Agenten basierend auf einem gegebenen Prompt, verfügbaren Aktionen und dem Weltzustand.

**Parameter:**

*   `prompt`: Der Prompt des Benutzers.
*   `availableActions`: Ein Array von `Action` Objekten, die dem Agenten zur Verfügung stehen.
*   `agent`: Das `Agent`-Objekt, das den aktuellen Zustand des Agenten darstellt.
*   `worldState`: Das `WorldState`-Objekt, das den aktuellen Zustand der Welt darstellt.
*   `language`: Die Sprache, in der die Prompts und Antworten generiert werden sollen.
*   `recalledMemories`: Ein Array von Strings, die die vom Agenten abgerufenen Erinnerungen enthalten.

**Rückgabewert:**

*   `Promise&lt;string | null&gt;`: Ein Promise, das den Namen der ausgewählten Aktion oder `&quot;Keine Aktion&quot;` zurückgibt, falls keine passende Aktion gefunden wurde.

**Ausnahmen:**

*   Wirft `LmStudioError` bei Fehlern von `callAi`.
*   Wirft einen allgemeinen Fehler bei Fehlern bei der Generierung der Aktion.

### `generateAgentConversation(speaker: Agent, listener: Agent, history: { speakerName: string; message: string }[], worldState: WorldState, language: Language): Promise&lt;{ dialogue: string; action: string; } | null&gt;` Funktion

Generiert eine Konversation zwischen zwei Agenten.

**Parameter:**

*   `speaker`: Der `Agent`, der spricht.
*   `listener`: Der `Agent`, der zuhört.
*   `history`: Ein Array von Objekten, die die Konversationsgeschichte darstellen. Jedes Objekt hat die Eigenschaften `speakerName` und `message`.
*   `worldState`: Der aktuelle `WorldState`.
*   `language`: Die Sprache der Konversation.

**Rückgabewert:**

*   `Promise&lt;{ dialogue: string; action: string; } | null&gt;`: Ein Promise, das ein Objekt mit den Eigenschaften `dialogue` und `action` zurückgibt oder `null` wenn ein Fehler auftritt.

**Ausnahmen:**

*   Protokolliert Fehler während der Generierung der Konversation.

### `generatePsychoanalysis(agent: Agent, worldState: WorldState, language: Language): Promise&lt;PsychoReport | null&gt;` Funktion

Generiert eine psychologische Analyse eines Agenten.

**Parameter:**

*   `agent`: Der zu analysierende `Agent`.
*   `worldState`: Der aktuelle `WorldState`.
*   `language`: Die Sprache der Analyse.

**Rückgabewert:**

*   `Promise&lt;PsychoReport | null&gt;`: Ein Promise, das ein `PsychoReport`-Objekt oder `null` zurückgibt, wenn ein Fehler auftritt.

**Ausnahmen:**

*   Wirft `LmStudioError` bei Fehlern von `callAi`.
*   Wirft einen allgemeinen Fehler bei Fehlern bei der Generierung der Analyse.

### `getWorldGenPrompts(language: Language)` Funktion

Gibt die Prompts für die Weltgenerierung in der angegebenen Sprache zurück.

**Parameter:**

*   `language`: Die Sprache, für die die Prompts zurückgegeben werden sollen.

**Rückgabewert:**

*   Ein Objekt, das die Prompts für die Weltgenerierung enthält.

### `generateWorld(environment: EnvironmentState, language: Language, agentCount: number, entityCounts: { [key: string]: number }): Promise&lt;{ agents: any[]; entities: any[]; } | null&gt;` Funktion

Generiert eine neue Welt, einschließlich Agenten und Entitäten.

**Parameter:**

*   `environment`: Der `EnvironmentState` der Welt.
*   `language`: Die Sprache für die Generierung.
*   `agentCount`: Die Anzahl der Agenten, die generiert werden sollen.
*   `entityCounts`: Ein Objekt, das die Anzahl der einzelnen Entitätstypen angibt.

**Rückgabewert:**

*   `Promise&lt;{ agents: any[]; entities: any[]; } | null&gt;`: Ein Promise, das ein Objekt mit Arrays von Agenten und Entitäten zurückgibt oder `null` im Fehlerfall.

**Ausnahmen:**

*   Wirft `LmStudioError` bei Fehlern von `callAi`.
*   Wirft einen allgemeinen Fehler bei Fehlern bei der Generierung der Welt.

### `generateAgents(environment: EnvironmentState, language: Language, agentCount: number): Promise&lt;{ agents: any[]; } | null&gt;` Funktion

Generiert Agenten.

**Parameter:**

*   `environment`: Der `EnvironmentState` der Welt.
*   `language`: Die Sprache für die Generierung.
*   `agentCount`: Die Anzahl der Agenten, die generiert werden sollen.

**Rückgabewert:**

*   `Promise&lt;{ agents: any[]; } | null&gt;`: Ein Promise, das ein Objekt mit einem Array von Agenten zurückgibt oder `null` im Fehlerfall.

**Ausnahmen:**

*   Wirft `LmStudioError` bei Fehlern von `callAi`.
*   Wirft einen allgemeinen Fehler bei Fehlern bei der Generierung der Agenten.

### `generateEntities(environment: EnvironmentState, language: Language, entityCounts: { [key: string]: number }): Promise&lt;{ entities: any[]; } | null&gt;` Funktion

Generiert Entitäten.

**Parameter:**

*   `environment`: Der `EnvironmentState` der Welt.
*   `language`: Die Sprache für die Generierung.
*   `entityCounts`: Ein Objekt, das die Anzahl der einzelnen Entitätstypen angibt.

**Rückgabewert:**

*   `Promise&lt;{ entities: any[]; } | null&gt;`: Ein Promise, das ein Objekt mit einem Array von Entitäten zurückgibt oder `null` im Fehlerfall.

**Ausnahmen:**

*   Wirft `LmStudioError` bei Fehlern von `callAi`.
*   Wirft einen allgemeinen Fehler bei Fehlern bei der Generierung der Entitäten.

### `generateNewTechnology(agent: Agent, worldState: WorldState, language: Language): Promise&lt;Technology | null&gt;` Funktion

Generiert eine neue Technologie für einen Agenten.

**Parameter:**

*   `agent`: Der `Agent`, der die Technologie erfindet.
*   `worldState`: Der aktuelle `WorldState`.
*   `language`: Die Sprache für die Generierung.

**Rückgabewert:**

*   `Promise&lt;Technology | null&gt;`: Ein Promise, das ein `Technology`-Objekt oder `null` zurückgibt, wenn ein Fehler auftritt.

**Ausnahmen:**

*   Wirft `LmStudioError` bei Fehlern von `callAi`.
*   Wirft einen allgemeinen Fehler bei Fehlern bei der Generierung der Technologie.

### `generateNewLaw(agent: Agent, worldState: WorldState, language: Language): Promise&lt;Law | null&gt;` Funktion

Generiert ein neues Gesetz.

**Parameter:**

*   `agent`: Der `Agent`, der das Gesetz vorschlägt.
*   `worldState`: Der aktuelle `WorldState`.
*   `language`: Die Sprache für die Generierung.

**Rückgabewert:**

*   `Promise&lt;Law | null&gt;`: Ein Promise, das ein `Law`-Objekt oder `null` zurückgibt, wenn ein Fehler auftritt.

**Ausnahmen:**

*   Wirft `LmStudioError` bei Fehlern von `callAi`.
*   Wirft einen allgemeinen Fehler bei Fehlern bei der Generierung des Gesetzes.

### `generateJailJournalEntry(agent: Agent, worldState: WorldState, language: Language, reasonForImprisonment: string): Promise&lt;string | null&gt;` Funktion

Generiert einen Tagebucheintrag aus dem Gefängnis für einen Agenten.

**Parameter:**

*   `agent`: Der `Agent`, der den Tagebucheintrag schreibt.
*   `worldState`: Der aktuelle `WorldState`.
*   `language`: Die Sprache des Tagebucheintrags.
*   `reasonForImprisonment`: Der Grund für die Inhaftierung des Agenten.

**Rückgabewert:**

*   `Promise&lt;string | null&gt;`: Ein Promise, das den generierten Tagebucheintrag oder `null` zurückgibt, wenn ein Fehler auftritt.

**Ausnahmen:**

*   Protokolliert Fehler während der Generierung des Tagebucheintrags.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-components-AgentCard-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/AgentCard.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## AgentCard.tsx

Diese Datei definiert eine React-Komponente `AgentCard`, die detaillierte Informationen über einen Agenten anzeigt.  Sie verwendet mehrere Hilfskomponenten und -hooks zur Darstellung von Agenten-Attributen, Interaktionen und Zuständen.

### Exporte

*   `AgentCard`: React-Komponente zur Anzeige von Agenteninformationen.

### Importe

*   `React`, `useState` aus `react`:  Für die Erstellung von React-Komponenten und die Verwaltung des Komponentenzustands.
*   `Agent`, `Entity`, `EnvironmentState` aus `../types`:  Typdefinitionen für Agenten, Entitäten und den Umweltzustand.
*   `useTranslations` aus `../hooks/useTranslations`: Ein benutzerdefinierter Hook zur Übersetzung von Texten.
*   `BeliefsChart`: Eine Komponente zur Visualisierung von Überzeugungen (Beliefs) in einem Diagramm.
*   IconComponents (diverse): React-Komponenten für Icons, die im UI verwendet werden.
*   `TranslationKey` aus `../translations`: Ein Typ für die Übersetzungsschlüssel.
*   `CHILDHOOD_MAX_AGE`, `ADOLESCENCE_MAX_AGE`, `ADULTHOOD_MAX_AGE` aus `../constants`: Konstanten für Altersbereiche.

### Komponenten

#### `Card`

Eine generische Container-Komponente für die Anzeige von Inhalten mit Titel, Icon und optionalen Header-Aktionen.

*   **Props:**
    *   `title`: `string` - Der Titel der Karte.
    *   `icon`: `React.ReactNode` - Ein React-Element, das als Icon angezeigt wird.
    *   `children`: `React.ReactNode` - Die Kind-Elemente, die in der Karte angezeigt werden.
    *   `headerActions`: `React.ReactNode | undefined` - Optionale Elemente, die im Header der Karte angezeigt werden.

#### `ProgressBar`

Eine Komponente zur Darstellung eines Fortschrittsbalkens.

*   **Props:**
    *   `value`: `number` - Der aktuelle Wert des Fortschritts.
    *   `max`: `number` - Der Maximalwert des Fortschritts.
    *   `color`: `string` - Die CSS-Klasse für die Hintergrundfarbe des Fortschrittsbalkens.
    *   `label`: `string` - Das Label, das neben dem Fortschrittsbalken angezeigt wird.

#### `DetailItem`

Eine Komponente zur Darstellung eines einzelnen Detail-Elements, bestehend aus Label, Wert und Icon.

*   **Props:**
    *   `label`: `string` - Das Label des Details.
    *   `value`: `string | React.ReactNode` - Der Wert des Details.  Kann ein String oder ein React-Element sein.
    *   `icon`: `React.ReactNode` - Ein React-Element, das als Icon angezeigt wird.

#### `AgentCard`

Die Hauptkomponente, die die Informationen des Agenten darstellt und Interaktionen ermöglicht.

*   **Props:**
    *   `agent`: `Agent` - Das Agent-Objekt, dessen Informationen angezeigt werden.
    *   `allAgents`: `Agent[]` - Ein Array aller Agenten.
    *   `entities`: `Entity[]` - Ein Array aller Entitäten.
    *   `cultureName`: `string` - Der Name der Kultur des Agenten.
    *   `religionName`: `string` - Der Name der Religion des Agenten.
    *   `leaderName`: `string` - Der Name des Anführers.
    *   `environment`: `EnvironmentState` - Der aktuelle Zustand der Umgebung.
    *   `onPrompt`: `(agentId: string, prompt: string, useAi: boolean) =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn der Benutzer einen Prompt eingibt.
    *   `onGeneratePsychoanalysis`: `(agent: Agent) =&gt; void` - Eine Callback-Funktion zum Generieren einer Psychoanalyse für den Agenten.

### Funktionen

#### `getLifeStage`

Ermittelt die Lebensphase eines Agenten basierend auf seinem Alter.

*   **Parameter:**
    *   `age`: `number` - Das Alter des Agenten.
*   **Rückgabewert:** `string` - Die Lebensphase des Agenten (z.B. &quot;Kind&quot;, &quot;Jugendlicher&quot;, &quot;Erwachsener&quot;, &quot;Ältester&quot;).

#### `handlePromptSubmit`

Behandelt das Absenden eines Prompts. Ruft die `onPrompt`-Funktion auf, wenn ein Prompt eingegeben wurde.

*   **Parameter:**
    *   `e`: `React.FormEvent` - Das Formular-Event.
*   **Rückgabewert:** `void`

#### `handleDownloadJournal`

Erstellt und lädt ein Markdown-Dokument mit dem Gefängnisprotokoll des Agenten herunter.

*   **Parameter:**
    *   Keine
*   **Rückgabewert:** `void`
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-components-BeliefsChart-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/BeliefsChart.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h2>BeliefsChart.tsx</h2>
<h3>Interfaces</h3>
<h4><code>BeliefsChartProps</code></h4>
<p>Die Props-Schnittstelle für die <code>BeliefsChart</code>-Komponente.</p>
<p><strong>Properties:</strong></p>
<ul>
<li><code>data</code>: <code>{ name: string; value: number }[]</code> - Ein Array von Objekten, das die Daten für das Balkendiagramm darstellt.  Jedes Objekt enthält einen <code>name</code> (String) und einen <code>value</code> (Zahl).</li>
<li><code>barColor?</code>: <code>string</code> -  (Optional) Die Farbe der Balken im Diagramm.  Standardwert ist <code>&quot;#8884d8&quot;</code>.</li>
<li><code>keyPrefix?</code>: <code>string</code> - (Optional) Ein Präfix, der verwendet wird, um Übersetzungsschlüssel für die Namen der Datenpunkte zu erstellen. Wird zusammen mit der <code>useTranslations</code>-Hook verwendet.</li>
</ul>
<h3>Komponenten</h3>
<h4><code>CustomTooltip</code></h4>
<p>Eine benutzerdefinierte Tooltip-Komponente, die Informationen über die Balken im Diagramm anzeigt.</p>
<p><strong>Props:</strong></p>
<ul>
<li><code>active</code>: <code>boolean</code> - Gibt an, ob der Tooltip gerade aktiv ist.</li>
<li><code>payload</code>: <code>any</code> -  Die Daten, die im Tooltip angezeigt werden sollen.</li>
<li><code>label</code>: <code>string</code> - Das Label des aktuellen Datenpunkts.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>JSX.Element | null</code> - Gibt den gerenderten Tooltip zurück, wenn <code>active</code> wahr ist und <code>payload</code> Daten enthält. Andernfalls wird <code>null</code> zurückgegeben.</li>
</ul>
<h4><code>BeliefsChart</code></h4>
<p>Eine React-Komponente, die ein horizontales Balkendiagramm zur Darstellung von Glaubensdaten rendert.  Verwendet die <code>recharts</code>-Bibliothek.</p>
<p><strong>Props:</strong> (siehe <code>BeliefsChartProps</code>)</p>
<p><strong>Funktionalität:</strong></p>
<ul>
<li>Verwendet die <code>useTranslations</code>-Hook, um die Namen der Datenpunkte zu übersetzen, wenn ein <code>keyPrefix</code> angegeben ist.</li>
<li>Verwendet <code>React.useMemo</code>, um die übersetzten Daten zu zwischenzuspeichern und unnötige Neurenderungen zu vermeiden.</li>
<li>Verwendet <code>ResponsiveContainer</code>, um das Diagramm responsiv zu machen.</li>
<li>Verwendet <code>BarChart</code>, <code>Bar</code>, <code>XAxis</code>, <code>YAxis</code>, <code>Tooltip</code> und <code>CartesianGrid</code> von <code>recharts</code>, um das Diagramm zu erstellen.</li>
<li>Passt das Aussehen des Diagramms an, einschliesslich Farben, Schriftgrößen und Tooltip-Inhalt.</li>
</ul>
<h3>Hooks</h3>
<h4><code>useTranslations</code></h4>
<p>Importiert aus <code>../hooks/useTranslations</code>.  Diese Hook ist verantwortlich für die Übersetzung von Texten. (Details zur Implementation sind nicht in der gegebenen Datei enthalten).</p>
<h3>Typen</h3>
<h4><code>TranslationKey</code></h4>
<p>Importiert aus <code>../translations</code>.  Ein Typ, der die gültigen Übersetzungsschlüssel repräsentiert. (Details zur Implementation sind nicht in der gegebenen Datei enthalten).</p>

            </div>
        </div>
        </div>
        <div id="file-components-ControlPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/ControlPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## ControlPanel

Eine React-Komponente, die eine Steuerungsoberfläche für die Interaktion mit einer Anwendung bereitstellt. Sie enthält Buttons für verschiedene Aktionen wie das Generieren einer Welt, das Hinzufügen von Inhalten, das Durchführen eines einzelnen Schritts, das Ausführen mehrerer Schritte und das Zurücksetzen des Zustands.

### Importe

*   `React` von `react`: Ermöglicht die Erstellung von React-Komponenten.
*   `useState` von `react`: Ein Hook zum Verwalten des lokalen Zustands der Komponente.
*   `Play`, `RotateCcw`, `FastForward`, `Globe`, `PlusSquare` von `./IconComponents`: React-Komponenten für Symbole.
*   `useTranslations` von `../hooks/useTranslations`: Ein Hook zur Übersetzung von Texten.

### Typen

#### `ControlPanelProps`

Die Props, die die `ControlPanel`-Komponente empfängt.

*   `onStep: () =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn die &quot;Step&quot;-Aktion ausgelöst wird. Nimmt keine Parameter an und gibt nichts zurück.
*   `onRunSteps: (steps: number) =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn die &quot;Run Steps&quot;-Aktion ausgelöst wird.  Nimmt die Anzahl der Schritte als `number`-Parameter an und gibt nichts zurück.
*   `onReset: () =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn die &quot;Reset&quot;-Aktion ausgelöst wird.  Nimmt keine Parameter an und gibt nichts zurück.
*   `onGenerateWorld: () =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn die &quot;Generate World&quot;-Aktion ausgelöst wird.  Nimmt keine Parameter an und gibt nichts zurück.
*   `onGenerateContent: () =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn die &quot;Generate Content&quot;-Aktion ausgelöst wird. Nimmt keine Parameter an und gibt nichts zurück.
*   `isGenerating: boolean` - Ein Flag, das angibt, ob ein Generierungsprozess läuft.
*   `isProcessing: boolean` - Ein Flag, das angibt, ob ein Verarbeitungsprozess läuft.

### Komponenten

#### `ControlPanel`

Eine funktionale React-Komponente, die ein Steuerungspanel rendert.

**Props:** Siehe `ControlPanelProps`.

**Zustand:**

*   `runSteps: number` - Der aktuelle Wert für die Anzahl der auszuführenden Schritte.  Initialisiert mit 10.

**Funktionen:**

*   `onGenerateWorld`: Ruft die `onGenerateWorld`-Callback-Funktion auf, um eine Welt zu generieren.
*   `onGenerateContent`: Ruft die `onGenerateContent`-Callback-Funktion auf, um Inhalte zu generieren.
*   `onStep`: Ruft die `onStep`-Callback-Funktion auf, um einen einzelnen Schritt auszuführen.
*   `onRunSteps`: Ruft die `onRunSteps`-Callback-Funktion auf, um eine bestimmte Anzahl von Schritten auszuführen.
*   `onReset`: Ruft die `onReset`-Callback-Funktion auf, um den Zustand zurückzusetzen.
*   `setRunSteps`: Aktualisiert den Wert des `runSteps` Zustands.

**Renderausgabe:**

Ein `div`-Element mit der Klasse &quot;flex items-center gap-2&quot;, das verschiedene Buttons und ein Eingabefeld enthält:

*   **Generate World Button:** Ein Button, der die `onGenerateWorld`-Funktion aufruft. Deaktiviert, wenn `isGenerating` oder `isProcessing` wahr ist. Zeigt ein animiertes Globe-Icon während der Generierung.  Der Text wird durch `t(&#39;controlPanel_generateWorld&#39;)` oder `generatingText` bestimmt.
*   **Add With AI Button:** Ein Button, der die `onGenerateContent`-Funktion aufruft. Deaktiviert, wenn `isGenerating` oder `isProcessing` wahr ist. Zeigt ein Plus-Icon. Der Text wird durch `t(&#39;controlPanel_addWithAI&#39;)` oder `generatingText` bestimmt.
*   **Step Button:** Ein Button, der die `onStep`-Funktion aufruft. Deaktiviert, wenn `isGenerating` oder `isProcessing` wahr ist. Zeigt ein Play-Icon.  Der Text wird durch `t(&#39;controlPanel_step&#39;)` bestimmt.
*   **Run Steps Input und Button:** Ein Eingabefeld für die Anzahl der auszuführenden Schritte und ein Button, der die `onRunSteps`-Funktion mit der eingegebenen Anzahl aufruft. Deaktiviert, wenn `isGenerating` oder `isProcessing` wahr ist. Zeigt ein FastForward-Icon.  Der Text wird durch `t(&#39;controlPanel_run&#39;)` bestimmt.
*   **Reset Button:** Ein Button, der die `onReset`-Funktion aufruft. Deaktiviert, wenn `isGenerating` oder `isProcessing` wahr ist. Zeigt ein RotateCcw-Icon. Der Text wird durch `t(&#39;controlPanel_reset&#39;)` bestimmt.

Die Komponente verwendet `useTranslations()` um lokalisierte Texte darzustellen.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-components-LogPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/LogPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## LogPanel

Eine React-Komponente zur Anzeige eines Event-Logs.

### Props

| Name | Typ | Beschreibung |
|---|---|---|
| `logs` | `TimedLogEntry[]` | Ein Array von Log-Einträgen, die angezeigt werden sollen. |

### Funktionale Beschreibung

Die `LogPanel`-Komponente rendert ein Panel, das Log-Einträge anzeigt. Sie verwendet `useTranslations` zur Internationalisierung.  Das Panel zeigt eine Überschrift mit einem Buch-Icon und eine Liste von Log-Einträgen, die umgekehrt chronologisch sortiert sind (neueste zuerst). Jeder Log-Eintrag wird mit Zeitstempel und übersetzter Nachricht angezeigt.

### Code-Beispiel

```tsx
import React from &#39;react&#39;;
import { BookText } from &#39;./IconComponents&#39;;
import { useTranslations } from &#39;../hooks/useTranslations&#39;;
import type { TimedLogEntry } from &#39;../types&#39;;
import { TranslationKey } from &#39;../translations&#39;;

interface LogPanelProps {
  logs: TimedLogEntry[];
}

export const LogPanel: React.FC&lt;LogPanelProps&gt; = ({ logs }) =&gt; {
  const t = useTranslations();
  return (
    &lt;div className=&quot;bg-slate-850 p-4 rounded-lg border border-slate-700&quot;&gt;
        &lt;h2 className=&quot;text-lg font-semibold text-slate-100 mb-3 flex items-center gap-2&quot;&gt;
            &lt;BookText className=&quot;w-5 h-5 text-emerald-400&quot;/&gt;
            {t(&#39;logPanel_eventLog&#39;)}
        &lt;/h2&gt;
        &lt;div className=&quot;h-96 bg-slate-900/50 p-2 rounded-md overflow-y-auto flex flex-col-reverse&quot;&gt;
            &lt;ul className=&quot;text-xs text-slate-400 font-mono space-y-1&quot;&gt;
                {logs.map((log, index) =&gt; {
                    const message = t(log.key as TranslationKey, log.params);
                    const time = new Date(log.timestamp).toLocaleTimeString();
                    return &lt;li key={index}&gt;{`[${time}] ${message}`}&lt;/li&gt;;
                })}
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
  );
};
</code></pre>
<h3>Abhängigkeiten</h3>
<ul>
<li><code>./IconComponents</code>: Enthält die <code>BookText</code> Komponente.</li>
<li><code>../hooks/useTranslations</code>: Ein Custom Hook zur Übersetzung von Texten.</li>
<li><code>../types</code>: Definiert den Typ <code>TimedLogEntry</code>.</li>
<li><code>../translations</code>: Enthält den Typ <code>TranslationKey</code>.</li>
</ul>
<h3>JSX-Struktur</h3>
<ul>
<li><code>div</code>:  Das Haupt-Div-Element umschließt das gesamte Panel.  Verwendet Tailwind CSS-Klassen für Styling (Hintergrund, Padding, abgerundete Ecken, Rahmen).<ul>
<li><code>h2</code>: Überschrift für das Log-Panel.  Verwendet Tailwind CSS-Klassen für Styling (Textgröße, Schriftstärke, Farbe, Abstand, Flexbox).<ul>
<li><code>BookText</code>:  Icon-Komponente.</li>
<li><code>{t(&#39;logPanel_eventLog&#39;)}</code>: Der übersetzte Titel des Log-Panels.</li>
</ul>
</li>
<li><code>div</code>: Enthält die Log-Einträge.  Verwendet Tailwind CSS-Klassen für Styling (Höhe, Hintergrund, Padding, abgerundete Ecken, Overflow).  <code>flex flex-col-reverse</code> sorgt für die umgekehrte Reihenfolge der Log-Einträge.<ul>
<li><code>ul</code>:  Die ungeordnete Liste, die die Log-Einträge enthält.  Verwendet Tailwind CSS-Klassen für Styling (Textgröße, Schriftfarbe, Schriftart, Abstand).<ul>
<li><code>li</code>:  Ein einzelner Log-Eintrag.  Der Text wird mit Zeitstempel und der übersetzten Log-Nachricht formatiert.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Typdefinitionen (Implizit genutzt)</h3>
<ul>
<li><code>TimedLogEntry</code>:  (Definiert in <code>../types</code>). Wahrscheinlich eine Schnittstelle mit den folgenden Properties:<ul>
<li><code>key</code>: <code>TranslationKey</code> (Schlüssel für die Übersetzung).</li>
<li><code>params</code>:  Parameter für die Übersetzung.</li>
<li><code>timestamp</code>:  Zeitstempel des Log-Eintrags (als Date-Objekt interpretierbar).</li>
</ul>
</li>
<li><code>TranslationKey</code>: (Definiert in <code>../translations</code>) Ein Typ, der die gültigen Übersetzungsschlüssel repräsentiert.</li>
</ul>
<pre><code>
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-components-WorldGraph-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/WorldGraph.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## WorldGraph

Eine React-Komponente, die eine interaktive Weltkarte darstellt und Agenten, Entitäten und Beziehungen visualisiert.

### Props

| Prop          | Typ                | Beschreibung                                                                                                                                 |
|---------------|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| `agents`      | `Agent[]`          | Ein Array von Agent-Objekten, die auf der Karte dargestellt werden sollen.                                                                |
| `entities`    | `Entity[]`         | Ein Array von Entity-Objekten, die auf der Karte dargestellt werden sollen.                                                               |
| `environment` | `EnvironmentState` | Ein Objekt, das Informationen über die Umgebung enthält, wie z.B. die Breite und Höhe der Welt.                                              |
| `cultures`    | `Culture[]`        | Ein Array von Culture-Objekten zur Darstellung von Kulturen auf der Weltkarte.                                                              |

### Funktionen

#### `getEntityIcon(entity: Entity)`

Gibt ein React-Icon-Komponente zurück, basierend auf dem Typ der Entität.

| Parameter | Typ      | Beschreibung                                   |
|-----------|----------|------------------------------------------------|
| `entity`  | `Entity` | Das Entity-Objekt, für das ein Icon abgerufen werden soll. |

Rückgabewert: Eine React-Icon-Komponente.

#### `getRoleIcon(role: string | null)`

Gibt ein React-Icon-Komponente zurück, basierend auf der Rolle eines Agenten.

| Parameter | Typ            | Beschreibung              |
|-----------|----------------|---------------------------|
| `role`    | `string \| null` | Die Rolle des Agenten.  |

Rückgabewert: Eine React-Icon-Komponente oder `null`.

### Typen

#### `WorldGraphProps`

Definiert die Props, die an die `WorldGraphComponent` übergeben werden.

```typescript
interface WorldGraphProps {
    agents: Agent[];
    entities: Entity[];
    environment: EnvironmentState;
    cultures: Culture[];
}
</code></pre>
<ul>
<li><code>agents</code>: <code>Agent[]</code> - Ein Array von Agent-Objekten.</li>
<li><code>entities</code>: <code>Entity[]</code> - Ein Array von Entity-Objekten.</li>
<li><code>environment</code>: <code>EnvironmentState</code> - Ein Objekt, das Informationen über die Umgebung enthält.</li>
<li><code>cultures</code>: <code>Culture[]</code> - Ein Array von Culture-Objekten.</li>
</ul>
<h3>Konstanten</h3>
<h4><code>cultureColors: { [key: string]: string }</code></h4>
<p>Ein Objekt, das Farben für verschiedene Kulturen definiert.</p>
<pre><code class="language-typescript">const cultureColors: { [key: string]: string } = {
    &#39;culture-utopian&#39;: &#39;#38bdf8&#39;, // sky-400
    &#39;culture-primitivist&#39;: &#39;#34d399&#39;, // emerald-400
};
</code></pre>
<h3>Komponenten</h3>
<h4><code>WorldGraphComponent</code></h4>
<p>Die Hauptkomponente, die die Weltkarte rendert. Siehe <code>WorldGraphProps</code> für die Props.</p>
<h4><code>React.memo(WorldGraphComponent)</code></h4>
<p>Verhindert unnötiges erneutes Rendern der Komponente.</p>

            </div>
        </div>
        </div>
        <div id="file-components-CreateObjectPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/CreateObjectPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### `CreateObjectPanel.tsx`

Diese Datei definiert die `CreateObjectPanel`-Komponente, die ein Formular zur Erstellung von Agenten, Entitäten und Aktionen bereitstellt. Sie verwendet verschiedene Hooks, Konstanten und Komponenten zur Dateneingabe und -verwaltung.

#### Imports

*   `React`, `useState`: React-Bibliothek und Hook für das Management des Komponentenstatus.
*   `PlusCircle`, `Dna`, `Award`, `Smile`, `Zap`, `Sparkles`:  Icon-Komponenten, wahrscheinlich aus einer lokalen Icon-Bibliothek.
*   `useTranslations`: Ein benutzerdefinierter Hook zur Übersetzung von Texten.
*   `GENOME_OPTIONS`, `ROLES`, `PERSONALITY_TRAITS`, `SKILL_TYPES`: Konstanten aus der Datei `../constants`, die Optionen für Genom, Rollen, Persönlichkeitsmerkmale und Skill-Typen definieren.
*   `Personality`, `ActionEffect`, `Skills`: Typ-Definitionen aus der Datei `../types`, die die Struktur für Persönlichkeitsmerkmale, Aktionseffekte und Fähigkeiten definieren.

#### Typ-Definitionen

##### `CreateObjectPanelProps`

```typescript
interface CreateObjectPanelProps {
    onCreate: (type: &#39;agent&#39; | &#39;entity&#39; | &#39;action&#39;, data: any) =&gt; void;
}
</code></pre>
<ul>
<li><code>onCreate</code>: Eine Callback-Funktion, die aufgerufen wird, wenn ein neues Objekt erstellt werden soll.<ul>
<li>Parameter:<ul>
<li><code>type</code>: Ein String, der den Typ des zu erstellenden Objekts angibt. Mögliche Werte: &#39;agent&#39;, &#39;entity&#39;, &#39;action&#39;.</li>
<li><code>data</code>:  Ein Objekt, das die Daten für das zu erstellende Objekt enthält. Das Format hängt vom Typ ab.</li>
</ul>
</li>
<li>Rückgabewert:  <code>void</code>.</li>
</ul>
</li>
</ul>
<h5><code>Personality</code></h5>
<pre><code class="language-typescript">type Personality = {
    openness: number;
    conscientiousness: number;
    extraversion: number;
    agreeableness: number;
    neuroticism: number;
}
</code></pre>
<ul>
<li>Beschreibt die Persönlichkeitsmerkmale eines Agenten. Alle Werte sind Zahlen zwischen 0 und 1.<ul>
<li><code>openness</code>: Offenheit für Erfahrungen.</li>
<li><code>conscientiousness</code>: Gewissenhaftigkeit.</li>
<li><code>extraversion</code>: Extraversion.</li>
<li><code>agreeableness</code>: Verträglichkeit.</li>
<li><code>neuroticism</code>: Neurotizismus.</li>
</ul>
</li>
</ul>
<h5><code>ActionEffect</code></h5>
<pre><code class="language-typescript">type ActionEffect = {
    costs?: {[key: string]: number};
    statChanges?: {
        health?: number;
        hunger?: number;
        thirst?: number;
        fatigue?: number;
        stress?: number;
        currency?: number;
    };
    skillGain?: {
        skill: keyof Skills;
        amount: number;
    };
}
</code></pre>
<ul>
<li>Definiert die Effekte einer Aktion.<ul>
<li><code>costs?</code>:  Ein optionales Objekt, das die Kosten der Aktion beschreibt. Die Keys sind Strings (z.B. Ressourcen-Namen) und die Values sind Zahlen.</li>
<li><code>statChanges?</code>: Ein optionales Objekt, das Änderungen an den Werten (Stats) des Agenten beschreibt.<ul>
<li><code>health?</code>: Gesundheitsänderung.</li>
<li><code>hunger?</code>: Hungeränderung.</li>
<li><code>thirst?</code>: Durständerung.</li>
<li><code>fatigue?</code>: Ermüdungsänderung.</li>
<li><code>stress?</code>: Stressänderung.</li>
<li><code>currency?</code>: Währungsänderung.</li>
</ul>
</li>
<li><code>skillGain?</code>: Ein optionales Objekt, das den Erwerb von Fähigkeiten beschreibt.<ul>
<li><code>skill</code>:  Der Name der Fähigkeit, die erworben werden soll, aus dem Typ <code>Skills</code>.</li>
<li><code>amount</code>: Die Menge der Fähigkeit, die erworben wird.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5><code>Skills</code> (vermutlich definiert in <code>../types.ts</code>)</h5>
<ul>
<li>Ein Typ, der die verfügbaren Fähigkeiten definiert. Der genaue Typ und die Eigenschaften werden hier nicht explizit definiert, sondern implizit durch die Verwendung von <code>keyof Skills</code>.</li>
</ul>
<h4>Konstanten</h4>
<h5><code>randomData</code></h5>
<pre><code class="language-typescript">const randomData = {
    firstNames: [&#39;Elara&#39;, &#39;Rhys&#39;, &#39;Silvana&#39;, &#39;Orion&#39;, &#39;Nadia&#39;, &#39;Marius&#39;, &#39;Lyra&#39;, &#39;Kai&#39;, &#39;Jasmine&#39;, &#39;Isaac&#39;, &#39;Helena&#39;, &#39;Gareth&#39;, &#39;Fiona&#39;, &#39;Elias&#39;, &#39;Dahlia&#39;, &#39;Caspian&#39;, &#39;Bram&#39;, &#39;Anya&#39;, &#39;Ralf&#39;, &#39;Garrus&#39;, &#39;Bob&#39;, &#39;Alice&#39;, &#39;Xavier&#39;, &#39;Willow&#39;, &#39;Vera&#39;, &#39;Ulysses&#39;, &#39;Thalia&#39;, &#39;Silas&#39;, &#39;Rhiannon&#39;, &#39;Quentin&#39;, &#39;Phoebe&#39;],
    lastNames: [&#39;Meadowbrook&#39;, &#39;Stonehand&#39;, &#39;Riverwind&#39;, &#39;Blackwood&#39;, &#39;Ironhide&#39;, &#39;Swiftfoot&#39;, &#39;Sunstrider&#39;, &#39;Shadowend&#39;],
    descriptors: [&#39;A curious&#39;, &#39;A pragmatic&#39;, &#39;A cheerful&#39;, &#39;A cynical&#39;, &#39;An optimistic&#39;, &#39;A cautious&#39;, &#39;A brave&#39;, &#39;A timid&#39;],
    agentRoles: [&#39;explorer&#39;, &#39;artisan&#39;, &#39;scholar&#39;, &#39;hermit&#39;, &#39;warrior&#39;, &#39;trader&#39;, &#39;healer&#39;],
    hobbies: [&#39;who loves to talk about the weather&#39;, &#39;who complains about small things&#39;, &#39;who is optimistic about the future&#39;, &#39;who is wary of strangers&#39;, &#39;who secretly writes poetry&#39;, &#39;who collects rare stones&#39;],
    beliefKeys: [&#39;progress_good&#39;, &#39;nature_good&#39;, &#39;wealth_is_power&#39;, &#39;community_first&#39;, &#39;tradition_important&#39;, &#39;knowledge_is_sacred&#39;]
};
</code></pre>
<ul>
<li>Enthält Arrays von Daten, die zur Generierung zufälliger Namen, Beschreibungen und Glaubenssätze verwendet werden.<ul>
<li><code>firstNames</code>: Array von Vornamen.</li>
<li><code>lastNames</code>: Array von Nachnamen.</li>
<li><code>descriptors</code>: Array von beschreibenden Adjektiven.</li>
<li><code>agentRoles</code>: Array von Rollen für Agenten.</li>
<li><code>hobbies</code>: Array von Hobbys.</li>
<li><code>beliefKeys</code>: Array von Schlüsselwörtern für Glaubenssätze.</li>
</ul>
</li>
</ul>
<h4>Funktionen</h4>
<h5><code>getRandomItem</code></h5>
<pre><code class="language-typescript">const getRandomItem = (arr: string[]) =&gt; arr[Math.floor(Math.random() * arr.length)];
</code></pre>
<ul>
<li>Wählt zufällig ein Element aus einem String-Array aus.<ul>
<li>Parameter:<ul>
<li><code>arr</code>: Ein Array von Strings.</li>
</ul>
</li>
<li>Rückgabewert: Ein String.</li>
</ul>
</li>
</ul>
<h5><code>handleGenerateName</code></h5>
<pre><code class="language-typescript">const handleGenerateName = () =&gt; {
    const randomName = `${getRandomItem(randomData.firstNames)} ${getRandomItem(randomData.lastNames)}`;
    setName(randomName);
};
</code></pre>
<ul>
<li>Generiert einen zufälligen Namen für einen Agenten.</li>
<li>Verwendet <code>getRandomItem</code> um Vor- und Nachnamen aus <code>randomData</code> auszuwählen und setzt den state <code>name</code>.</li>
</ul>
<h5><code>handleGenerateDescription</code></h5>
<pre><code class="language-typescript">const handleGenerateDescription = () =&gt; {
    const randomDesc = `${getRandomItem(randomData.descriptors)} ${getRandomItem(randomData.agentRoles)} ${getRandomItem(randomData.hobbies)}.`;
    setDescription(randomDesc);
};
</code></pre>
<ul>
<li>Generiert eine zufällige Beschreibung für einen Agenten.</li>
<li>Verwendet <code>getRandomItem</code> um Deskriptoren, Rollen und Hobbys aus <code>randomData</code> auszuwählen und setzt den state <code>description</code>.</li>
</ul>
<h5><code>handleGenerateBeliefs</code></h5>
<pre><code class="language-typescript">const handleGenerateBeliefs = () =&gt; {
    const numBeliefs = Math.floor(Math.random() * 3) + 2; // 2 to 4 beliefs
    const shuffledKeys = [...randomData.beliefKeys].sort(() =&gt; 0.5 - Math.random());
    const selectedKeys = shuffledKeys.slice(0, numBeliefs);
    const newBeliefs = selectedKeys.reduce((acc, key) =&gt; {
        acc[key] = parseFloat(Math.random().toFixed(2));
        return acc;
    }, {} as {[key: string]: number});
    setBeliefs(JSON.stringify(newBeliefs, null, 2));
};
</code></pre>
<ul>
<li>Generiert zufällige Glaubenssätze für einen Agenten.</li>
<li>Wählt zufällig 2 bis 4 Glaubensschlüssel aus <code>randomData.beliefKeys</code> aus, generiert zufällige Float-Werte (zwischen 0 und 1) für jeden Glauben und setzt den <code>beliefs</code> state.</li>
</ul>
<h5><code>handleGenerateGenes</code></h5>
<pre><code class="language-typescript">const handleGenerateGenes = () =&gt; {
    const shuffled = [...GENOME_OPTIONS].sort(() =&gt; 0.5 - Math.random());
    const selectedCount = Math.floor(Math.random() * 3) + 1; // 1 to 3 genes
    const selected = shuffled.slice(0, selectedCount);
    setGenome(selected.join(&#39;, &#39;));
};
</code></pre>
<ul>
<li>Generiert zufällige Gene für einen Agenten.</li>
<li>Wählt zufällig 1 bis 3 Gene aus <code>GENOME_OPTIONS</code> aus und setzt den <code>genome</code> state.</li>
</ul>
<h5><code>handleRandomizePersonality</code></h5>
<pre><code class="language-typescript">const handleRandomizePersonality = () =&gt; {
    setPersonality({
        openness: Math.random(),
        conscientiousness: Math.random(),
        extraversion: Math.random(),
        agreeableness: Math.random(),
        neuroticism: Math.random(),
    });
};
</code></pre>
<ul>
<li>Setzt die Persönlichkeitsmerkmale eines Agenten auf zufällige Werte zwischen 0 und 1.</li>
<li>Verwendet <code>Math.random()</code> um zufällige Werte für jedes Persönlichkeitsmerkmal zu generieren und aktualisiert den <code>personality</code> state.</li>
</ul>
<h5><code>handlePersonalityChange</code></h5>
<pre><code class="language-typescript">const handlePersonalityChange = (trait: keyof Personality, value: string) =&gt; {
    const numValue = parseFloat(value);
    if (!isNaN(numValue) &amp;&amp; numValue &gt;= 0 &amp;&amp; numValue &lt;= 1) {
        setPersonality(prev =&gt; ({ ...prev, [trait]: numValue }));
    }
};
</code></pre>
<ul>
<li>Aktualisiert ein spezifisches Persönlichkeitsmerkmal.<ul>
<li>Parameter:<ul>
<li><code>trait</code>: Der Name des Persönlichkeitsmerkmals, das geändert werden soll (z.B. &#39;openness&#39;).</li>
<li><code>value</code>: Der neue Wert des Persönlichkeitsmerkmals als String.</li>
</ul>
</li>
</ul>
</li>
<li>Konvertiert den String-Wert in eine Zahl und setzt das entsprechende Merkmal im <code>personality</code> state, wenn der Wert eine gültige Zahl zwischen 0 und 1 ist.</li>
</ul>
<h5><code>handleStatChange</code></h5>
<pre><code class="language-typescript">const handleStatChange = (stat: keyof typeof statChanges, value: string) =&gt; {
    setStatChanges(prev =&gt; ({...prev, [stat]: value}));
};
</code></pre>
<ul>
<li>Aktualisiert einen spezifischen Wert der <code>statChanges</code>.<ul>
<li>Parameter:<ul>
<li><code>stat</code>: Der Name des zu ändernden Stats.</li>
<li><code>value</code>: Der neue Wert des Stats als String.</li>
</ul>
</li>
</ul>
</li>
<li>Aktualisiert den <code>statChanges</code> state.</li>
</ul>
<h5><code>resetForm</code></h5>
<pre><code class="language-typescript">const resetForm = () =&gt; {
    setName(&#39;&#39;);
    setDescription(&#39;&#39;);
    setBeliefs(&#39;&#39;);
    setBeliefKey(&#39;&#39;);
    setGenome(&#39;&#39;);
    setRole(ROLES[0]);
    setCostsStr(&#39;&#39;);
    setStatChanges({ health: &#39;&#39;, hunger: &#39;&#39;, thirst: &#39;&#39;, fatigue: &#39;&#39;, stress: &#39;&#39;, currency: &#39;&#39; });
    setSkillGain({ skill: SKILL_TYPES[0], amount: &#39;&#39; });
};
</code></pre>
<ul>
<li>Setzt alle Formularfelder auf ihre Standardwerte zurück.</li>
<li>Setzt die relevanten States auf leere Strings oder die Standardwerte aus den Konstanten.</li>
</ul>
<h5><code>handleSubmit</code></h5>
<pre><code class="language-typescript">const handleSubmit = (e: React.FormEvent) =&gt; {
    e.preventDefault();
    let data: any = { name, description };
    if (type === &#39;agent&#39;) {
        try {
            data.beliefs = beliefs ? JSON.parse(beliefs) : {};
        } catch {
            alert(t(&#39;create_invalidJson&#39;));
            return;
        }
        data.genome = genome.split(&#39;,&#39;).map(g =&gt; g.trim()).filter(Boolean);
        data.role = role;
        data.personality = personality;
    }
    if (type === &#39;action&#39;) {
        data.beliefKey = beliefKey;
        
        const actionEffects: ActionEffect = {};
        if(costsStr) {
            try {
                actionEffects.costs = JSON.parse(costsStr);
            } catch {
                alert(&#39;Invalid JSON for Costs.&#39;);
                return;
            }
        }
        
        const parsedStatChanges: ActionEffect[&#39;statChanges&#39;] = {};
        let hasStatChanges = false;
        for (const [key, value] of Object.entries(statChanges)) {
            if(value.trim() !== &#39;&#39;) {
                const numVal = parseFloat(value);
                if(!isNaN(numVal)) {
                    parsedStatChanges[key as keyof typeof parsedStatChanges] = numVal;
                    hasStatChanges = true;
                }
            }
        }
        if(hasStatChanges) actionEffects.statChanges = parsedStatChanges;

        const skillGainAmount = parseFloat(skillGain.amount);
        if(!isNaN(skillGainAmount) &amp;&amp; skillGainAmount &gt; 0) {
            actionEffects.skillGain = {
                skill: skillGain.skill as keyof Skills,
                amount: skillGainAmount
            };
        }

        if (Object.keys(actionEffects).length &gt; 0) {
            data.effects = actionEffects;
        }
    }
    onCreate(type, data);
    resetForm();
};
</code></pre>
<ul>
<li>Behandelt das Absenden des Formulars.<ul>
<li>Parameter:<ul>
<li><code>e</code>: Das React FormEvent-Objekt.</li>
</ul>
</li>
</ul>
</li>
<li>Verhindert das Standard-Formular-Absende-Verhalten.</li>
<li>Erstellt ein <code>data</code>-Objekt, das die Formulardaten enthält.</li>
<li>Basierend auf dem <code>type</code> (agent, entity, action), werden die entsprechenden Daten aus den States extrahiert und dem <code>data</code>-Objekt hinzugefügt.<ul>
<li>Für Agenten:<ul>
<li>Versucht, die <code>beliefs</code> als JSON zu parsen.</li>
<li>Splittet das <code>genome</code> in ein Array von Genen.</li>
<li>Fügt die <code>role</code> und <code>personality</code> hinzu.</li>
</ul>
</li>
<li>Für Aktionen:<ul>
<li>Fügt die <code>beliefKey</code> hinzu.</li>
<li>Parst die <code>costsStr</code> als JSON in das <code>actionEffects.costs</code>-Objekt.</li>
<li>Parst die <code>statChanges</code> in das <code>actionEffects.statChanges</code>-Objekt.</li>
<li>Fügt das <code>skillGain</code> zum <code>actionEffects</code> Objekt hinzu, wenn die Menge gültig ist.</li>
<li>Fügt die <code>actionEffects</code> zum <code>data.effects</code>-Objekt hinzu.</li>
</ul>
</li>
</ul>
</li>
<li>Ruft die <code>onCreate</code>-Callback-Funktion mit dem <code>type</code> und den gesammelten <code>data</code> auf.</li>
<li>Ruft <code>resetForm()</code> auf, um das Formular zurückzusetzen.</li>
</ul>
<h4>Komponente <code>CreateObjectPanel</code></h4>
<pre><code class="language-typescript">export const CreateObjectPanel: React.FC&lt;CreateObjectPanelProps&gt; = ({ onCreate }) =&gt; {
    // ... state hooks and functions ...
    return (
        // ... JSX ...
    );
};
</code></pre>
<ul>
<li>Eine React-Komponente, die ein Formular zur Erstellung von Objekten (Agenten, Entitäten, Aktionen) rendert.</li>
<li>Props:<ul>
<li><code>onCreate</code>: (wie in <code>CreateObjectPanelProps</code> definiert) - Eine Funktion, die aufgerufen wird, wenn das Formular abgesendet wird.</li>
</ul>
</li>
<li>Verwendet mehrere <code>useState</code>-Hooks, um den Formularstatus zu verwalten (Typ, Name, Beschreibung, Glaubenssätze, Genom, Rolle, Persönlichkeit, Kosten, Stat-Änderungen, Skill-Gewinn).</li>
<li>Enthält Buttons zur Generierung zufälliger Daten für Name, Beschreibung, Glaubenssätze, Gene und Persönlichkeit.</li>
<li>Enthält Eingabefelder für die Dateneingabe, einschließlich Textfeldern, Textareas, Select-Elementen und Input-Feldern für Zahlen.</li>
<li>Verwendet bedingtes Rendering, um Formularfelder basierend auf dem ausgewählten Objekttyp (Agent, Entität, Aktion) anzuzeigen.</li>
<li>Verwendet den <code>useTranslations</code> Hook, um die UI zu lokalisieren.</li>
<li>Ruft die <code>handleSubmit</code>-Funktion auf, wenn das Formular abgesendet wird.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-IconComponents-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/IconComponents.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## Komponenten

Diese Datei enthält eine Reihe von React-SVG-Komponenten. Jede Komponente rendert ein SVG-Icon. Alle Komponenten akzeptieren die SVG-Standard-Props.

### BrainCircuit

```typescript
export const BrainCircuit: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon, das eine Gehirnschaltung darstellt.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>:  Standard-SVG-Attribute, wie <code>width</code>, <code>height</code>, <code>fill</code>, <code>stroke</code>, <code>strokeWidth</code>, <code>strokeLinecap</code>, <code>strokeLinejoin</code>, etc.  Wird von React für SVG-Elemente bereitgestellt.</li>
</ul>
</li>
</ul>
<h3>Cpu</h3>
<pre><code class="language-typescript">export const Cpu: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon, das eine CPU darstellt.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Zap</h3>
<pre><code class="language-typescript">export const Zap: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Blitz-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Microscope</h3>
<pre><code class="language-typescript">export const Microscope: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Mikroskop-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Boxes</h3>
<pre><code class="language-typescript">export const Boxes: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon, das Boxen / Kisten darstellt.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Code</h3>
<pre><code class="language-typescript">export const Code: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon, das Code darstellt (zwei Klammern).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Play</h3>
<pre><code class="language-typescript">export const Play: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Play-Icon (Dreieck).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>RotateCcw</h3>
<pre><code class="language-typescript">export const RotateCcw: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon, das eine Drehung gegen den Uhrzeigersinn darstellt.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>FastForward</h3>
<pre><code class="language-typescript">export const FastForward: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Fast-Forward-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>MessageSquare</h3>
<pre><code class="language-typescript">export const MessageSquare: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Nachrichten-Icon (Quadrat mit abgerundeter Ecke und Sprechblasen-Pfeil).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Sparkles</h3>
<pre><code class="language-typescript">export const Sparkles: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Sparkles-Icon (Sternchen).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Send</h3>
<pre><code class="language-typescript">export const Send: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Senden-Icon (Pfeil).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Share2</h3>
<pre><code class="language-typescript">export const Share2: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Teilen-Icon (Kreise und Linien).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>BookText</h3>
<pre><code class="language-typescript">export const BookText: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon, das ein Buch mit Text darstellt.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>PlusCircle</h3>
<pre><code class="language-typescript">export const PlusCircle: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Plus-in-Kreis-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Trash2</h3>
<pre><code class="language-typescript">export const Trash2: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Mülleimer-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Download</h3>
<pre><code class="language-typescript">export const Download: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Download-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Upload</h3>
<pre><code class="language-typescript">export const Upload: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Upload-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Shield</h3>
<pre><code class="language-typescript">export const Shield: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Schild-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Settings</h3>
<pre><code class="language-typescript">export const Settings: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Zahnrad-Icon (Einstellungen).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>X</h3>
<pre><code class="language-typescript">export const X: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein X-Icon (Schließen).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Globe</h3>
<pre><code class="language-typescript">export const Globe: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Globus-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Users</h3>
<pre><code class="language-typescript">export const Users: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon, das Nutzer darstellt.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>PlusSquare</h3>
<pre><code class="language-typescript">export const PlusSquare: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Plus-in-Quadrat-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Apple</h3>
<pre><code class="language-typescript">export const Apple: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Apple-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Droplet</h3>
<pre><code class="language-typescript">export const Droplet: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Tropfen-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Log</h3>
<pre><code class="language-typescript">export const Log: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Log-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Hammer</h3>
<pre><code class="language-typescript">export const Hammer: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Hammer-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Home</h3>
<pre><code class="language-typescript">export const Home: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Home-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Vote</h3>
<pre><code class="language-typescript">export const Vote: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Vote-Icon (Pfeil nach oben).</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>PanelLeft</h3>
<pre><code class="language-typescript">export const PanelLeft: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Panel-Left-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>PanelRight</h3>
<pre><code class="language-typescript">export const PanelRight: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Panel-Right-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Map</h3>
<pre><code class="language-typescript">export const Map: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Map-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>CircleDollarSign</h3>
<pre><code class="language-typescript">export const CircleDollarSign: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Kreis mit Dollarzeichen-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Briefcase</h3>
<pre><code class="language-typescript">export const Briefcase: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Briefcase-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>HeartPulse</h3>
<pre><code class="language-typescript">export const HeartPulse: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Herzschlag-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Skull</h3>
<pre><code class="language-typescript">export const Skull: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Totenkopf-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>MapPin</h3>
<pre><code class="language-typescript">export const MapPin: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Map-Pin-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Dna</h3>
<pre><code class="language-typescript">export const Dna: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Dna-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>User</h3>
<pre><code class="language-typescript">export const User: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein User-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Heart</h3>
<pre><code class="language-typescript">export const Heart: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Herz-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Award</h3>
<pre><code class="language-typescript">export const Award: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Award-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Church</h3>
<pre><code class="language-typescript">export const Church: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Church-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>PersonStanding</h3>
<pre><code class="language-typescript">export const PersonStanding: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Icon einer stehenden Person.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Baby</h3>
<pre><code class="language-typescript">export const Baby: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Baby-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>CookingPot</h3>
<pre><code class="language-typescript">export const CookingPot: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein CookingPot-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>GlassWater</h3>
<pre><code class="language-typescript">export const GlassWater: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein GlassWater-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Bed</h3>
<pre><code class="language-typescript">export const Bed: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Bed-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>BookOpenCheck</h3>
<pre><code class="language-typescript">export const BookOpenCheck: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Buch mit Check-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Gavel</h3>
<pre><code class="language-typescript">export const Gavel: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Gavel-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>ClipboardList</h3>
<pre><code class="language-typescript">export const ClipboardList: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Clipboard mit Liste-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>TrendingUp</h3>
<pre><code class="language-typescript">export const TrendingUp: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Trending Up-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>ShieldAlert</h3>
<pre><code class="language-typescript">export const ShieldAlert: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Shield Alert-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Smile</h3>
<pre><code class="language-typescript">export const Smile: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Smile-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Activity</h3>
<pre><code class="language-typescript">export const Activity: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Activity-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>FlaskConical</h3>
<pre><code class="language-typescript">export const FlaskConical: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Flask Conical-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>BarChart2</h3>
<pre><code class="language-typescript">export const BarChart2: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein BarChart-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>History</h3>
<pre><code class="language-typescript">export const History: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein History-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Notebook</h3>
<pre><code class="language-typescript">export const Notebook: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Notebook-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Factory</h3>
<pre><code class="language-typescript">export const Factory: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Factory-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Mountain</h3>
<pre><code class="language-typescript">export const Mountain: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Mountain-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Waves</h3>
<pre><code class="language-typescript">export const Waves: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Waves-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>
<h3>Palmtree</h3>
<pre><code class="language-typescript">export const Palmtree: React.FC&lt;React.SVGProps&lt;SVGSVGElement&gt;&gt; = (props) =&gt; ( ... )
</code></pre>
<ul>
<li><strong>Zweck:</strong> Rendert ein Palmtree-Icon.</li>
<li><strong>Props:</strong><ul>
<li><code>React.SVGProps&lt;SVGSVGElement&gt;</code>: Standard-SVG-Attribute.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-components-ExporterPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/ExporterPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## ExporterPanel

Eine React-Komponente zur Verwaltung und zum Export von Anwendungsdaten.

### Props

*   **`onExport`**: `(type: &#39;environment&#39; | &#39;agents&#39; | &#39;entities&#39; | &#39;all&#39;) =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn eine Export-Aktion ausgelöst wird. Nimmt einen Typ-String als Argument, der angibt, welche Daten exportiert werden sollen. Mögliche Werte sind:
    *   `&#39;environment&#39;`: Exportiert die Umgebungskonfiguration.
    *   `&#39;agents&#39;`: Exportiert Agenten-Daten.
    *   `&#39;entities&#39;`: Exportiert Entitäten-Daten.
    *   `&#39;all&#39;`: Exportiert alle verfügbaren Daten.
*   **`onLoad`**: `() =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, wenn die Lade-Aktion ausgelöst wird.
*   **`onExportConversations`**: `() =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, um Konversationen zu exportieren.
*   **`onExportStatistics`**: `() =&gt; void` - Eine Callback-Funktion, die aufgerufen wird, um Statistiken zu exportieren.

### Funktionen

*   **`ExporterPanel`**: `React.FC&lt;ExporterPanelProps&gt;` - Die Hauptkomponente, die das Export-Panel rendert.
    *   Verwendet das `useTranslations`-Hook, um lokalisierte Texte abzurufen.
    *   Enthält verschiedene Buttons, die Aktionen für das Exportieren und Laden von Daten auslösen.
    *   Nutzt die über Props übergebenen Callback-Funktionen (`onExport`, `onLoad`, `onExportConversations`, `onExportStatistics`) um die entsprechenden Aktionen auszuführen.
    *   Verwendet Tailwind-CSS-Klassen für das Styling.
    *   Enthält ein `&lt;details&gt;`-Element für erweiterte Export-Optionen.

### Importe

*   `React` aus &#39;react&#39;
*   `Download`, `Upload`, `History`, `BarChart2` aus `./IconComponents` - Komponenten für Icons.
*   `useTranslations` aus `../hooks/useTranslations` - Ein Hook zur Übersetzung von Texten.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-components-AdminPanel-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/AdminPanel.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## AdminPanel Komponente

Die `AdminPanel` Komponente ist ein React-Komponente, die eine Admin-Oberfläche für das Spiel bereitstellt. Sie ermöglicht es, verschiedene Aspekte des Spielzustands zu manipulieren, wie z.B. Umweltvariablen, Agenten-Eigenschaften, Gesetze und Technologien.

### Props

*   `environment: EnvironmentState`
    *   Repräsentiert den aktuellen Zustand der Spielumgebung.
*   `actions: Action[]`
    *   Ein Array von Aktionen, die im Spiel verfügbar sind.
*   `agents: Agent[]`
    *   Ein Array von Agenten im Spiel.
*   `government: any`
    *   Vereinfachtes Objekt, das Informationen über die Regierung enthält, einschließlich des Anführers und der Gesetze.
*   `cultures: Culture[]`
    *   Ein Array von Kulturen im Spiel.
*   `techTree: Technology[]`
    *   Ein Array von Technologien im Spiel.
*   `onUpdateEnvironment: (newEnvironment: EnvironmentState) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um die Spielumgebung zu aktualisieren.
        *   `newEnvironment: EnvironmentState`: Der neue Zustand der Spielumgebung.
*   `onCreateAction: (data: { name: string; description: string; beliefKey?: string }) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um eine neue Aktion zu erstellen.
        *   `data: { name: string; description: string; beliefKey?: string }`: Ein Objekt mit den Details der neuen Aktion.
            *   `name: string`: Der Name der Aktion.
            *   `description: string`: Die Beschreibung der Aktion.
            *   `beliefKey?: string`: Ein optionaler Schlüssel für den Glauben.
*   `onDeleteAction: (name: string) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um eine Aktion zu löschen.
        *   `name: string`: Der Name der zu löschenden Aktion.
*   `onSetAgentHealth: (agentId: string, health: number) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um die Gesundheit eines Agenten zu setzen.
        *   `agentId: string`: Die ID des Agenten.
        *   `health: number`: Die neue Gesundheit des Agenten.
*   `onSetAgentCurrency: (agentId: string, currency: number) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um die Währung eines Agenten zu setzen.
        *   `agentId: string`: Die ID des Agenten.
        *   `currency: number`: Die neue Währung des Agenten.
*   `onInflictSickness: (agentId: string, sickness: string | null) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um einem Agenten eine Krankheit zuzufügen.
        *   `agentId: string`: Die ID des Agenten.
        *   `sickness: string | null`: Der Name der Krankheit oder `null`, um die Krankheit zu entfernen.
*   `onResurrectAgent: (agentId: string) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um einen Agenten wiederzubeleben.
        *   `agentId: string`: Die ID des Agenten.
*   `onSetAgentPosition: (agentId: string, x: number, y: number) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um die Position eines Agenten zu setzen.
        *   `agentId: string`: Die ID des Agenten.
        *   `x: number`: Die x-Koordinate.
        *   `y: number`: Die y-Koordinate.
*   `onImprisonAgent: (agentId: string, duration: number) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um einen Agenten einzusperren.
        *   `agentId: string`: Die ID des Agenten.
        *   `duration: number`: Die Dauer der Haft in Runden.
*   `onEnactLaw: (law: Law) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um ein Gesetz zu erlassen.
        *   `law: Law`: Das Gesetz, das erlassen werden soll.
*   `onRepealLaw: (lawId: string) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um ein Gesetz aufzuheben.
        *   `lawId: string`: Die ID des aufzuhebenden Gesetzes.
*   `onStartElection: () =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um eine Wahl zu starten.
*   `onSetLeader: (agentId: string) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um einen Anführer zu setzen.
        *   `agentId: string`: Die ID des Agenten, der zum Anführer ernannt werden soll.
*   `onUnlockTech: (cultureId: string, techId: string) =&gt; void`
    *   Callback-Funktion, die aufgerufen wird, um eine Technologie für eine Kultur freizuschalten.
        *   `cultureId: string`: Die ID der Kultur.
        *   `techId: string`: Die ID der Technologie.

### State

*   `envState: EnvironmentState`: Der lokale Zustand der Spielumgebung.
*   `agentHealthInputs: { [key: string]: string }`: Ein Objekt, das die Eingabewerte für die Gesundheit der Agenten speichert. Der Schlüssel ist die Agenten-ID und der Wert ist die eingegebene Gesundheit als Zeichenkette.
*   `agentCurrencyInputs: { [key: string]: string }`: Ein Objekt, das die Eingabewerte für die Währung der Agenten speichert. Der Schlüssel ist die Agenten-ID und der Wert ist die eingegebene Währung als Zeichenkette.
*   `agentSicknessInputs: { [key: string]: string }`: Ein Objekt, das die Eingabewerte für die Krankheit der Agenten speichert. Der Schlüssel ist die Agenten-ID und der Wert ist die eingegebene Krankheit als Zeichenkette.
*   `agentPositionInputs: { [key: string]: { x: string, y: string } }`: Ein Objekt, das die Eingabewerte für die Position der Agenten speichert. Der Schlüssel ist die Agenten-ID und der Wert ist ein Objekt mit den x- und y-Koordinaten als Zeichenketten.
*   `agentImprisonInputs: { [key: string]: string }`: Ein Objekt, das die Eingabewerte für die Haftdauer der Agenten speichert. Der Schlüssel ist die Agenten-ID und der Wert ist die eingegebene Haftdauer als Zeichenkette.
*   `selectedLeaderId: string`: Die ID des aktuell ausgewählten Anführers.
*   `newLawName: string`: Der Name des neuen Gesetzes, das erstellt wird.
*   `newLawAction: string`: Die Aktion des neuen Gesetzes, das erstellt wird.
*   `newLawFine: string`: Die Geldstrafe des neuen Gesetzes, das erstellt wird.

### Funktionen

*   `handleHealthInputChange(agentId: string, value: string): void`
    *   Aktualisiert den Zustand `agentHealthInputs` basierend auf der Benutzereingabe für die Gesundheit eines Agenten.
        *   `agentId: string`: Die ID des Agenten.
        *   `value: string`: Der neue Wert für die Gesundheit.
*   `handleSicknessInputChange(agentId: string, value: string): void`
    *   Aktualisiert den Zustand `agentSicknessInputs` basierend auf der Benutzereingabe für die Krankheit eines Agenten.
        *   `agentId: string`: Die ID des Agenten.
        *   `value: string`: Der neue Wert für die Krankheit.
*   `handleCurrencyInputChange(agentId: string, value: string): void`
    *   Aktualisiert den Zustand `agentCurrencyInputs` basierend auf der Benutzereingabe für die Währung eines Agenten.
        *   `agentId: string`: Die ID des Agenten.
        *   `value: string`: Der neue Wert für die Währung.
*   `handlePositionInputChange(agentId: string, axis: &#39;x&#39; | &#39;y&#39;, value: string): void`
    *   Aktualisiert den Zustand `agentPositionInputs` basierend auf der Benutzereingabe für die Position eines Agenten.
        *   `agentId: string`: Die ID des Agenten.
        *   `axis: &#39;x&#39; | &#39;y&#39;`: Die Achse (&#39;x&#39; oder &#39;y&#39;).
        *   `value: string`: Der neue Wert für die Achse.
*   `handleImprisonInputChange(agentId: string, value: string): void`
    *   Aktualisiert den Zustand `agentImprisonInputs` basierend auf der Benutzereingabe für die Haftdauer eines Agenten.
        *   `agentId: string`: Die ID des Agenten.
        *   `value: string`: Der neue Wert für die Haftdauer.
*   `handleSetHealth(agentId: string): void`
    *   Ruft die `onSetAgentHealth`-Funktion mit dem aus `agentHealthInputs` geparsten Wert auf.
        *   `agentId: string`: Die ID des Agenten.
*   `handleSetSickness(agentId: string): void`
    *   Ruft die `onInflictSickness`-Funktion mit dem Wert aus `agentSicknessInputs` auf.
        *   `agentId: string`: Die ID des Agenten.
*   `handleSetCurrency(agentId: string): void`
    *   Ruft die `onSetAgentCurrency`-Funktion mit dem aus `agentCurrencyInputs` geparsten Wert auf.
        *   `agentId: string`: Die ID des Agenten.
*   `handleSetPosition(agentId: string): void`
    *   Ruft die `onSetAgentPosition`-Funktion mit den aus `agentPositionInputs` geparsten Werten auf.
        *   `agentId: string`: Die ID des Agenten.
*   `handleImprison(agentId: string): void`
    *   Ruft die `onImprisonAgent`-Funktion mit dem aus `agentImprisonInputs` geparsten Wert auf.
        *   `agentId: string`: Die ID des Agenten.
*   `handleAddLaw(): void`
    *   Erstellt ein neues Gesetz basierend auf den Eingaben `newLawName`, `newLawAction` und `newLawFine` und ruft die `onEnactLaw`-Funktion auf.
    *   Setzt die Eingabefelder zurück.

### Verwendung von Hooks

*   `useState`: Wird verwendet, um den lokalen Zustand der Komponente zu verwalten.
*   `useEffect`: Wird verwendet, um den Zustand der Komponente zu initialisieren und zu aktualisieren, wenn sich die Props ändern.

### UI-Elemente

Die Komponente verwendet eine Vielzahl von UI-Elementen, um eine Admin-Oberfläche zu erstellen, darunter:

*   Überschriften und Unterüberschriften
*   Textfelder (`input type=&quot;text&quot;`)
*   Zahleneingabefelder (`input type=&quot;number&quot;`)
*   Auswahllisten (`select`)
*   Schaltflächen (`button`)
*   Elemente zur Anzeige von Informationen (z.B. Agentenname, Gesetze).
*   Icon Komponenten aus `./IconComponents` wie `Shield`, `Settings`, `Zap`, `Trash2`, `PlusCircle`, `Users`, `MapPin`, `Gavel`, `Vote`, `BookOpenCheck`, `CircleDollarSign`, `HeartPulse`

### Zusätzliche Hinweise

*   Die Komponente nutzt das `useTranslations`-Hook für die Internationalisierung (i18n).
*   Die Komponente ist in mehrere Abschnitte unterteilt: Politische Verwaltung, Technologieverwaltung, Agentenverwaltung und Weltregel-Editor.
*   Die Komponente enthält Platzhalter für zukünftige Funktionen.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-contexts-LanguageContext-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> contexts/LanguageContext.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## LanguageContext.tsx

Diese Datei definiert einen React Context für die Sprachverwaltung innerhalb einer Applikation.

### Exporte

*   **`Language`**

    Ein Typ, der die unterstützten Sprachen definiert.

    ```typescript
    type Language = &#39;en&#39; | &#39;de&#39;;
    ```

    *   `&#39;en&#39;`: Englisch
    *   `&#39;de&#39;`: Deutsch

*   **`LanguageContextType`**

    Ein Interface, das die Struktur des Language Contexts definiert.

    ```typescript
    interface LanguageContextType {
        language: Language;
        setLanguage: (language: Language) =&gt; void;
    }
    ```

    *   `language`: Der aktuelle Sprachcode (`Language`).
    *   `setLanguage`: Eine Funktion, um die aktuelle Sprache zu setzen.  Erwartet einen `Language`-Wert als Argument und hat keinen Rückgabewert (`void`).

*   **`LanguageContext`**

    Ein React Context, der die `LanguageContextType` verwaltet.

    ```typescript
    const LanguageContext = createContext&lt;LanguageContextType | undefined&gt;(undefined);
    ```

    Der Context wird mit `undefined` initialisiert.

*   **`LanguageProvider`**

    Eine React Komponente, die den `LanguageContext` bereitstellt.

    ```typescript
    export const LanguageProvider: React.FC&lt;{ children: ReactNode }&gt; = ({ children }) =&gt; {
        const [language, setLanguage] = useState&lt;Language&gt;(&#39;de&#39;);

        return (
            &lt;LanguageContext.Provider value={{ language, setLanguage }}&gt;
                {children}
            &lt;/LanguageContext.Provider&gt;
        );
    };
    ```

    *   **Props:**

        *   `children`:  `ReactNode`.  Die Kind-Komponenten, die vom Provider umschlossen werden.
    *   **Funktionalität:**
        *   Verwaltet den aktuellen Sprachzustand mithilfe von `useState`, initialisiert mit &#39;de&#39;.
        *   Stellt den Wert (value) des Contexts mit dem aktuellen `language` und der `setLanguage`-Funktion über `LanguageContext.Provider` bereit.

*   **`useLanguage`**

    Ein Custom Hook, um auf den `LanguageContext` zuzugreifen.

    ```typescript
    export const useLanguage = (): LanguageContextType =&gt; {
        const context = useContext(LanguageContext);
        if (!context) {
            throw new Error(&#39;useLanguage must be used within a LanguageProvider&#39;);
        }
        return context;
    };
    ```

    *   **Rückgabewert:**  `LanguageContextType`.  Gibt das aktuelle Sprachobjekt (enthält `language` und `setLanguage`) zurück.
    *   **Funktionalität:**
        *   Verwendet `useContext` um auf den `LanguageContext` zuzugreifen.
        *   Wirft einen Fehler, wenn der Hook außerhalb eines `LanguageProvider` verwendet wird.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-hooks-useTranslations-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> hooks/useTranslations.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### `useTranslations`

Eine React Hook, die eine Übersetzung von Texten basierend auf der aktuellen Sprache zurückgibt.  Sie greift auf Übersetzungen zu, die in der `translations`-Datei definiert sind und verwendet den `LanguageContext`, um die aktuelle Sprache zu ermitteln.

**Rückgabewert:**

*   `t`:  Eine Funktion, die einen übersetzten String basierend auf einem Schlüssel und optionalen Parametern zurückgibt.

**Abhängigkeiten:**

*   `react`:  Importiert `useCallback`.
*   `../contexts/LanguageContext`:  Importiert `useLanguage`.
*   `../translations`: Importiert `translations`, `TranslationKey`.

```typescript
import { useCallback } from &#39;react&#39;;
import { useLanguage } from &#39;../contexts/LanguageContext&#39;;
import { translations, TranslationKey } from &#39;../translations&#39;;
</code></pre>
<hr>
<h4><code>useCallback</code></h4>
<p>Eine React Hook, die eine memorisierte Callback-Funktion zurückgibt.</p>
<hr>
<h4><code>useLanguage</code></h4>
<p>Eine Hook, die den aktuellen Sprachkontext bereitstellt.  Wird verwendet, um die aktuelle Sprache zu ermitteln.</p>
<hr>
<h4><code>translations</code></h4>
<p>Ein Objekt, das die Übersetzungen für verschiedene Sprachen enthält.  Die Struktur wird nicht explizit durch den Code in der Datei <code>useTranslations.ts</code> definiert, sondern aus der Datei <code>../translations</code> importiert. Es wird erwartet, dass es ein Objekt mit Sprachschlüsseln (z.B. &quot;en&quot;, &quot;de&quot;) als Eigenschaften enthält, die wiederum Objekte mit Übersetzungsschlüsseln und ihren entsprechenden Texten sind.</p>
<hr>
<h4><code>TranslationKey</code></h4>
<p>Ein Typ, der die gültigen Schlüssel für Übersetzungen repräsentiert. Die genaue Definition wird aus der Datei <code>../translations</code> importiert.</p>
<hr>
<h4><code>t</code> Funktion</h4>
<p>Die Funktion, die für die Übersetzung von Texten verwendet wird.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>key</code>: <code>TranslationKey</code> - Der Schlüssel des zu übersetzenden Textes.</li>
<li><code>params</code>: <code>{[key: string]: string | number | undefined}</code> (optional) - Ein Objekt mit Parametern, die in den übersetzten Text eingesetzt werden sollen.  Die Schlüssel des Objekts sind die Platzhalter im Übersetzungstext (z.B. &quot;{name}&quot;), und die Werte sind die Werte, die diese Platzhalter ersetzen sollen.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>string</code>: Der übersetzte Text, der entweder die Übersetzung für die aktuelle Sprache oder die englische Übersetzung (als Fallback) enthält. Enthält Platzhalter, die mit den Werten aus dem <code>params</code>-Objekt ersetzt wurden.  Wenn keine Übersetzung für den angegebenen Schlüssel gefunden wird, wird der Schlüssel selbst zurückgegeben.</li>
</ul>
<pre><code class="language-typescript">const t = useCallback((key: TranslationKey, params: { [key: string]: string | number | undefined } = {}) =&gt; {
        let str: string = (translations[language] as any)[key] || (translations.en as any)[key] || key;
        for (const p in params) {
            const value = params[p];
            if (value !== undefined) {
                 str = str.replace(`{${p}}`, String(value));
            }
        }
        return str;
    }, [language]);
</code></pre>
<pre><code>
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-translations-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> translations.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### `translations.ts`

Dieses Modul definiert die Übersetzungen für die Anwendung. Es exportiert ein Objekt `translations`, das Übersetzungen für verschiedene Sprachen enthält, sowie einen Typ `TranslationKey`, der die Schlüssel für die Übersetzungen definiert.

#### `translations`

Ein Objekt, das Übersetzungen für verschiedene Sprachen enthält.

**Typ:** `object`

**Struktur:**

```typescript
{
  [languageCode: string]: {
    [translationKey: string]: string;
  };
}
</code></pre>
<ul>
<li><code>languageCode</code>: Der Sprachcode (z.B. &quot;en&quot; für Englisch, &quot;de&quot; für Deutsch).</li>
<li><code>translationKey</code>: Ein Schlüssel, der die spezifische Übersetzung identifiziert.</li>
<li><code>string</code>: Die Übersetzung für den gegebenen Schlüssel in der gegebenen Sprache.</li>
</ul>
<p><strong>Beispiel:</strong></p>
<pre><code class="language-typescript">{
  en: {
    realitySimAI: &#39;RealitySim AI&#39;,
    agents: &#39;Agents&#39;,
  },
  de: {
    realitySimAI: &#39;RealitySim KI&#39;,
    agents: &#39;Agenten&#39;,
  }
}
</code></pre>
<h4><code>TranslationKey</code></h4>
<p>Ein Typ, der alle möglichen Übersetzungsschlüssel darstellt.</p>
<p><strong>Typ:</strong> <code>type</code></p>
<p><strong>Definiert als:</strong> <code>keyof typeof translations.en</code></p>
<p>Dieser Typ wird generiert aus den Schlüsseln des englischen Übersetzungsobjekts. Dadurch wird sichergestellt, dass alle Übersetzungsschlüssel korrekt definiert und typisiert sind.
```</p>

            </div>
        </div>
        </div>
        <div id="file-components-LanguageSwitcher-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/LanguageSwitcher.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <h3><code>LanguageSwitcher</code></h3>
<p>Eine React-Komponente, die eine Schaltfläche zum Umschalten der aktuellen Sprache (Deutsch/Englisch) bereitstellt.</p>
<p><strong>Importe:</strong></p>
<ul>
<li><code>React</code> von <code>react</code>: Das React-Framework.</li>
<li><code>useLanguage</code> von <code>../contexts/LanguageContext</code>: Ein Custom Hook, der den aktuellen Sprachkontext und eine Funktion zum Setzen der Sprache bereitstellt.</li>
</ul>
<p><strong>Props:</strong></p>
<p>Diese Komponente akzeptiert keine Props.</p>
<p><strong>Funktionen:</strong></p>
<ul>
<li><code>toggleLanguage</code>:<ul>
<li><strong>Parameter:</strong> Keine.</li>
<li><strong>Rückgabewert:</strong> <code>void</code>.  Schaltet die aktuelle Sprache um.  Wenn die aktuelle Sprache &#39;de&#39; ist, wird sie auf &#39;en&#39; gesetzt, andernfalls auf &#39;de&#39;.</li>
</ul>
</li>
</ul>
<p><strong>Renderausgabe:</strong></p>
<p>Gibt eine <code>&lt;button&gt;</code>-Element zurück.</p>
<ul>
<li><code>onClick</code>: Ruft die <code>toggleLanguage</code>-Funktion auf, wenn auf die Schaltfläche geklickt wird.</li>
<li><code>className</code>:  Setzt CSS-Klassen für das Styling mit Tailwind CSS.<ul>
<li><code>bg-slate-700</code>: Hintergrundfarbe auf Grau-700.</li>
<li><code>hover:bg-slate-600</code>: Hintergrundfarbe auf Grau-600 beim Hovern.</li>
<li><code>text-slate-200</code>: Textfarbe auf Grau-200.</li>
<li><code>font-bold</code>: Fettschrift.</li>
<li><code>py-2</code>: Padding vertikal.</li>
<li><code>px-3</code>: Padding horizontal.</li>
<li><code>rounded-md</code>: Abgerundete Ecken.</li>
<li><code>transition-colors</code>: Sanfte Farbüberblendung.</li>
<li><code>text-sm</code>: Textgröße klein.</li>
<li><code>uppercase</code>: Text in Großbuchstaben.</li>
</ul>
</li>
<li><code>aria-label</code>:  Stellt eine Beschreibung für Screenreader bereit, die die Sprache angibt, auf die umgeschaltet wird.  Die Beschreibung variiert je nach aktueller Sprache.</li>
<li>Der Text der Schaltfläche ist die aktuelle Sprache (entweder &#39;de&#39; oder &#39;en&#39;).</li>
</ul>
<p><strong>Verwendung des <code>useLanguage</code>-Hooks:</strong></p>
<p>Die Komponente verwendet den <code>useLanguage</code>-Hook, um auf den Sprachkontext zuzugreifen.  Dies ermöglicht es der Komponente, die aktuelle Sprache abzurufen und die Sprache über die <code>setLanguage</code>-Funktion zu ändern.</p>

            </div>
        </div>
        </div>
        <div id="file-components-ProcessingIndicator-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/ProcessingIndicator.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## ProcessingIndicator

### Beschreibung
Eine React-Komponente, die einen Indikator für die Verarbeitung anzeigt. Sie zeigt ein animiertes Icon und einen Text, um dem Benutzer anzuzeigen, dass ein Vorgang läuft.

### Importe
- `React` von `react`
- `BrainCircuit` von `./IconComponents`
- `useTranslations` von `../hooks/useTranslations`

### Props

#### `ProcessingIndicatorProps`

| Eigenschaft | Typ     | Beschreibung                                        |
|-------------|---------|-----------------------------------------------------|
| `isOpen`    | `boolean` | Gibt an, ob der Verarbeitungsindikator angezeigt werden soll. |

### Komponenten

#### `ProcessingIndicator`

Eine Funktionskomponente, die den Verarbeitungsindikator rendert. Sie verwendet `useTranslations` für die Internationalisierung.

**Parameter:**

| Parameter | Typ                       | Beschreibung                                                                   |
|-----------|---------------------------|--------------------------------------------------------------------------------|
| `isOpen`  | `ProcessingIndicatorProps` | Ein Objekt mit der Eigenschaft `isOpen`, das bestimmt, ob die Komponente angezeigt wird. |

**Rückgabewert:**

- `React.ReactElement | null`:  Gibt `null` zurück, wenn `isOpen` false ist.  Gibt ein div-Element zurück, welches den Indikator anzeigt, wenn `isOpen` true ist.

**Funktionalität:**

- Überprüft den Wert von `isOpen`. Wenn false, gibt die Komponente `null` zurück, wodurch nichts gerendert wird.
- Wenn `isOpen` true ist, rendert die Komponente ein Overlay mit einer animierten `BrainCircuit`-Icon-Komponente und einem Text, der durch `useTranslations` lokalisiert wird.
- Das Overlay wird mit CSS-Klassen für Positionierung (fixed, inset-0, z-50), Hintergrund (bg-slate-900/80, backdrop-blur-sm), Layout (flex, flex-col, items-center, justify-center), Icon-Styling und Text-Styling (text-xl, font-bold, text-slate-200, mt-4, tracking-wider) versehen.
- Verwendet `role=&quot;status&quot;` und `aria-live=&quot;polite&quot;` für verbesserte Zugänglichkeit.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-contexts-SettingsContext-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> contexts/SettingsContext.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## SettingsContext.tsx

Dieses Modul definiert einen React Context zur Verwaltung der Anwendungseinstellungen. Es speichert und lädt Einstellungen aus dem `localStorage`.

### Interfaces und Typen

#### `Settings`

Definiert das Interface für die Anwendungseinstellungen.

```typescript
interface Settings {
    provider: &#39;lm_studio&#39; | &#39;gemini&#39;;
    lmStudioUrl: string;
    lmStudioModel: string;
    lmStudioEmbeddingModel: string;
    geminiModel: string;
}
</code></pre>
<ul>
<li><code>provider</code>: <code>&#39;lm_studio&#39; | &#39;gemini&#39;</code>. Der Anbieter der Sprachmodell-API. Entweder <code>lm_studio</code> oder <code>gemini</code>.</li>
<li><code>lmStudioUrl</code>: <code>string</code>. Die URL des LM Studio Servers.</li>
<li><code>lmStudioModel</code>: <code>string</code>. Der Name des LM Studio Modells.</li>
<li><code>lmStudioEmbeddingModel</code>: <code>string</code>. Der Name des LM Studio Embedding Modells.</li>
<li><code>geminiModel</code>: <code>string</code>. Der Name des Gemini Modells.</li>
</ul>
<h4><code>SettingsContextType</code></h4>
<p>Definiert das Interface für den Kontextwert.</p>
<pre><code class="language-typescript">interface SettingsContextType {
    settings: Settings;
    setSettings: (settings: Settings) =&gt; void;
}
</code></pre>
<ul>
<li><code>settings</code>: <code>Settings</code>. Die aktuellen Einstellungen.</li>
<li><code>setSettings</code>: <code>(settings: Settings) =&gt; void</code>. Eine Funktion zum Aktualisieren der Einstellungen.</li>
</ul>
<h3>Variablen</h3>
<h4><code>SETTINGS_KEY</code></h4>
<pre><code class="language-typescript">const SETTINGS_KEY = &#39;realitysim_settings&#39;;
</code></pre>
<p>Eine Konstante, die als Schlüssel für das Speichern der Einstellungen im <code>localStorage</code> verwendet wird.</p>
<h4><code>SettingsContext</code></h4>
<pre><code class="language-typescript">const SettingsContext = createContext&lt;SettingsContextType | undefined&gt;(undefined);
</code></pre>
<p>Ein React Context, der die Einstellungen und eine Funktion zum Aktualisieren der Einstellungen bereitstellt.  Er ist initialisiert mit <code>undefined</code>.</p>
<h3>Komponenten</h3>
<h4><code>SettingsProvider</code></h4>
<p>Eine React-Komponente, die den <code>SettingsContext</code> bereitstellt.</p>
<pre><code class="language-typescript">export const SettingsProvider: React.FC&lt;{ children: ReactNode }&gt; = ({ children }) =&gt; { ... };
</code></pre>
<ul>
<li><strong>Props:</strong><ul>
<li><code>children</code>: <code>ReactNode</code>. Die React-Kinder-Komponenten.</li>
</ul>
</li>
<li><strong>Zweck:</strong> Stellt die Einstellungen und die <code>setSettings</code>-Funktion über den <code>SettingsContext</code> zur Verfügung. Initialisiert die Einstellungen mit Standardwerten und lädt sie aus dem <code>localStorage</code>, wenn vorhanden. Speichert Änderungen an den Einstellungen im <code>localStorage</code>.</li>
</ul>
<h5>Funktionen innerhalb von <code>SettingsProvider</code></h5>
<h6><code>setSettingsState</code> (Zustandsaktualisierer)</h6>
<pre><code class="language-typescript">const [settings, setSettingsState] = useState&lt;Settings&gt;({ ... });
</code></pre>
<ul>
<li>Verwaltet den Zustand der Einstellungen.  Wird initialisiert mit Standardeinstellungen.</li>
</ul>
<h6><code>useEffect</code></h6>
<pre><code class="language-typescript">useEffect(() =&gt; { ... }, []);
</code></pre>
<ul>
<li><strong>Zweck:</strong>  Lädt die Einstellungen aus <code>localStorage</code> beim Mounten der Komponente.</li>
<li><strong>Abhängigkeiten:</strong> Leere Abhängigkeitsliste (<code>[]</code>), wodurch der Effekt nur einmal beim Mounten ausgeführt wird.</li>
</ul>
<h6><code>setSettings</code></h6>
<pre><code class="language-typescript">const setSettings = (newSettings: Settings) =&gt; { ... };
</code></pre>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>newSettings</code>: <code>Settings</code>. Die neuen Einstellungen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong> <code>void</code>.</li>
<li><strong>Funktion:</strong> Speichert die neuen Einstellungen im <code>localStorage</code> und aktualisiert den Zustand.</li>
</ul>
<h3>Hooks</h3>
<h4><code>useSettings</code></h4>
<p>Ein benutzerdefinierter Hook, der den <code>SettingsContext</code> verwendet.</p>
<pre><code class="language-typescript">export const useSettings = (): SettingsContextType =&gt; { ... };
</code></pre>
<ul>
<li><strong>Rückgabewert:</strong> <code>SettingsContextType</code>.  Ein Objekt, das die aktuellen Einstellungen und die <code>setSettings</code>-Funktion enthält.</li>
<li><strong>Funktion:</strong> Gibt die Einstellungen und die Funktion zum Aktualisieren der Einstellungen aus dem <code>SettingsContext</code> zurück.  Wirft einen Fehler, wenn der Hook außerhalb eines <code>SettingsProvider</code> verwendet wird.</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-hooks-useSimulation-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> hooks/useSimulation.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">### `useSimulation`

Dieser React Hook verwaltet die Kernlogik und den Zustand der Simulation. Er kapselt die Interaktion mit der `RealityEngine`, die Zustandverwaltung, das Logging und die Interaktion mit externen Diensten wie Gemini für die KI-gestützte Generierung.

#### Exporte

*   `useSimulation`: Der Haupt-Hook, der die gesamte Logik der Simulation kapselt.

#### Funktionen

*   `generateUniqueFullName(existingNames: Set&lt;string&gt;): string`
    *   Erzeugt einen eindeutigen vollständigen Namen, indem zufällige Vor- und Nachnamen kombiniert werden.
        *   Parameter:
            *   `existingNames`: Eine `Set&lt;string&gt;` von bereits existierenden Namen, um Duplikate zu vermeiden.
        *   Rückgabewert:
            *   `string`: Ein eindeutiger vollständiger Name.

*   `safeParseInt(val: any, fallback: number): number`
    *   Versucht, einen Wert in eine Ganzzahl umzuwandeln. Gibt einen Fallback-Wert zurück, falls die Konvertierung fehlschlägt.
        *   Parameter:
            *   `val`: Der zu konvertierende Wert.
            *   `fallback`: Der Wert, der zurückgegeben wird, wenn die Konvertierung fehlschlägt.
        *   Rückgabewert:
            *   `number`: Die konvertierte Ganzzahl oder der Fallback-Wert.

*   `sanitizeObjectToNumber(obj: any): { [key: string]: number }`
    *   Konvertiert die Werte eines Objekts in Zahlen, filtert ungültige Werte heraus und gibt ein neues Objekt zurück.
        *   Parameter:
            *   `obj`: Das zu bereinigende Objekt.
        *   Rückgabewert:
            *   `{ [key: string]: number }`: Ein neues Objekt mit numerischen Werten.

*   `sanitizePersonality(p: any): Personality`
    *   Bereinigt ein Personality-Objekt, indem es ungültige numerische Werte auf Standardwerte setzt.
        *   Parameter:
            *   `p`: Das zu bereinigende Personality-Objekt.
        *   Rückgabewert:
            *   `Personality`: Das bereinigte Personality-Objekt.

*   `sanitizeAndCreateAgents(generatedAgents: any[], worldState: WorldState): Agent[]`
    *   Erstellt Agent-Objekte aus generierten Agentendaten, bereinigt Daten, generiert eindeutige Namen und initialisiert Agent-Eigenschaften.
        *   Parameter:
            *   `generatedAgents`: Ein Array von Agentendaten, die von externen Diensten generiert wurden.
            *   `worldState`: Der aktuelle Weltzustand.
        *   Rückgabewert:
            *   `Agent[]`: Ein Array von Agent-Objekten.

*   `sanitizeAndCreateEntities(generatedEntities: any[], worldState: WorldState): Entity[]`
    *   Erstellt Entity-Objekte aus generierten Entitätsdaten und bereinigt Daten.
        *   Parameter:
            *   `generatedEntities`: Ein Array von Entitätsdaten, die von externen Diensten generiert wurden.
            *   `worldState`: Der aktuelle Weltzustand.
        *   Rückgabewert:
            *   `Entity[]`: Ein Array von Entity-Objekten.

*   `useSimulation()`
    *   Der Haupt-Hook für die Simulation, der den Zustand verwaltet und die Interaktion mit der `RealityEngine` und anderen Diensten handhabt.
        *   Rückgabewert:
            *   Ein Objekt mit folgenden Eigenschaften:
                *   `worldState`: Der aktuelle Zustand der Welt (`WorldState`).
                *   `logs`: Ein Array von Log-Einträgen (`TimedLogEntry[]`).
                *   `selectedAgent`: Der aktuell ausgewählte Agent (`Agent | null`).
                *   `isGenerating`: Ein Boolean, der angibt, ob gerade Daten generiert werden.
                *   `isProcessingSteps`: Ein Boolean, der angibt, ob gerade Simulationsschritte verarbeitet werden.
                *   `isSettingsOpen`: Ein Boolean, das angibt, ob die Einstellungen geöffnet sind.
                *   `isGenerateWorldModalOpen`: Ein Boolean, das angibt, ob das Modal zur Welterstellung geöffnet ist.
                *   `isGenerateContentModalOpen`: Ein Boolean, das angibt, ob das Modal zur Inhaltsgenerierung geöffnet ist.
                *   `isAnalyticsOpen`: Ein Boolean, das angibt, ob das Analytics-Dashboard geöffnet ist.
                *   `isPsychoanalysisModalOpen`: Ein Boolean, das angibt, ob das Psychoanalyse-Modal geöffnet ist.
                *   `psychoanalysisReport`: Der Psychoanalyse-Bericht (`PsychoReport | null`).
                *   `isGeneratingAnalysis`: Ein Boolean, der angibt, ob gerade eine Analyse generiert wird.
                *   `analyzedAgent`: Der Agent, der analysiert wird (`Agent | null`).
                *   `panelVisibility`: Ein Objekt, das die Sichtbarkeit der verschiedenen Panels steuert.
                *   `setSelectedAgent`: Eine Funktion, um den ausgewählten Agenten zu setzen.
                *   `setIsSettingsOpen`: Eine Funktion, um den Zustand `isSettingsOpen` zu setzen.
                *   `setIsGenerateWorldModalOpen`: Eine Funktion, um den Zustand `isGenerateWorldModalOpen` zu setzen.
                *   `setIsGenerateContentModalOpen`: Eine Funktion, um den Zustand `isGenerateContentModalOpen` zu setzen.
                *   `setIsAnalyticsOpen`: Eine Funktion, um den Zustand `isAnalyticsOpen` zu setzen.
                *   `setIsPsychoanalysisModalOpen`: Eine Funktion, um den Zustand `isPsychoanalysisModalOpen` zu setzen.
                *   `togglePanel`: Eine Funktion zum Umschalten der Panel-Sichtbarkeit.
                *   `handlers`: Ein Objekt, das Funktionen enthält, die mit der Simulation interagieren.  Enthält Funktionen für Schritte, Ausführen von Schritten, Zurücksetzen, Aufforderungen, Export, Laden des Zustands, Export von Konversationen, Erstellung, Löschung, Aktualisierung der Umgebung, Generierung von Welt/Agenten/Entitäten, Psychoanalyse, Setzen von Gesundheit/Position/Währung, Festnahme, Rechtsdurchsetzung, Wahlen, Anführer setzen, Tech-Freischaltung, Haft, ExportStatistiken.

#### Typen

*   `WorldState`: Importiert aus `../types`. Definiert den Zustand der Welt.
*   `Agent`: Importiert aus `../types`. Definiert die Eigenschaften eines Agenten.
*   `Entity`: Importiert aus `../types`. Definiert die Eigenschaften einer Entität.
*   `EnvironmentState`: Importiert aus `../types`. Definiert den Zustand der Umgebung.
*   `LogEntry`: Importiert aus `../types`. Definiert die Struktur eines Log-Eintrags.
*   `TimedLogEntry`: Importiert aus `../types`. Definiert einen Log-Eintrag mit einem Zeitstempel.
*   `Culture`: Importiert aus `../types`. Definiert die Eigenschaften einer Kultur.
*   `Law`: Importiert aus `../types`. Definiert die Eigenschaften eines Gesetzes.
*   `Personality`: Importiert aus `../types`. Definiert die Eigenschaften der Persönlichkeit.
    *   `openness`: Offenheit für Erfahrungen (0.0 - 1.0).
    *   `conscientiousness`: Gewissenhaftigkeit (0.0 - 1.0).
    *   `extraversion`: Extraversion (0.0 - 1.0).
    *   `agreeableness`: Verträglichkeit (0.0 - 1.0).
    *   `neuroticism`: Neurotizismus (0.0 - 1.0).
*   `PsychoReport`: Importiert aus `../types`. Definiert die Struktur eines Psychoanalyse-Berichts.
*   `Election`: Importiert aus `../types`. Definiert die Eigenschaften einer Wahl.
*   `ActionEffect`: Importiert aus `../types`. Definiert die Auswirkungen einer Aktion.
*   `LongTermMemory`: Importiert aus `../types`. Definiert die Struktur des Langzeitgedächtnisses.
*   `Relationship`: Importiert aus `../types`. Definiert die Eigenschaften einer Beziehung.
*   `TranslationKey`: Importiert aus `../translations`.  Definiert die Art der Übersetzungsschlüssel.

#### Abhängigkeiten

*   `useState`, `useEffect`, `useCallback` aus `react`.
*   `RealityEngine` aus `../services/simulation`.
*   Typen wie `WorldState`, `Agent`, `Entity`, etc. aus `../types`.
*   `initialWorldState`, `GENOME_OPTIONS`, `INITIAL_CURRENCY`, `SKILL_TYPES`, `defaultPsyche`, `defaultQTable`, `RANDOM_FIRST_NAMES`, `RANDOM_LAST_NAMES` aus `../constants`.
*   `generateActionFromPrompt`, `generateWorld`, `generateAgents`, `generateEntities`, `LmStudioError`, `generatePsychoanalysis`, `generateEmbedding` aus `../services/geminiService`.
*   `useLanguage` aus `../contexts/LanguageContext`.
*   `useTranslations` aus `./useTranslations`.
*   `useSettings` aus `../contexts/SettingsContext`.
*   `TranslationKey` aus `../translations`.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-services-actions-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/actions.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h2>Dokumentation für <code>services/actions.ts</code></h2>
<h3><code>Action</code> Interface</h3>
<p>Definiert die Struktur einer Aktion, die von einem Agenten ausgeführt werden kann.</p>
<pre><code class="language-typescript">interface Action {
    name: string;
    description: string;
    onSuccess?: { belief: string; delta: number };
    onFailure?: { belief: string; delta: number };
    execute: (
        agent: Agent,
        allAgents: Map&lt;string, Agent&gt;,
        allEntities: Entity[],
        worldState: WorldState,
        context: ActionContext
    ) =&gt; Promise&lt;{ log: any; status: &#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;; reward: number; sideEffects?: any }&gt;;
    beliefKey?: string;
}
</code></pre>
<ul>
<li><strong><code>name</code></strong>: <code>string</code>. Der Name der Aktion, z.B. &quot;Eat Food&quot;.</li>
<li><strong><code>description</code></strong>: <code>string</code>. Eine Beschreibung der Aktion.</li>
<li><strong><code>onSuccess?</code></strong>: <code>{ belief: string; delta: number } | undefined</code>.  Optional. Definiert Änderungen im Belief-System des Agenten nach erfolgreicher Ausführung.<ul>
<li><code>belief</code>: <code>string</code>. Der Schlüssel des zu modifizierenden Beliefs.</li>
<li><code>delta</code>: <code>number</code>. Die Änderung des Belief-Werts.</li>
</ul>
</li>
<li><strong><code>onFailure?</code></strong>: <code>{ belief: string; delta: number } | undefined</code>.  Optional. Definiert Änderungen im Belief-System des Agenten nach fehlgeschlagener Ausführung.<ul>
<li><code>belief</code>: <code>string</code>. Der Schlüssel des zu modifizierenden Beliefs.</li>
<li><code>delta</code>: <code>number</code>. Die Änderung des Belief-Werts.</li>
</ul>
</li>
<li><strong><code>execute</code></strong>: <code>(agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Entity[], worldState: WorldState, context: ActionContext) =&gt; Promise&lt;{ log: any; status: &#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;; reward: number; sideEffects?: any }&gt;</code>. Eine asynchrone Funktion, die die Aktion ausführt.<ul>
<li><code>agent</code>: <code>Agent</code>. Der Agent, der die Aktion ausführt.</li>
<li><code>allAgents</code>: <code>Map&lt;string, Agent&gt;</code>. Eine Map aller Agenten im Spiel, wobei der Schlüssel die Agenten-ID ist.</li>
<li><code>allEntities</code>: <code>Entity[]</code>. Ein Array aller Entitäten im Spiel.</li>
<li><code>worldState</code>: <code>WorldState</code>. Der aktuelle Zustand der Spielwelt.</li>
<li><code>context</code>: <code>ActionContext</code>. Ein Objekt, das zusätzliche Funktionen und Daten für die Aktion bereitstellt.</li>
<li><strong>Rückgabewert</strong>: <code>Promise&lt;{ log: any; status: &#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;; reward: number; sideEffects?: any }&gt;</code>. Ein Promise, das ein Objekt mit den folgenden Eigenschaften zurückgibt:<ul>
<li><code>log</code>: <code>any</code>.  Protokollinformationen über die Aktion.</li>
<li><code>status</code>: <code>&#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;</code>. Der Status der Aktion.</li>
<li><code>reward</code>: <code>number</code>. Ein numerischer Wert, der die Belohnung oder Bestrafung für die Aktion darstellt.</li>
<li><code>sideEffects?</code>: <code>any</code>. Optionale Seiteneffekte, die durch die Aktion ausgelöst werden (z.B. Erstellen einer Entität).</li>
</ul>
</li>
</ul>
</li>
<li><strong><code>beliefKey?</code></strong>: <code>string | undefined</code>. Optionaler Schlüssel, der mit dem Belief des Agenten verknüpft ist.</li>
</ul>
<h3><code>availableActions</code> Konstante</h3>
<p>Ein Array von <code>Action</code>-Objekten, die alle verfügbaren Aktionen im Spiel definieren.</p>
<pre><code class="language-typescript">export const availableActions: Action[] = [
    // ... Action Definitionen ...
];
</code></pre>
<p>Enthält eine Vielzahl von Aktionen, kategorisiert in:</p>
<ul>
<li>Survival Actions (Eat Food, Drink Water, Gather Food, Gather Wood, Build Shelter, Rest)</li>
<li>Economic Actions (Work for money, Found Company, Work for Company, Mine Iron)</li>
<li>Crafting Actions (basierend auf <code>RECIPES</code>)</li>
<li>Market Actions (List Item on Market, Buy from Market)</li>
<li>Political Actions (Vote, Run for Election, Propose New Law)</li>
<li>Tech &amp; Social Actions (Research, Invent Technology, Share Knowledge, Leave Culture, Found Culture, Recruit for Culture, Propose Marriage, Accept Proposal, Reproduce, Artificial Insemination, Mentor young agent, Seek Counseling, Provide Counseling)</li>
<li>Movement Actions (Move North, South, East, West)</li>
<li>Other actions (Talk, Fight, Steal, Patrol, Meditate, Mourn, Offer Forgiveness, Confront Partner)</li>
</ul>
<h3><code>moveAction</code> Funktion</h3>
<p>Erstellt eine <code>Action</code>-Objekt, um einen Agenten in eine angegebene Richtung zu bewegen.</p>
<pre><code class="language-typescript">const moveAction = (direction: &#39;North&#39; | &#39;South&#39; | &#39;East&#39; | &#39;West&#39;): Action =&gt; ({
    // ...
});
</code></pre>
<ul>
<li><strong><code>direction</code></strong>: <code>&#39;North&#39; | &#39;South&#39; | &#39;East&#39; | &#39;West&#39;</code>. Die Richtung, in die sich der Agent bewegen soll.</li>
<li><strong>Rückgabewert</strong>: <code>Action</code>.  Ein <code>Action</code>-Objekt.</li>
</ul>
<h3><code>EAT_HUNGER_REDUCTION</code>, <code>DRINK_THIRST_REDUCTION</code>, <code>GATHER_AMOUNT</code>, <code>FATIGUE_RECOVERY_RATE</code>, <code>STRESS_RECOVERY_REST</code>, <code>WORK_FOR_MONEY_AMOUNT</code>, <code>FACTORY_WAGE</code>, <code>RESOURCE_PURCHASE_COST</code>, <code>RECIPES</code>, <code>RESEARCH_PER_ACTION</code>, <code>MIN_REPRODUCTION_AGE</code>, <code>MAX_REPRODUCTION_AGE</code>, <code>MAX_OFFSPRING</code>, <code>ADOLESCENCE_MAX_AGE</code></h3>
<p>Konstanten, die aus <code>../constants</code> importiert werden und verschiedene Werte für das Spiel definieren.</p>
<h3><code>findNearestEntity</code>, <code>findNearestAgent</code>, <code>moveTowards</code>, <code>wander</code></h3>
<p>Funktionen, die aus <code>./simulationUtils</code> importiert werden und für die Spielsimulation verwendet werden.</p>
<h3><code>generateAgentConversation</code>, <code>generateNewTechnology</code>, <code>generateNewLaw</code></h3>
<p>Funktionen, die aus <code>../services/geminiService</code> importiert werden und KI-gestützte Funktionalitäten bereitstellen.</p>

            </div>
        </div>
        </div>
        <div id="file-services-simulationUtils-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/simulationUtils.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## `services/simulationUtils.ts`

Diese Datei enthält Hilfsfunktionen für die Simulation, die mit Agenten und Entitäten interagieren.

### Funktionen

#### `findNearestEntity(agent: Agent, entities: Map&lt;string, Entity&gt;, filter: (e: Entity) =&gt; boolean): Entity | null`

Findet die Entität, die dem Agenten am nächsten ist, unter Berücksichtigung eines Filterausdrucks.

*   **Parameter:**
    *   `agent: Agent`: Der Agent, für den die nächste Entität gefunden werden soll.
    *   `entities: Map&lt;string, Entity&gt;`: Eine Map von Entitäten, wobei der Schlüssel ein String (ID) und der Wert die Entität ist.
    *   `filter: (e: Entity) =&gt; boolean`: Eine Filterfunktion, die eine Entität als Argument annimmt und `true` zurückgibt, wenn die Entität berücksichtigt werden soll, andernfalls `false`.
*   **Rückgabewert:**
    *   `Entity | null`: Die nächste Entität, die dem Agenten entspricht und den Filter besteht, oder `null`, wenn keine Entität gefunden wurde.

#### `findNearestAgent(agent: Agent, agents: Map&lt;string, Agent&gt;, filter: (a: Agent) =&gt; boolean): Agent | null`

Findet den Agenten, der einem anderen Agenten am nächsten ist, unter Berücksichtigung eines Filterausdrucks.  Beachtet, dass es sich nicht um den Agenten selbst handelt.

*   **Parameter:**
    *   `agent: Agent`: Der Agent, für den der nächste Agent gefunden werden soll.
    *   `agents: Map&lt;string, Agent&gt;`: Eine Map von Agenten, wobei der Schlüssel ein String (ID) und der Wert der Agent ist.
    *   `filter: (a: Agent) =&gt; boolean`: Eine Filterfunktion, die einen Agenten als Argument annimmt und `true` zurückgibt, wenn der Agent berücksichtigt werden soll, andernfalls `false`.
*   **Rückgabewert:**
    *   `Agent | null`: Der nächste Agent, der dem Agenten entspricht und den Filter besteht, oder `null`, wenn kein Agent gefunden wurde.

#### `moveTowards(agent: Agent, target: { x: number, y: number }, environment: EnvironmentState)`

Bewegt einen Agenten in Richtung eines Zielkoordinatenpaares. Berücksichtigt die Geschwindigkeit des Agenten und die Grenzen der Umgebung.

*   **Parameter:**
    *   `agent: Agent`: Der Agent, der sich bewegen soll.
    *   `target: { x: number, y: number }`: Das Ziel, das durch x- und y-Koordinaten definiert ist.
    *   `environment: EnvironmentState`: Der Zustand der Umgebung, der die Abmessungen des Spielfelds enthält.

#### `wander(agent: Agent, environment: EnvironmentState): { log: { key: string; params: { agentName: string; }; }; }`

Lässt einen Agenten in eine zufällige Richtung wandern. Die Bewegung wird in die Umweltgrenzen eingeschränkt.

*   **Parameter:**
    *   `agent: Agent`: Der Agent, der wandern soll.
    *   `environment: EnvironmentState`: Der Zustand der Umgebung, der die Abmessungen des Spielfelds enthält.
*   **Rückgabewert:**
    *   `{ log: { key: string; params: { agentName: string; }; }; }`: Ein Objekt, das einen Log-Eintrag für die Wanderaktion enthält.

### Typen (importiert aus `../types`)

*   `Agent`:  Definiert die Struktur eines Agenten.
    *   `id: string`: Eine eindeutige ID des Agenten.
    *   `x: number`: Die X-Koordinate des Agenten.
    *   `y: number`: Die Y-Koordinate des Agenten.
    *   `genome: string[]`: Ein Array von Strings, das die genetische Information des Agenten repräsentiert.
    *   `name: string`: Der Name des Agenten.
*   `Entity`: Definiert die Struktur einer Entität.
    *   `x: number`: Die X-Koordinate der Entität.
    *   `y: number`: Die Y-Koordinate der Entität.
*   `EnvironmentState`: Definiert den Zustand der Spielumgebung.
    *   `width: number`: Die Breite der Umgebung.
    *   `height: number`: Die Höhe der Umgebung.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-components-AnalyticsDashboard-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> components/AnalyticsDashboard.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## Exports

### Interfaces

#### `AnalyticsDashboardProps`
```typescript
interface AnalyticsDashboardProps {
    isOpen: boolean;
    onClose: () =&gt; void;
    worldState: WorldState;
}
</code></pre>
<ul>
<li><strong><code>isOpen</code></strong>: <code>boolean</code>. Gibt an, ob das Analytics Dashboard geöffnet ist.</li>
<li><strong><code>onClose</code></strong>: <code>() =&gt; void</code>. Eine Callback-Funktion, die aufgerufen wird, wenn das Dashboard geschlossen werden soll.</li>
<li><strong><code>worldState</code></strong>: <code>WorldState</code>. Enthält den aktuellen Zustand der Welt, einschließlich Agenten, Transaktionen, Kulturen usw.</li>
</ul>
<h3>Types</h3>
<h4><code>Tab</code></h4>
<pre><code class="language-typescript">type Tab = &#39;social&#39; | &#39;economic&#39; | &#39;cultural&#39; | &#39;tech&#39;;
</code></pre>
<ul>
<li>Definiert einen Typ für die Tabs im Analytics Dashboard. Mögliche Werte sind: <code>&#39;social&#39;</code>, <code>&#39;economic&#39;</code>, <code>&#39;cultural&#39;</code> oder <code>&#39;tech&#39;</code>.</li>
</ul>
<h4><code>cultureColors</code></h4>
<pre><code class="language-typescript">const cultureColors: { [key: string]: string } = {
    &#39;culture-utopian&#39;: &#39;rgba(56, 189, 248, 0.5)&#39;, // sky-400
    &#39;culture-primitivist&#39;: &#39;rgba(52, 211, 153, 0.5)&#39;, // emerald-400
    &#39;default&#39;: &#39;rgba(148, 163, 184, 0.5)&#39;, // slate-400
};
</code></pre>
<ul>
<li>Ein Objekt, das Kulturen IDs Farben zuordnet.<ul>
<li><code>&#39;culture-utopian&#39;</code>: <code>&#39;rgba(56, 189, 248, 0.5)&#39;</code></li>
<li><code>&#39;culture-primitivist&#39;</code>: <code>&#39;rgba(52, 211, 153, 0.5)&#39;</code></li>
<li><code>&#39;default&#39;</code>: <code>&#39;rgba(148, 163, 184, 0.5)&#39;</code></li>
</ul>
</li>
</ul>
<h3>Components</h3>
<h4><code>AnalyticsDashboard</code></h4>
<pre><code class="language-typescript">const AnalyticsDashboard: React.FC&lt;AnalyticsDashboardProps&gt; = ({ isOpen, onClose, worldState }) =&gt; { ... }
</code></pre>
<ul>
<li><strong>Zweck</strong>: Die Hauptkomponente für das Analytics Dashboard, die verschiedene Diagramme und Analysen basierend auf dem <code>worldState</code> anzeigt.</li>
<li><strong>Props</strong>:<ul>
<li><code>isOpen</code>:  (siehe <code>AnalyticsDashboardProps</code>) Gibt an, ob das Dashboard sichtbar ist.</li>
<li><code>onClose</code>: (siehe <code>AnalyticsDashboardProps</code>) Eine Funktion zum Schließen des Dashboards.</li>
<li><code>worldState</code>: (siehe <code>AnalyticsDashboardProps</code>) Der aktuelle Weltzustand, der für die Datendarstellung verwendet wird.</li>
</ul>
</li>
<li><strong>Zustand</strong>:<ul>
<li><code>activeTab</code>: Der aktuell aktive Tab im Dashboard (initial: <code>&#39;social&#39;</code>).</li>
</ul>
</li>
<li><strong>Funktionalität</strong>:<ul>
<li>Rendert das Dashboard nur, wenn <code>isOpen</code> wahr ist.</li>
<li>Enthält Tabs für soziale Netzwerke, wirtschaftliche Flüsse, kulturelle Verbreitung und Technologie.</li>
<li>Verwendet verschiedene Unterkomponenten für die Visualisierung der Daten.</li>
<li>Verwendet <code>useTranslations</code> um Texte zu lokalisieren.</li>
<li>Verwendet Icons aus <code>IconComponents</code>.</li>
</ul>
</li>
</ul>
<h4><code>SocialNetworkGraph</code></h4>
<pre><code class="language-typescript">const SocialNetworkGraph: React.FC&lt;{ agents: Agent[], cultures: Culture[] }&gt; = ({ agents, cultures }) =&gt; { ... }
</code></pre>
<ul>
<li><strong>Zweck</strong>: Visualisiert ein soziales Netzwerk von Agenten in der Welt.  Generiert eine interaktive HTML-Datei, die mit <code>vis-network</code> gerendert wird.</li>
<li><strong>Props</strong>:<ul>
<li><code>agents</code>:  Ein Array von <code>Agent</code>-Objekten, das die Agenten im Spiel repräsentiert.</li>
<li><code>cultures</code>: Ein Array von <code>Culture</code>-Objekten, das die Kulturen im Spiel repräsentiert.</li>
</ul>
</li>
<li><strong>Funktionalität</strong>:<ul>
<li>Filtert lebende Agenten heraus.</li>
<li>Erstellt Knoten und Kanten für das vis-Netzwerk basierend auf den Agenten und ihren Beziehungen.</li>
<li>Erstellt dynamisch HTML-Inhalt, der das Netzwerk darstellt.</li>
<li>Ermöglicht das Herunterladen der interaktiven Netzwerkkarte.</li>
<li>Verwendet <code>useTranslations</code> um Texte zu lokalisieren.</li>
<li>Verwendet <code>handleDownloadInteractiveMap</code> um die interaktive Karte herunterzuladen.</li>
</ul>
</li>
</ul>
<h4><code>EconomicFlowDiagram</code></h4>
<pre><code class="language-typescript">const EconomicFlowDiagram: React.FC&lt;{ transactions: Transaction[], agents: Agent[], currentTime: number }&gt; = ({ transactions, agents, currentTime }) =&gt; { ... }
</code></pre>
<ul>
<li><strong>Zweck</strong>: Visualisiert den wirtschaftlichen Fluss von Währung zwischen Agenten. Zeigt die Top-Transaktionen in einem Sankey-ähnlichen Diagramm.</li>
<li><strong>Props</strong>:<ul>
<li><code>transactions</code>:  Ein Array von <code>Transaction</code>-Objekten, die die Transaktionen im Spiel repräsentieren.</li>
<li><code>agents</code>:  Ein Array von <code>Agent</code>-Objekten, das die Agenten im Spiel repräsentiert.</li>
<li><code>currentTime</code>:  Die aktuelle Zeit im Spiel.</li>
</ul>
</li>
<li><strong>Zustand</strong>:<ul>
<li><code>timeWindow</code>:  Der Zeitbereich, der für die Filterung der Transaktionen verwendet wird (initial: 100).</li>
</ul>
</li>
<li><strong>Funktionalität</strong>:<ul>
<li>Filtert Transaktionen basierend auf dem <code>currentTime</code> und <code>timeWindow</code>.</li>
<li>Berechnet die Flussmengen zwischen den Agenten.</li>
<li>Zeigt die Top-Transaktionen in einer Liste an.</li>
<li>Ermöglicht die Anpassung des <code>timeWindow</code> über einen Schieberegler.</li>
<li>Verwendet <code>useMemo</code> um die Berechnung der Flüsse zu optimieren.</li>
<li>Verwendet <code>agentNameMap</code> um Agenten-IDs zu Namen aufzulösen.</li>
<li>Verwendet <code>useTranslations</code> um Texte zu lokalisieren.</li>
</ul>
</li>
</ul>
<h4><code>CulturalSpreadMap</code></h4>
<pre><code class="language-typescript">const CulturalSpreadMap: React.FC&lt;{ agents: Agent[], cultures: Culture[], environment: WorldState[&#39;environment&#39;] }&gt; = ({ agents, cultures, environment }) =&gt; { ... }
</code></pre>
<ul>
<li><strong>Zweck</strong>: Visualisiert die kulturelle Verbreitung auf einer Karte.</li>
<li><strong>Props</strong>:<ul>
<li><code>agents</code>:  Ein Array von <code>Agent</code>-Objekten.</li>
<li><code>cultures</code>: Ein Array von <code>Culture</code>-Objekten.</li>
<li><code>environment</code>:  Das <code>environment</code> Objekt vom Typ <code>WorldState</code>.</li>
</ul>
</li>
<li><strong>Funktionalität</strong>:<ul>
<li>Berechnet die kulturelle Dichte in einem Raster.</li>
<li>Rendert Zellen im Raster mit Farben, die der dominanten Kultur in jeder Zelle entsprechen.</li>
<li>Verwendet <code>useMemo</code> zur Optimierung der Berechnung der kulturellen Dichte.</li>
<li>Verwendet <code>cultureColors</code> für die Farbzuordnung.</li>
</ul>
</li>
</ul>
<h4><code>TechnologyChart</code></h4>
<pre><code class="language-typescript">const TechnologyChart: React.FC&lt;{ cultures: Culture[], techTree: WorldState[&#39;techTree&#39;] }&gt; = ({ cultures, techTree }) =&gt; { ... }
</code></pre>
<ul>
<li><strong>Zweck</strong>: Zeigt den Fortschritt der Technologie für jede Kultur an.</li>
<li><strong>Props</strong>:<ul>
<li><code>cultures</code>: Ein Array von <code>Culture</code>-Objekten.</li>
<li><code>techTree</code>:  Das <code>techTree</code> Array vom Typ <code>WorldState</code>.</li>
</ul>
</li>
<li><strong>Funktionalität</strong>:<ul>
<li>Iteriert über Kulturen und Technologien, um den Fortschritt zu visualisieren.</li>
<li>Berechnet den Fortschritt einer Technologie basierend auf den Forschungspunkten einer Kultur.</li>
<li>Zeigt den Fortschritt in Form eines Balkens an.</li>
<li>Hebt Technologien hervor, die nicht die erforderlichen Voraussetzungen erfüllen.</li>
<li>Verwendet <code>useTranslations</code> um Texte zu lokalisieren.</li>
</ul>
</li>
</ul>
<pre><code>
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-services-memoryService-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> services/memoryService.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h2>services/memoryService.ts</h2>
<h3><code>cosineSimilarity</code></h3>
<p>Berechnet die Kosinusähnlichkeit zwischen zwei Vektoren.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>vecA</code>: <code>number[]</code> - Der erste Vektor.</li>
<li><code>vecB</code>: <code>number[]</code> - Der zweite Vektor.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>number</code> - Die Kosinusähnlichkeit zwischen den beiden Vektoren.  Gibt 0 zurück, wenn die Vektoren leer oder von unterschiedlicher Länge sind oder wenn einer der Vektoren die Länge 0 hat.</li>
</ul>
<h3><code>VectorDB</code></h3>
<p>Eine Klasse, die eine Vektordatenbank für Langzeitgedächtnisoperationen implementiert.</p>
<p><strong>Eigenschaften:</strong></p>
<ul>
<li><code>memories</code>: <code>LongTermMemory[]</code> - Ein Array, das die Langzeitgedächtnisse speichert. Initialisiert als leeres Array.</li>
</ul>
<p><strong>Methoden:</strong></p>
<ul>
<li><p><code>addMemory(content: string, timestamp: number, embedding: number[]): void</code></p>
<p>Fügt dem Gedächtnis ein neues Element hinzu. Begrenzt die Anzahl der gespeicherten Elemente auf <code>MAX_LONG_TERM_MEMORIES</code>, indem das älteste Gedächtnis gelöscht wird, falls das Limit überschritten wird.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>content</code>: <code>string</code> - Der Inhalt des Gedächtnisses.</li>
<li><code>timestamp</code>: <code>number</code> - Der Zeitstempel des Gedächtnisses.</li>
<li><code>embedding</code>: <code>number[]</code> - Die Einbettung (Vektor) des Gedächtnisses.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>void</code></li>
</ul>
</li>
<li><p><code>search(queryVector: number[], topK: number): LongTermMemory[]</code></p>
<p>Sucht nach Gedächtnissen, die der Suchanfrage am ähnlichsten sind.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>queryVector</code>: <code>number[]</code> - Der Suchvektor.</li>
<li><code>topK</code>: <code>number</code> - Die Anzahl der Top-Ergebnisse, die zurückgegeben werden sollen.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>LongTermMemory[]</code> - Ein Array der <code>topK</code> am ähnlichsten Gedächtnisse, sortiert nach Ähnlichkeit (absteigend). Gibt ein leeres Array zurück, falls keine Gedächtnisse gespeichert sind.</li>
</ul>
</li>
<li><p><code>loadMemories(memories: LongTermMemory[]): void</code></p>
<p>Lädt ein Array von Gedächtnissen in die Datenbank.</p>
<p><strong>Parameter:</strong></p>
<ul>
<li><code>memories</code>: <code>LongTermMemory[]</code> - Das Array von Gedächtnissen, das geladen werden soll.</li>
</ul>
<p><strong>Rückgabewert:</strong></p>
<ul>
<li><code>void</code></li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-Dokumentation-md" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> Dokumentation.md</h2>
            <div class="prose prose-invert max-w-none">
            <h2>Dokumentation</h2>
<h3>Inhaltsverzeichnis</h3>
<ul>
<li><a href="#1-einleitung">1. Einleitung</a></li>
<li><a href="#2-installation--konfiguration">2. Installation &amp; Konfiguration</a></li>
<li><a href="#3-die-simulationswelt">3. Die Simulationswelt</a><ul>
<li><a href="#umgebung">Umgebung</a></li>
<li><a href="#entit%C3%A4ten">Entitäten</a></li>
</ul>
</li>
<li><a href="#4-die-anatomie-eines-agenten">4. Die Anatomie eines Agenten</a><ul>
<li><a href="#grundlagen--%C3%BCberleben">Grundlagen &amp; Überleben</a></li>
<li><a href="#geist--psyche">Geist &amp; Psyche</a></li>
<li><a href="#gef%C3%A4ngnistagebuch-die-innere-welt-der-inhaftierten">Gefängnistagebuch: Die innere Welt der Inhaftierten</a></li>
<li><a href="#soziales-gef%C3%BCge">Soziales Gefüge</a></li>
</ul>
</li>
<li><a href="#5-langzeitged%C3%A4chtnis-die-vektor-datenbank">5. Langzeitgedächtnis: Die Vektor-Datenbank</a><ul>
<li><a href="#das-konzept-des-echten-ged%C3%A4chtnisses">Das Konzept des &quot;Echten&quot; Gedächtnisses</a></li>
<li><a href="#der-prozess-von-der-handlung-zur-erinnerung">Der Prozess: Von der Handlung zur Erinnerung</a></li>
<li><a href="#intelligenter-abruf-durch-%C3%A4hnlichkeitssuche">Intelligenter Abruf durch Ähnlichkeitssuche</a></li>
<li><a href="#auswirkungen-auf-das-agentenverhalten">Auswirkungen auf das Agentenverhalten</a></li>
</ul>
</li>
<li><a href="#6-die-wirtschaftssimulation-von-rohstoffen-zu-produkten">6. Die Wirtschaftssimulation: Von Rohstoffen zu Produkten</a><ul>
<li><a href="#erweiterte-rohstoffe-und-waren">Erweiterte Rohstoffe und Waren</a></li>
<li><a href="#fabriken-und-produktionsketten">Fabriken und Produktionsketten</a></li>
<li><a href="#die-rolle-des-unternehmers-produkterfindung">Die Rolle des Unternehmers: Produkterfindung</a></li>
</ul>
</li>
<li><a href="#7-der-simulationszyklus--ki-entscheidungsfindung">7. Der Simulationszyklus &amp; KI-Entscheidungsfindung</a><ul>
<li><a href="#politische-autonomie-wie-gesetze-entstehen">Politische Autonomie: Wie Gesetze entstehen</a></li>
</ul>
</li>
<li><a href="#8-benutzerinteraktion">8. Benutzerinteraktion</a><ul>
<li><a href="#steuerungspanel">Steuerungspanel</a></li>
<li><a href="#agentensteuerung--ki-interaktion">Agentensteuerung &amp; KI-Interaktion</a></li>
<li><a href="#welterschaffung--psychoanalyse">Welterschaffung &amp; Psychoanalyse</a></li>
<li><a href="#zustand-gespr%C3%A4che--statistiken-verwalten">Zustand, Gespräche &amp; Statistiken verwalten</a></li>
<li><a href="#manuelle-erstellung-create-new-panel">Manuelle Erstellung (Create New Panel)</a></li>
<li><a href="#das-admin-panel-gott-modus">Das Admin-Panel (Gott-Modus)</a></li>
</ul>
</li>
<li><a href="#9-analyse--beobachtung-das-analytics-dashboard">9. Analyse &amp; Beobachtung: Das Analytics Dashboard</a><ul>
<li><a href="#soziales-netzwerk">Soziales Netzwerk</a></li>
<li><a href="#wirtschaftsfl%C3%BCsse">Wirtschaftsflüsse</a></li>
<li><a href="#kulturelle-ausbreitung">Kulturelle Ausbreitung</a></li>
<li><a href="#technologie">Technologie</a></li>
</ul>
</li>
<li><a href="#10-erweiterbarkeit">10. Erweiterbarkeit</a><ul>
<li><a href="#101-neue-aktionen-hinzuf%C3%BCgen">Neue Aktionen hinzufügen</a></li>
<li><a href="#102-neue-agenten-attribute-psyche-bed%C3%BCrfnisse-etc">Neue Agenten-Attribute (Psyche, Bedürfnisse etc)</a></li>
<li><a href="#103-neue-technologien-oder-rezepte">Neue Technologien oder Rezepte</a></li>
<li><a href="#104-erweiterung-der-benutzeroberfl%C3%A4che">Erweiterung der Benutzeroberfläche</a></li>
<li><a href="#105-agenten-erfundene-technologien--produkte">Agenten-erfundene Technologien &amp; Produkte</a></li>
</ul>
</li>
<li><a href="#11-kerntechnologien--architektur">11. Kerntechnologien &amp; Architektur</a></li>
</ul>
<hr>
<h3>1. Einleitung</h3>
<p><strong>RealitySim AI</strong> ist eine interaktive, webbasierte Simulationsumgebung, die das Leben einer kleinen Gesellschaft von KI-gesteuerten Agenten darstellt. Jeder Agent ist eine einzigartige Entität mit eigenen Überzeugungen, einer komplexen Persönlichkeit, psychologischen Trieben und einem dynamischen Gedächtnis.</p>
<p>Das Kernziel der Simulation ist nicht, ein Spiel zu gewinnen, sondern emergentes Verhalten zu beobachten: Wie entwickeln sich Kulturen? Wie bilden sich soziale und wirtschaftliche Strukturen? Wie beeinflussen individuelle Traumata und Ziele das Schicksal einer Gemeinschaft? Als Benutzer können Sie die Simulation beobachten, sie Schritt für Schritt vorantreiben, direkt mit den Agenten über natürliche Sprache interagieren, um deren Verhalten zu beeinflussen, oder sogar in die Gedanken inhaftierter Agenten durch ihre KI-generierten Tagebücher eintauchen.</p>
<h3>2. Installation &amp; Konfiguration</h3>
<p>Die Anwendung ist vollständig browserbasiert und erfordert keine serverseitige Installation. Öffnen Sie einfach die <code>index.html</code>-Datei in einem modernen Webbrowser.</p>
<p>Die Intelligenz der Agenten wird durch einen KI-Anbieter im Hintergrund angetrieben. Sie können dies über das <strong>Einstellungsmenü</strong> (Zahnrad-Icon) konfigurieren:</p>
<ul>
<li><p><strong>Google Gemini (Empfohlen):</strong></p>
<ul>
<li><strong>Funktionalität:</strong> Bietet die fortschrittlichsten Funktionen, einschließlich der Erstellung von Vektor-Embeddings für das Langzeitgedächtnis.</li>
<li><strong>Konfiguration:</strong> Erfordert einen Google AI API-Schlüssel. Dieser Schlüssel darf <strong>NICHT</strong> in der UI eingegeben werden. Er muss als Umgebungsvariable <code>API_KEY</code> in der Umgebung, in der die Anwendung läuft, verfügbar sein. Die App liest diesen Schlüssel automatisch aus.</li>
</ul>
</li>
<li><p><strong>LM Studio:</strong></p>
<ul>
<li><strong>Funktionalität:</strong> Eine Alternative für Benutzer, die Modelle lokal ausführen möchten.</li>
<li><strong>Konfiguration:</strong><ol>
<li>Starten Sie einen lokalen Server in Ihrer LM Studio-Anwendung.</li>
<li>Geben Sie die angezeigte Server-URL (z.B. <code>http://localhost:1234</code>) in den App-Einstellungen ein.</li>
<li>Geben Sie den Identifier des geladenen <strong>Chat-Modells</strong> an.</li>
<li>Geben Sie optional den Identifier für ein separates <strong>Embedding-Modell</strong> an. Damit das Langzeitgedächtnis (Vektor-DB) lokal funktioniert, muss in LM Studio ein entsprechendes Modell geladen und für den Embedding-Endpunkt konfiguriert sein (z.B. <code>text-embedding-granite-embedding-278m-multilingual</code>). Wenn das Feld in den App-Einstellungen leer gelassen wird, wird versucht, das Chat-Modell für Embeddings zu verwenden.</li>
<li><strong>WICHTIG:</strong> Aktivieren Sie die <strong>CORS</strong>-Option in den Servereinstellungen von LM Studio, da der Browser sonst die Verbindung blockiert.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3>3. Die Simulationswelt</h3>
<h4>Umgebung</h4>
<p>Die Welt ist ein 2D-Gitter definierter Größe (<code>width</code> x <code>height</code>). Sie hat globale Eigenschaften wie die <code>Zeit</code> (gemessen in Schritten) und kann dynamische Ereignisse wie Wahlen umfassen.</p>
<h4>Entitäten</h4>
<p>Dies sind die statischen oder semi-statischen Objekte in der Welt:</p>
<ul>
<li><strong>Ressourcen:</strong> Nahrungsquellen, Wasserquellen, Wälder, Erzvorkommen sowie Vorkommen von <strong>Stein, Kohle, Sand und Lehm</strong>. Sie haben eine begrenzte Menge und können von Agenten abgebaut werden.</li>
<li><strong>Gebäude:</strong> Von Agenten gebaute Unterkünfte oder spezielle Gebäude wie der <strong>Marktplatz</strong> (für Handel), das <strong>Gefängnis</strong> (für Gesetzesbrecher) und <strong>Fabriken</strong> (für die Produktion von Waren).</li>
<li><strong>Eigentum:</strong> Entitäten können einem Agenten gehören, was andere daran hindert, sie frei zu nutzen.</li>
</ul>
<h3>4. Die Anatomie eines Agenten</h3>
<p>Jeder Agent ist weit mehr als nur eine Figur auf der Karte. Sein Verhalten wird durch ein vielschichtiges internes Zustandsmodell bestimmt.</p>
<h4>Grundlagen &amp; Überleben</h4>
<ul>
<li><strong>Attribute:</strong> Jeder Agent hat grundlegende Werte wie <code>Position (x, y)</code>, <code>Alter</code>, <code>Gesundheit</code>, <code>Inventar</code> und <code>jailJournal</code> (eine Liste von Tagebucheinträgen, falls inhaftiert).</li>
<li><strong>Bedürfnisse:</strong> Die primären Überlebenstriebe sind <code>Hunger</code>, <code>Durst</code> und <code>Müdigkeit</code>. Diese Werte steigen kontinuierlich an. Wenn sie einen kritischen Schwellenwert überschreiten, verursachen sie <code>Stress</code> und <code>Gesundheitsschaden</code>. Unbehandelt führen sie zum Tod des Agenten.</li>
<li><strong>Zustand:</strong> Agenten können <code>inhaftiert</code> sein, was ihre Handlungsfähigkeit stark einschränkt. Ihr <code>imprisonedUntil</code>-Wert gibt an, wann sie wieder freikommen. Sie können auch einen <code>Job</code> in einer Fabrik haben.</li>
<li><strong>Genom:</strong> Agenten besitzen genetische Merkmale (z.B. <code>G-AGILE</code> für schnellere Bewegung, <code>G-INTELLIGENT</code> für schnelleres Lernen), die ihre Fähigkeiten und ihr Überleben beeinflussen.</li>
</ul>
<h4>Geist &amp; Psyche</h4>
<ul>
<li><strong>Persönlichkeit (Big Five):</strong> Jeder Agent wird durch fünf stabile Persönlichkeitsmerkmale definiert (<code>Offenheit</code>, <code>Gewissenhaftigkeit</code>, <code>Extraversion</code>, <code>Verträglichkeit</code>, <code>Neurotizismus</code>). Ein Agent mit hoher Extraversion wird eher soziale Interaktionen suchen, während ein Agent mit hohem Neurotizismus risikoreiche Aktionen meidet.</li>
<li><strong>Psyche &amp; Triebe:</strong> Dies sind tiefere, langsam veränderliche psychologische Antriebe, die das Verhalten stark färben. Dazu gehören:<ul>
<li><code>Eifersucht</code>: Kann zu konfrontativen Handlungen führen.</li>
<li><code>Rachsucht</code>: Priorisiert aggressive Aktionen gegen Rivalen.</li>
<li><code>Sinnsuche</code> &amp; <code>Spirituelles Bedürfnis</code>: Führt zu meditativen oder introspektiven Handlungen.</li>
<li><code>Langeweile</code>: Fördert neuartiges oder zufälliges Verhalten.</li>
<li><code>Todesangst</code>: Steigt bei niedriger Gesundheit und priorisiert sichere, heilende Aktionen.</li>
</ul>
</li>
<li><strong>Emotionen:</strong> Kurzfristige Gefühle wie <code>Freude</code>, <code>Trauer</code>, <code>Wut</code>, die als direkte Reaktion auf Ereignisse entstehen und mit der Zeit abklingen. Hohe <code>Trauer</code> kann z.B. die Aktion &quot;Trauern&quot; auslösen.</li>
<li><strong>Überzeugungen:</strong> Ein Netzwerk von Überzeugungen (<code>beliefNetwork</code>), das die Weltsicht des Agenten darstellt (z.B. <code>natur_ist_gut: 0.8</code>). Erfolgreiche oder fehlgeschlagene Aktionen können diese Überzeugungen stärken oder schwächen.</li>
<li><strong>Ziele:</strong> Agenten können dynamisch Ziele entwickeln (z.B. &quot;Anführer werden&quot;, &quot;Rache am Rivalen nehmen&quot;). Diese Ziele geben ihrem Handeln eine langfristige Richtung und werden bei der Aktionsauswahl stark gewichtet.</li>
</ul>
<h4>Gefängnistagebuch: Die innere Welt der Inhaftierten</h4>
<p>Ein einzigartiges Feature, das die psychologische Tiefe der Simulation erweitert, ist das Gefängnistagebuch. Wenn ein Agent inhaftiert wird, beginnt er, ein Tagebuch zu führen.</p>
<ul>
<li><strong>Automatische Generierung:</strong> Für jeden Simulationsschritt (der einer Woche im Gefängnis entspricht), generiert die KI einen detaillierten, persönlichen Tagebucheintrag aus der Perspektive des Agenten.</li>
<li><strong>Kontextbezogene Inhalte:</strong> Diese Einträge sind nicht zufällig. Sie spiegeln die <code>Persönlichkeit</code>, die <code>Psyche</code>, die aktuellen <code>Emotionen</code> und die <code>Erinnerungen</code> des Agenten an die Tat wider, die zu seiner Verhaftung führte. Ein optimistischer Agent schreibt vielleicht hoffnungsvoll, während ein zynischer Agent verbittert oder wütend klingen wird.</li>
<li><strong>Beobachtung &amp; Export:</strong> Das Tagebuch kann direkt auf der <strong>Agentenkarte</strong> eingesehen werden. Es bleibt auch nach der Freilassung des Agenten als permanenter Teil seiner Geschichte erhalten und kann jederzeit als formatierte Markdown-Datei <strong>heruntergeladen</strong> werden, um die vollständige Geschichte zu bewahren.</li>
</ul>
<h4>Soziales Gefüge</h4>
<ul>
<li><strong>Beziehungen:</strong> Agenten bauen Beziehungen zu anderen auf, die von <code>Fremder</code> über <code>Freund</code> bis hin zu <code>Rivale</code> oder <code>Ehepartner</code> reichen. Jede Beziehung hat einen numerischen Wert, der durch Interaktionen und Nähe beeinflusst wird.</li>
<li><strong>Kultur &amp; Religion:</strong> Die Zugehörigkeit zu einer Kultur oder Religion stattet Agenten mit einem gemeinsamen Satz von Grundüberzeugungen aus und ermöglicht ihnen, an kollektiven Zielen wie der Erforschung neuer Technologien teilzuhaben.</li>
</ul>
<h3>5. Langzeitgedächtnis: Die Vektor-Datenbank</h3>
<p>Dies ist eines der fortschrittlichsten Features der Simulation und der Schlüssel zu wirklich intelligentem, kontextbewusstem Verhalten. Es ersetzt ein einfaches, chronologisches Protokoll durch ein semantisches, assoziatives Gedächtnis.</p>
<h4>Das Konzept des &quot;Echten&quot; Gedächtnisses</h4>
<p>Ein menschliches Gedächtnis funktioniert nicht wie eine Liste. Wir erinnern uns an Ereignisse basierend auf ihrer Relevanz für die aktuelle Situation. Wenn wir über &quot;Urlaub&quot; nachdenken, kommen uns Erinnerungen an Strände, Berge oder bestimmte Reisen in den Sinn – nicht die Erinnerung an das Zähneputzen von letzter Woche. Dieses System ahmt dieses Prinzip nach.</p>
<h4>Der Prozess: Von der Handlung zur Erinnerung</h4>
<ol>
<li><strong>Aktion &amp; Ergebnis:</strong> Ein Agent führt eine Aktion aus, z.B. &quot;Sammle 5 Nahrung von Beerenbusch&quot;. Das Ergebnis wird als Textprotokoll erfasst.</li>
<li><strong>Embedding-Erstellung:</strong> Dieser Text wird an die Gemini API (<code>text-embedding-004</code> Modell) gesendet. Die API wandelt den semantischen Inhalt des Textes in einen numerischen Vektor (ein &quot;Embedding&quot;) um. Dieses Embedding ist eine mathematische Repräsentation der Bedeutung der Erinnerung.</li>
<li><strong>Speicherung:</strong> Jede Erinnerung – bestehend aus dem Textinhalt, dem Vektor-Embedding und einem Zeitstempel – wird in der persönlichen <strong>Vektor-Datenbank</strong> des Agenten gespeichert (<code>VectorDB</code>-Klasse in <code>memoryService.ts</code>). Diese Datenbank ist das Langzeitgedächtnis des Agenten.</li>
</ol>
<h4>Intelligenter Abruf durch Ähnlichkeitssuche</h4>
<p>Wenn der Benutzer dem Agenten einen komplexen Befehl gibt (z.B. &quot;Was hältst du von Bob?&quot;), passiert Folgendes:</p>
<ol>
<li><strong>Anfrage-Vektor:</strong> Der Befehl des Benutzers wird ebenfalls in einen Anfrage-Vektor umgewandelt.</li>
<li><strong>Ähnlichkeitssuche:</strong> Das System durchsucht die Vektor-Datenbank des Agenten und vergleicht den Anfrage-Vektor mit den Vektoren aller gespeicherten Erinnerungen mithilfe der <strong>Kosinus-Ähnlichkeit</strong>.</li>
<li><strong>Relevanz-Ranking:</strong> Erinnerungen, deren Vektoren dem Anfrage-Vektor am ähnlichsten sind, werden als am relevantesten eingestuft. Dies bedeutet, dass Erinnerungen an vergangene Interaktionen mit &quot;Bob&quot; (sowohl positive als auch negative) eine hohe Ähnlichkeit aufweisen werden, während irrelevante Erinnerungen (wie das Sammeln von Holz) eine niedrige Ähnlichkeit haben.</li>
</ol>
<h4>Auswirkungen auf das Agentenverhalten</h4>
<p>Die Top 3-5 relevantesten Erinnerungen werden dem Haupt-KI-Modell (Gemini) als zusätzlicher Kontext für seine Entscheidung bereitgestellt. Statt nur zu fragen: &quot;Was soll der Agent tun?&quot;, fragt das System nun:</p>
<blockquote>
<p>&quot;Basierend auf dem Zustand des Agenten, der aktuellen Welt UND diesen spezifischen, relevanten Erinnerungen aus seiner Vergangenheit – was ist die logischste Aktion oder Antwort?&quot;</p>
</blockquote>
<p>Dies ermöglicht ein unglaublich nuanciertes Verhalten:</p>
<ul>
<li>Ein Agent wird sich an einen vergangenen, unfairen Handel erinnern, wenn er erneut mit demselben Partner interagiert.</li>
<li>Ein Agent kann seine Meinung über einen Ort bilden, basierend auf wiederholten positiven oder negativen Erfahrungen dort.</li>
<li>Ein Agent kann auf Fragen zu vergangenen Ereignissen antworten, die hunderte von Schritten zurückliegen, solange sie für die Frage relevant sind.</li>
</ul>
<p>Das Vektor-Gedächtnis verwandelt die Agenten von rein reaktiven Wesen zu Wesen, die aus ihrer gesamten Lebenserfahrung lernen und reflektieren können.</p>
<h3>6. Die Wirtschaftssimulation: Von Rohstoffen zu Produkten</h3>
<p>Die Simulation verfügt über ein tiefgreifendes Wirtschaftssystem, das über einfaches Überleben hinausgeht. Es modelliert Produktionsketten, Unternehmertum und die Erfindung neuer Güter.</p>
<h4>Erweiterte Rohstoffe und Waren</h4>
<p>Die Welt ist reich an Ressourcen. Neben den Grundbedürfnissen wie <strong>Nahrung</strong> und <strong>Holz</strong> gibt es eine Vielzahl von Rohstoffen, die die Grundlage für eine komplexe Wirtschaft bilden:</p>
<ul>
<li><strong>Grundrohstoffe:</strong> <code>Holz</code>, <code>Stein</code>, <code>Kohle</code>, <code>Eisen</code>, <code>Sand</code>, <code>Lehm</code>.</li>
<li><strong>Zwischenprodukte:</strong> Durch Verarbeitung entstehen Waren wie <code>Holzkohle</code>, <code>Ziegel</code>, <code>Glas</code> oder <code>Stahlbarren</code>.</li>
<li><strong>Endprodukte:</strong> Diese Zwischenprodukte werden zu wertvollen Endprodukten wie <code>Werkzeugen</code>, <code>Möbeln</code> oder <code>Schwertern</code> weiterverarbeitet.</li>
</ul>
<h4>Fabriken und Produktionsketten</h4>
<ul>
<li><strong>Gründung:</strong> Agenten mit der Rolle <code>Unternehmer</code> können eine <strong>Fabrik</strong> gründen (<code>Found Factory</code>). Dies ist eine teure Investition, die Kapital und Baumaterialien erfordert. Bei der Gründung wird festgelegt, welches spezifische Produkt diese Fabrik herstellen soll (z.B. eine Werkzeugschmiede).</li>
<li><strong>Produktion:</strong> Fabriken produzieren nicht von alleine. Ein Agent muss dort arbeiten (<code>Work in Factory</code>). Diese Aktion verbraucht Rohstoffe aus dem Inventar des Fabrikbesitzers und legt das fertige Produkt ebenfalls in dessen Inventar ab.</li>
<li><strong>Arbeitsmarkt:</strong> Andere Agenten können in einer Fabrik arbeiten, um einen Lohn vom Besitzer zu erhalten. Dies schafft einen dynamischen Arbeitsmarkt, bei dem Unternehmer Arbeiter einstellen, um ihre Produktion zu steigern.</li>
</ul>
<h4>Die Rolle des Unternehmers: Produkterfindung</h4>
<p>Unternehmer sind der Motor der wirtschaftlichen Innovation. Sie haben die einzigartige Fähigkeit, neue Produkte zu erfinden:</p>
<ul>
<li><strong>Aktion <code>Invent Product</code>:</strong> Ein Unternehmer mit hoher <code>Inspiration</code> kann versuchen, ein neues Produkt zu erfinden.</li>
<li><strong>KI als Innovator:</strong> Diese Aktion ruft die Gemini-KI auf. Basierend auf den Fähigkeiten des Agenten, den verfügbaren Technologien und den Rohstoffen in der Welt, <strong>generiert die KI ein plausibles neues Rezept für ein Endprodukt</strong>. Dies könnte alles sein, von &quot;Verzierten Töpferwaren&quot; bis hin zu &quot;Komplexen mechanischen Teilen&quot;.</li>
<li><strong>Dynamische Wirtschaft:</strong> Sobald ein Produkt erfunden wurde, sein Rezept der Simulation hinzugefügt. Es entsteht eine neue <code>Craft...</code>-Aktion, die von jedem Agenten mit den nötigen Fähigkeiten und Technologien ausgeführt werden kann. Dies ermöglicht eine sich ständig weiterentwickelnde Wirtschaft, die in jeder Simulation einzigartig ist.</li>
</ul>
<h3>7. Der Simulationszyklus &amp; KI-Entscheidungsfindung</h3>
<p>Jeder &quot;Schritt&quot; der Simulation durchläuft einen festen Zyklus:</p>
<ol>
<li><strong>Globale Updates:</strong> Die Zeit schreitet voran, politische Ereignisse wie Wahlen werden geprüft.</li>
<li><strong>Agenten-Zyklus (für jeden Agenten):</strong>
a.  <strong>Passive Updates:</strong> Bedürfnisse steigen, Gesundheit verändert sich, Emotionen klingen ab. Wenn ein Agent inhaftiert ist, wird geprüft, ob ein Tagebucheintrag generiert werden muss.
b.  <strong>Aktionsauswahl (<code>chooseAction</code>):</strong> Dies ist das &quot;Gehirn&quot; des Agenten. Ein ausgeklügeltes Bewertungssystem wägt verschiedene Faktoren ab, um die beste Aktion auszuwählen:
*   <strong>Überlebenspriorität:</strong> Hoher Hunger oder Durst erhält eine massive Priorität.
*   <strong>Psychologische Triebe:</strong> Starke Antriebe (z.B. hohe Trauer, hohe Rachsucht) geben bestimmten Aktionen einen hohen Bonus.
*   <strong>Ziele:</strong> Aktive Ziele werden stark gewichtet.
*   <strong>Gesetze &amp; Persönlichkeit:</strong> Illegale Handlungen erhalten einen Malus, besonders bei gewissenhaften Agenten.
*   <strong>Q-Learning:</strong> Ein einfaches Verstärkungslernen-System (<code>qTable</code>) merkt sich, welche Aktionen in bestimmten Zuständen zu positiven Ergebnissen geführt haben, und bevorzugt diese in Zukunft.
c.  <strong>Aktionsausführung:</strong> Die gewählte Aktion wird ausgeführt.
d.  <strong>Gedächtnisbildung:</strong> Das Ergebnis wird, wie oben beschrieben, in eine Erinnerung umgewandelt und im Vektor-Gedächtnis gespeichert.</li>
</ol>
<h4>Politische Autonomie: Wie Gesetze entstehen</h4>
<p>Ein Schlüsselelement des emergenten Verhaltens ist die Fähigkeit des Systems, seine eigenen Regeln zu schaffen. Anstatt dass Gesetze nur vom Benutzer vordefiniert werden, kann der Anführer der Gemeinschaft autonom neue Gesetze vorschlagen.</p>
<ol>
<li><p><strong>Der Auslöser:</strong> Ein Anführer mit der Technologie &quot;Regierungsführung&quot; (<code>governance</code>) kann die Aktion <strong><code>Propose New Law</code></strong> (Neues Gesetz vorschlagen) in Betracht ziehen. Dies geschieht oft, wenn seine Psyche einen hohen <code>Entscheidungsdruck</code> anzeigt oder seine Erinnerungen auf wiederkehrende Probleme in der Gesellschaft hindeuten.</p>
</li>
<li><p><strong>KI als Gesetzgeber:</strong> Anstatt eines festen Gesetzes ruft diese Aktion die Gemini-KI auf. Die KI analysiert den Zustand der Welt:</p>
<ul>
<li><strong>Jüngste Ereignisse:</strong> Gibt es viele Kämpfe, Diebstähle oder soziale Unruhen (aus den Erinnerungen des Anführers)?</li>
<li><strong>Kulturelle Werte:</strong> Welche Überzeugungen hat die Kultur des Anführers? Eine naturverbundene Kultur könnte Gesetze zum Ressourcenschutz vorschlagen, eine fortschrittsorientierte Kultur Gesetze zur Forschungsförderung.</li>
<li><strong>Bestehende Gesetze:</strong> Die KI stellt sicher, dass sie kein bereits existierendes Gesetz vorschlägt.
Basierend auf dieser Analyse generiert die KI ein <strong>völlig neues, kontextuell passendes Gesetz</strong> als JSON-Objekt, komplett mit Beschreibung, der zu bestrafenden Aktion (<code>violatingAction</code>) und einer angemessenen Strafe.</li>
</ul>
</li>
<li><p><strong>Kulturelle Beratung (Die Abstimmung):</strong> Ein Anführer regiert nicht allein. Nachdem die KI ein Gesetz vorgeschlagen hat, wird eine <strong>Abstimmung innerhalb des &quot;Clans&quot; (der Kultur des Anführers)</strong> simuliert.</p>
<ul>
<li>Jedes Mitglied der Kultur stimmt ab. Die Wahrscheinlichkeit, dass ein Mitglied zustimmt, hängt von seiner <strong>Beziehung zum Anführer</strong> und seiner <strong>Persönlichkeit</strong> (insbesondere <code>Verträglichkeit</code>) ab.</li>
<li><strong>Mehrheitsentscheid:</strong> Nur wenn die Mehrheit der Kulturmitglieder zustimmt, wird das Gesetz offiziell erlassen und in der Simulation durchgesetzt.</li>
</ul>
</li>
</ol>
<p>Dieser Prozess schafft eine dynamische und plausible politische Landschaft, in der die Regeln der Gesellschaft eine direkte Reaktion auf die internen Probleme und Werte dieser Gesellschaft sind.</p>
<h3>8. Benutzerinteraktion</h3>
<h4>Steuerungspanel</h4>
<ul>
<li><strong>Step / Run:</strong> Führt die Simulation für einen oder mehrere Schritte aus.</li>
<li><strong>Reset:</strong> Setzt die Welt auf ihren ursprünglichen Zustand zurück.</li>
<li><strong>Generate World / Add with AI:</strong> Nutzt die generative Kraft der KI, um die Welt mit einzigartigen Agenten und Entitäten zu bevölkern oder zur bestehenden Welt hinzuzufügen.</li>
</ul>
<h4>Agentensteuerung &amp; KI-Interaktion</h4>
<p>Über die <strong>Agentenkarte</strong> können Sie direkt mit einem Agenten interagieren:</p>
<ul>
<li><strong>Direkter Befehl:</strong> Deaktivieren Sie &quot;KI verwenden&quot;, um exakte Aktionsnamen einzugeben (z.B. &quot;Move North&quot;).</li>
<li><strong>Natürliche Sprache (Use AI):</strong> Geben Sie einen Befehl in natürlicher Sprache ein (z.B. &quot;Geh etwas essen&quot; oder &quot;Räche dich an deinem Rivalen&quot;). Dies aktiviert den intelligenten Entscheidungsprozess, einschließlich des Abrufs von Erinnerungen aus der Vektor-Datenbank.</li>
</ul>
<h4>Welterschaffung &amp; Psychoanalyse</h4>
<ul>
<li><strong>Generate World:</strong> Erstellt eine komplett neue Weltbevölkerung basierend auf Ihren Vorgaben (Anzahl der Agenten/Entitäten). Die KI sorgt für einzigartige <strong>vollständige Namen</strong>, Persönlichkeiten und Hintergrundgeschichten. Wichtig hierbei ist, dass Vor- und Nachname als eine einzige Zeichenkette im <code>name</code>-Feld des Agenten gespeichert werden. Die KI ist angewiesen, diesen vollständigen Namen in einem Feld zu liefern und keine separaten Felder für Vor- und Nachname zu erstellen.</li>
<li><strong>Psychoanalyse:</strong> Sie können eine tiefenpsychologische Analyse eines Agenten anfordern. Die KI analysiert den gesamten Zustand des Agenten (Persönlichkeit, Traumata, Beziehungen, Überzeugungen) und erstellt einen detaillierten Bericht, der sogar unbewusste Konflikte und therapeutische Empfehlungen enthält. Diese Ergebnisse können dann direkt in die Psyche des Agenten integriert werden, um z.B. neue Ziele zu schaffen.</li>
</ul>
<h4>Zustand, Gespräche &amp; Statistiken verwalten</h4>
<p>In der rechten Seitenleiste befindet sich das Panel zum Verwalten des Simulationszustands und zum Exportieren von Daten:</p>
<ul>
<li><strong>Zustand Speichern/Laden:</strong> Ermöglicht das Exportieren der gesamten Simulation in eine JSON-Datei und das spätere erneute Laden.</li>
<li><strong>Gespräche exportieren:</strong> Erstellt eine Markdown-Datei mit allen bisherigen Konversationen der Agenten.</li>
<li><strong>Statistiken exportieren:</strong> Generiert einen zusammenfassenden Bericht im Markdown-Format über wichtige Ereignisse wie Eheschließungen (wer mit wem), Geburten (Eltern und Kind), Inhaftierungen (wer wie oft) und Kämpfe. Dies bietet eine hervorragende statistische Übersicht über die soziale Dynamik der Welt.</li>
</ul>
<h4>Manuelle Erstellung (Create New Panel)</h4>
<p>Dieses Panel, sichtbar in der Standardansicht des rechten Bereichs (wenn kein Admin ausgewählt ist), erlaubt es Ihnen, manuell neue Elemente in die Simulation einzufügen, ohne KI-Generierung zu verwenden. Sie können erstellen:</p>
<ul>
<li><strong>Agenten:</strong> Definieren Sie einen neuen Agenten von Grund auf, einschließlich Name, Beschreibung, Überzeugungen und Persönlichkeitsmerkmale.</li>
<li><strong>Entitäten:</strong> Fügen Sie neue Objekte oder Landmarken zur Welt hinzu.</li>
<li><strong>Aktionen:</strong> Entwerfen Sie eine neue, benutzerdefinierte Aktion mit spezifischen mechanischen Effekten (Kosten, Statusänderungen, Fähigkeitsgewinne). Dies ist ein mächtiges Werkzeug zum Testen neuer Spielmechaniken.</li>
</ul>
<h4>Das Admin-Panel (Gott-Modus)</h4>
<p>Wenn ein Agent mit dem Attribut <code>adminAgent: true</code> ausgewählt ist, wechselt die rechte Ansicht zum Admin-Panel. Dieses Panel bietet direkte &quot;gottgleiche&quot; Kontrolle über die Kernparameter der Simulation:</p>
<ul>
<li><strong>Politische Verwaltung:</strong> Starten Sie Wahlen, setzen Sie einen Anführer manuell ein, erlassen oder widerrufen Sie Gesetze.</li>
<li><strong>Technologie-Management:</strong> Beobachten Sie den Forschungsfortschritt jeder Kultur und schalten Sie Technologien bei Bedarf manuell frei.</li>
<li><strong>Agenten-Management:</strong> Passen Sie die Attribute jedes Agenten an – setzen Sie Gesundheit, Währung, Position oder infizieren Sie ihn mit einer Krankheit. Tote Agenten können wiederbelebt werden.</li>
</ul>
<h3>9. Analyse &amp; Beobachtung: Das Analytics Dashboard</h3>
<p>Das Analytics Dashboard (erreichbar über das Balkendiagramm-Icon) bietet einen Makro-Blick auf die Simulation und hilft, emergente Muster zu erkennen, die im normalen Ereignisprotokoll untergehen würden.</p>
<h4>Soziales Netzwerk</h4>
<p>Dieser Tab visualisiert das Beziehungsgeflecht der Gesellschaft als Graphen. Agenten sind Knoten, und Linien zwischen ihnen stellen Beziehungen dar.</p>
<ul>
<li><strong>Farbe &amp; Art:</strong> Die Farbe der Linie zeigt die Art der Beziehung an (z.B. pink für Partner, grün für Freunde, rot für Rivalen).</li>
<li><strong>Stärke:</strong> Die Deckkraft der Linie korreliert mit der Stärke der Beziehung.</li>
</ul>
<p>Dies ermöglicht es, auf einen Blick soziale Cliquen, zentrale Individuen oder isolierte Agenten zu erkennen.</p>
<h4>Wirtschaftsflüsse</h4>
<p>Dieses Diagramm zeigt den Fluss von Währung (<code>currency</code>) zwischen den Agenten und der Welt (z.B. durch Arbeit).</p>
<ul>
<li><strong>Sankey-ähnliche Darstellung:</strong> Pfeile zeigen die Richtung des Geldflusses an, ihre Dicke repräsentiert das transferierte Volumen.</li>
<li><strong>Zeitfenster-Regler:</strong> Sie können den Analysezeitraum anpassen, um kurzfristige Handelsmuster oder langfristige Wirtschaftsbeziehungen zu untersuchen.</li>
</ul>
<h4>Kulturelle Ausbreitung</h4>
<p>Diese Ansicht zeigt eine Heatmap der Weltkarte.</p>
<ul>
<li><strong>Farbkodierung:</strong> Jede Kultur hat eine eigene Farbe.</li>
<li><strong>Dichte:</strong> Die Farbintensität in einem Gitterbereich zeigt die Konzentration von Mitgliedern einer bestimmten Kultur an. So lässt sich die Bildung von kulturellen Enklaven oder die Vermischung von Kulturen visuell nachvollziehen.</li>
</ul>
<h4>Technologie</h4>
<p>Hier wird der technologische Fortschritt jeder Kultur visualisiert.</p>
<ul>
<li><strong>Fortschrittsbalken:</strong> Für jede Technologie im Technologiebaum (<code>techTree</code>) wird der Forschungsfortschritt jeder Kultur als Prozentbalken dargestellt.</li>
<li><strong>Abhängigkeiten:</strong> Technologien, deren Voraussetzungen noch nicht erfüllt sind, werden ausgegraut dargestellt, was die Entwicklungswege der Kulturen verdeutlicht.</li>
</ul>
<h3>10. Erweiterbarkeit</h3>
<p>Die Simulation ist modular aufgebaut, um leicht erweitert werden zu können. Hier sind die wichtigsten Ansatzpunkte für Erweiterungen:</p>
<h4>10.1 Neue Aktionen hinzufügen</h4>
<p>Dies ist die häufigste Art der Erweiterung. Wie bereits erwähnt, können neue Aktionen in <code>services/actions.ts</code> definiert und zur <code>availableActions</code>-Liste hinzugefügt werden. Dies ermöglicht neue Verhaltensweisen, die sofort in das KI-Entscheidungssystem integriert werden. Alternativ können Aktionen auch zur Laufzeit über das &quot;Create New&quot;-Panel hinzugefügt werden.</p>
<h4>10.2 Neue Agenten-Attribute (Psyche, Bedürfnisse etc.)</h4>
<p>Die Simulation kann durch neue interne Zustände für Agenten erweitert werden.</p>
<ol>
<li><strong>Typdefinition:</strong> Fügen Sie das neue Attribut zur <code>Agent</code>-Schnittstelle in <code>types.ts</code> hinzu (z.B. ein neuer Psyche-Wert wie <code>courage</code> oder ein Bedürfnis wie <code>social</code>).</li>
<li><strong>Initialisierung:</strong> Geben Sie einen Standardwert in <code>constants.ts</code> (z.B. in <code>defaultPsyche</code>) und in den Generierungsfunktionen (<code>sanitizeAndCreateAgents</code> in <code>hooks/useSimulation.ts</code>) an.</li>
<li><strong>Simulation-Engine:</strong> Integrieren Sie die Logik für das neue Attribut in <code>services/simulation.ts</code>. Wie verändert es sich pro Schritt (<code>applyPerStepMechanisms</code>)?</li>
<li><strong>KI-Integration (entscheidend):</strong> Damit die KI das neue Attribut versteht und berücksichtigt, müssen die Prompts in <code>services/geminiService.ts</code> aktualisiert werden. Fügen Sie das Attribut zur Agenten-Zustandsbeschreibung hinzu und erklären Sie in der <code>instructions</code>-Sektion, wie es die Aktionsauswahl beeinflussen soll (z.B. &quot;Hoher <code>courage</code> erhöht die Wahrscheinlichkeit für die Aktion &#39;Fight&#39;&quot;).</li>
</ol>
<h4>10.3 Neue Technologien oder Rezepte</h4>
<ol>
<li><strong>Technologien:</strong> Fügen Sie einen neuen Eintrag zum <code>TECH_TREE</code> in <code>constants.ts</code> hinzu. Definieren Sie die Kosten, Voraussetzungen und was die Technologie freischaltet (neue Aktionen, Rezepte).</li>
<li><strong>Rezepte:</strong> Fügen Sie einen neuen Eintrag zur <code>RECIPES</code>-Liste in <code>constants.ts</code> hinzu. Definieren Sie das Ergebnis, die Zutaten und eventuelle Fähigkeits- oder Technologieanforderungen. Das System erstellt daraus automatisch eine <code>Craft...</code>-Aktion.</li>
</ol>
<h4>10.4 Erweiterung der Benutzeroberfläche</h4>
<p>Neue Informationen können in den Komponenten in <code>components/</code> visualisiert werden, z.B. durch Hinzufügen eines neuen Diagramms in <code>AgentCard.tsx</code> oder einer neuen Visualisierung im <code>AnalyticsDashboard.tsx</code>.</p>
<h4>10.5 Agenten-erfundene Technologien &amp; Produkte</h4>
<p>Dies ist ein zentrales Feature für emergentes Gameplay. Die Simulation ist nicht mehr auf den vordefinierten Technologie- oder Rezeptbaum beschränkt.</p>
<ul>
<li><strong>Die Aktionen &quot;Technologie erfinden&quot; &amp; &quot;Produkt erfinden&quot;:</strong> Agenten (insbesondere Wissenschaftler oder Unternehmer mit hoher Inspiration) können versuchen, neue Dinge zu erfinden.</li>
<li><strong>KI als Erfinder:</strong> Wenn diese Aktion ausgelöst wird, wird die Gemini-API aufgerufen. Sie erhält den Kontext der aktuellen Welt, der bereits bekannten Technologien und der Fähigkeiten des Agenten. Basierend darauf generiert die KI eine plausible neue Technologie oder ein neues Produktrezept.</li>
<li><strong>Dynamische Entwicklung:</strong> Diese neue Erfindung wird dem globalen Zustand der Simulation hinzugefügt. Dies führt zu einzigartigen und unvorhersehbaren technologischen und wirtschaftlichen Entwicklungen in jeder Simulation.</li>
</ul>
<h3>11. Kerntechnologien &amp; Architektur</h3>
<ul>
<li><p><strong>Frontend-Framework:</strong> <strong>React &amp; TypeScript</strong> werden für den Aufbau einer robusten, typsicheren und komponentenbasierten Benutzeroberfläche verwendet.</p>
</li>
<li><p><strong>Styling:</strong> <strong>TailwindCSS</strong> ermöglicht ein schnelles, &quot;Utility-First&quot;-Styling direkt im HTML, was die Entwicklung beschleunigt und für ein konsistentes Design sorgt.</p>
</li>
<li><p><strong>Künstliche Intelligenz (KI):</strong> Die <strong>Google Gemini API</strong> dient als kognitiver Kern der Simulation.</p>
<ul>
<li><code>gemini-2.5-flash</code>: Wird für komplexe Entscheidungsfindung, Dialoggenerierung, Psychoanalyse und die prozedurale Erstellung von Welten und Agenten genutzt.</li>
<li><code>text-embedding-004</code>: Erstellt die Vektor-Embeddings, die das Fundament des semantischen Langzeitgedächtnisses bilden.</li>
</ul>
</li>
<li><p><strong>Gedächtnissystem:</strong> Eine <strong>benutzerdefinierte, im Arbeitsspeicher laufende Vektor-Datenbank</strong> (<code>VectorDB</code>). Sie verwendet Kosinus-Ähnlichkeit, um semantisch relevante Erinnerungen abzurufen, was ein kontextbezogenes Verhalten der Agenten ermöglicht.</p>
</li>
<li><p><strong>Zustandsverwaltung (State Management):</strong> Die gesamte Anwendung nutzt <strong>React Hooks</strong> für die Zustandsverwaltung. Es gibt keine externen State-Management-Bibliotheken. Der zentrale <code>useSimulation</code>-Hook fungiert als Haupt-Controller, der die Simulations-Engine (<code>RealityEngine.ts</code>) mit der React-UI verbindet. <code>useContext</code> wird verwendet, um globale Zustände wie Einstellungen und Sprache bereitzustellen.</p>
</li>
<li><p><strong>Datenvisualisierung:</strong></p>
<ul>
<li><strong>Recharts:</strong> Eine leichtgewichtige Diagrammbibliothek, die für die Visualisierung von Agenten-Attributen (Persönlichkeit, Fähigkeiten) und in Teilen des Analytics Dashboards verwendet wird.</li>
<li><strong>Custom SVG:</strong> Die Weltkarte (<code>WorldGraph.tsx</code>) ist eine vollständig benutzerdefinierte SVG-Komponente. Dies bietet maximale Kontrolle und Performance bei der Darstellung von Agenten, Entitäten und ihren Beziehungen auf dem Gitter.</li>
</ul>
</li>
<li><p><strong>Modul-System &amp; Build-Prozess:</strong> Die Anwendung verfolgt einen modernen, <strong>build-freien Ansatz</strong> unter Verwendung von <strong>nativen ES-Modulen mit Import Maps</strong> (definiert in <code>index.html</code>). Alle Abhängigkeiten (wie React, Recharts) werden zur Laufzeit direkt aus einem CDN (<code>esm.sh</code>) geladen. Dies vereinfacht die Entwicklungsumgebung erheblich, da keine komplexen Tools wie Webpack oder Vite erforderlich sind.</p>
</li>
<li><p><strong>Datenpersistenz:</strong></p>
<ul>
<li><strong><code>localStorage</code>:</strong> Die Browser-API <code>localStorage</code> wird verwendet, um benutzerspezifische Einstellungen (wie den KI-Anbieter) dauerhaft zu speichern.</li>
<li><strong>File API:</strong> Die Funktionalität zum Speichern und Laden des gesamten Simulationszustands wird über die browserbasierte File API realisiert, die es dem Benutzer ermöglicht, JSON-Dateien zu exportieren und zu importieren.</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file-die-simulation-md" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> die_simulation.md</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## 1. Die Geburt eines Agenten: Der Startzustand

### 1.1 Startzustand eines generierten Agenten

#### Typ: `Agent` (Annahme, da nicht explizit definiert, aber impliziert)

Enthält die Eigenschaften eines Agenten in der Simulation.  Die detaillierten Felder sind aus dem Kontext ableitbar:

*   **`name` (String):** Der vollständige Name des Agenten.  Wird bei der Generierung gesetzt.  Muss mindestens zwei Wörter enthalten.
*   **`beliefNetwork` (Object):**  Enthält die grundlegenden Überzeugungen des Agenten. (Typ nicht spezifiziert)
*   **`personality` (Object):** Repräsentiert die Persönlichkeit des Agenten, basierend auf den &quot;Big Five&quot; Persönlichkeitsmerkmalen (z.B. Extraversion, Verträglichkeit). (Typ nicht spezifiziert)
*   **`psyche` (Object):**  Enthält Startwerte für tiefere Triebe des Agenten (z.B. Rachsucht, Sinnsuche). (Typ nicht spezifiziert)
*   **`cultureId` (String):** Die ID der Kultur, zu der der Agent gehört.
*   **`religionId` (String):** Die ID der Religion, zu der der Agent gehört.
*   **`relationships` (Array):**  Ein Array, das die Beziehungen des Agenten zu anderen Agenten repräsentiert. (Typ nicht spezifiziert, wahrscheinlich ein Array von Beziehungsobjekten)
*   **`longTermMemory` (Array):** Ein Array, das die Erinnerungen des Agenten enthält. (Typ nicht spezifiziert)
*   **`age` (Number):** Das Alter des Agenten. Beginnt mit 0 für Neugeborene.
*   **`skills` (Object):** Repräsentiert die Fähigkeiten des Agenten in verschiedenen Bereichen (z.B. Farming, Crafting). (Typ nicht spezifiziert)
*   **`hunger` (Number):** Der Hunger des Agenten.
*   **`thirst` (Number):** Der Durst des Agenten.
*   **`fatigue` (Number):** Die Müdigkeit des Agenten.
*   **`goals` (Array):** Ein Array, das die aktuellen Ziele des Agenten enthält. (Typ nicht spezifiziert)
*   **`qTable` (Object):** Die Q-Tabelle des Agenten für Verstärkungslernen. (Typ nicht spezifiziert)

#### Funktion: `addNewbornAgent` (Implizit, da beschrieben)

Erstellt einen neuen Agenten, der die Attribute seiner Eltern erbt.

*   **Parameter:**
    *   Eltern (Objekte vom Typ `Agent`, nicht explizit definiert)
*   **Rückgabewert:** Ein neues `Agent` Objekt (Typ nicht explizit definiert).
*   **Funktionsweise:** Erstellt ein Kind, welches die Attribute von seinen Eltern erbt, mit leichten zufälligen Mutationen.

### 1.2 Die Besonderheit von Neugeborenen: Vererbung und Entwicklung

#### Funktion: `chooseAction` (Implizit, da beschrieben)

Entscheidet, welche Aktion ein Agent im aktuellen Schritt ausführen soll.

*   **Parameter:**  Keine expliziten Parameter, greift implizit auf den Zustand des Agenten zu.
*   **Rückgabewert:** Eine Aktion, die der Agent ausführen soll (Typ nicht spezifiziert, vermutlich ein String oder ein Objekt, das die auszuführende Aktion repräsentiert).
*   **Funktionsweise:**  Wählt eine Aktion basierend auf einem Bewertungssystem, das Überlebensprioritäten, psychologische Imperative, Ziele, Rolle/Persönlichkeit, Gesetze/Moral, wirtschaftliche Faktoren, Verstärkungslernen und Exploration berücksichtigt.
*   **Wichtige Aspekte:**
    *   **Überlebenspriorität:** Überschreibt alle anderen Faktoren, wenn der Agent Hunger, Durst oder Müdigkeit hat.
    *   **Psychologische Imperative:** Berücksichtigt innere Triebe wie Trauer, Rachsucht, Langeweile, Eifersucht, spirituelles Bedürfnis.
    *   **Ziele:** Beeinflussen die Aktionswahl.
    *   **Rolle &amp; Persönlichkeit:**  Beeinflussen die &quot;Standard&quot;-Aktionen des Agenten.
    *   **Gesetze &amp; Moral:**  Bestimmen die Strafen für illegale Handlungen.
    *   **Wirtschaftliches Kalkül:**  Berücksichtigt finanzielle Aspekte.
    *   **Verstärkungslernen:**  Nutzt eine Q-Tabelle, um aus Erfahrungen zu lernen.
    *   **Erkundung (EPSILON_GREEDY):**  Führt mit geringer Wahrscheinlichkeit eine zufällige Aktion aus.
    *   **Fallback:**  Wenn keine Aktion ausreichend bewertet wird, wandert der Agent umher.

## 3. Beispiele für emergentes Verhalten entschlüsselt

### 3.2 Wie entsteht ein neues Gesetz?

#### Funktion: `Propose New Law` (Implizit, da beschrieben)

Schlägt ein neues Gesetz vor.

*   **Parameter:** Benötigt den aktuellen Anführer (Implizit).
*   **Rückgabewert:** Das neue Gesetz wird Teil der Weltregeln (Implizit).
*   **Funktionsweise:**
    1.  Der Anführer mit der Technologie &quot;Governance&quot; kann ein Gesetz vorschlagen.
    2.  Die KI (Gemini) generiert ein neues Gesetz basierend auf den Erinnerungen des Anführers und den Grundwerten seiner Kultur.
    3.  Es findet eine Abstimmung unter den Mitgliedern der Kultur des Anführers statt.
    4.  Das Gesetz wird nur erlassen, wenn die Mehrheit zustimmt.

## 4. Die dynamische Wirtschaft: Fabriken und Erfindungen

#### Typ: `Factory` (Implizit)

Repräsentiert eine Fabrik.

*   **Attribute:** (Nicht explizit definiert, aber aus dem Kontext ableitbar)
    *   Spezialisierung auf ein bestimmtes Gut.
    *   Besitzer (Agent).
    *   Arbeiter (Agenten).
    *   Produktionskapazität.
*   **Funktionalität:** Produziert Waren.

#### Funktion: `Invent Product` (Implizit, da beschrieben)

Erfindet ein neues Produktrezept.

*   **Parameter:**  Benötigt einen Unternehmer (Agent) und Informationen über verfügbare Ressourcen und Technologien.
*   **Rückgabewert:** Ein neues Produktrezept (Implizit).
*   **Funktionsweise:**  Die KI erfindet ein neues Produktrezept basierend auf den verfügbaren Ressourcen und Technologien.

## 5. Das Gedächtnis: Wie Agenten lernen und sich erinnern

#### Funktion:  Vektor-Datenbank (Implizit, da beschrieben)

*   **Funktionalität:**  Speichert Ereignisse im Langzeitgedächtnis.
*   **Prozess:**
    1.  Wandelt Text in Vektoren um (mittels KI).
    2.  Semantische Suche anhand von Vektoren.

## 6. Die innere Welt: Psychoanalyse und Tagebücher

#### Funktion: `Psychoanalyse` (Implizit, da beschrieben)

Analysiert den Zustand eines Agenten.

*   **Parameter:** Der Agent (Implizit).
*   **Rückgabewert:** Generiert einen psychologischen Bericht, kann `unconscious_modifiers` und ein `suggested_goal` für den Agenten generieren.
*   **Funktionsweise:**  Analysiert den Zustand eines Agenten (Persönlichkeit, Erinnerungen, Traumata, Ziele) mit Hilfe der KI.

#### Funktion: `jailJournal` (Implizit, da beschrieben)

Generiert Tagebucheinträge für einen inhaftierten Agenten.

*   **Parameter:** Der inhaftierte Agent (Implizit).
*   **Rückgabewert:** Tagebucheinträge (Implizit).
*   **Funktionsweise:** Die KI generiert Tagebucheinträge, die die Persönlichkeit des Agenten, seine Erinnerungen an die Tat und seine Gefühle über die Gefangenschaft widerspiegeln.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-WorldState-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> WorldState.ts</h2>
            <div class="prose prose-invert max-w-none">
            <h2>Interfaces und Typen</h2>
<h3><code>Psyche</code></h3>
<pre><code class="language-typescript">export interface Psyche {
    empathy: number; // 0-1
    vengefulness: number; // 0-1
    forgiveness: number; // 0-1
    searchForMeaning: number; // 0-1
    decisionPressure: number; // 0-1
    fearOfDeath: number; // 0-1
    boredom: number; // 0-1
    inspiration: number; // 0-1
    fanaticism: number; // 0-1
    spiritualNeed: number; // 0-1
    jealousy: number; // 0-1
}
</code></pre>
<p>Repräsentiert die psychologischen Eigenschaften eines Agenten. Alle Werte sind normalisiert zwischen 0 und 1.</p>
<ul>
<li><code>empathy</code>: Empathiefähigkeit.</li>
<li><code>vengefulness</code>: Rachsucht.</li>
<li><code>forgiveness</code>: Vergebungsbereitschaft.</li>
<li><code>searchForMeaning</code>: Streben nach Sinn.</li>
<li><code>decisionPressure</code>: Entscheidungsdruck.</li>
<li><code>fearOfDeath</code>: Todesangst.</li>
<li><code>boredom</code>: Langeweile.</li>
<li><code>inspiration</code>: Inspiration.</li>
<li><code>fanaticism</code>: Fanatismus.</li>
<li><code>spiritualNeed</code>: Spirituelles Bedürfnis.</li>
<li><code>jealousy</code>: Eifersucht.</li>
</ul>
<h3><code>Beliefs</code></h3>
<pre><code class="language-typescript">export interface Beliefs {
  [key: string]: number;
}
</code></pre>
<p>Repräsentiert die Glaubensvorstellungen eines Agenten oder einer Kultur.  Schlüssel sind Strings, Werte sind numerisch.</p>
<h3><code>Emotions</code></h3>
<pre><code class="language-typescript">export interface Emotions {
    [key: string]: number; 
}
</code></pre>
<p>Repräsentiert die Emotionen eines Agenten. Schlüssel sind Strings, Werte sind numerisch.</p>
<h3><code>Personality</code></h3>
<pre><code class="language-typescript">export interface Personality {
    openness: number; // 0-1
    conscientiousness: number; // 0-1
    extraversion: number; // 0-1
    agreeableness: number; // 0-1
    neuroticism: number; // 0-1
}
</code></pre>
<p>Represents the Big Five personality traits of an agent, with values normalized between 0 and 1.</p>
<ul>
<li><code>openness</code>: Offenheit.</li>
<li><code>conscientiousness</code>: Gewissenhaftigkeit.</li>
<li><code>extraversion</code>: Extraversion.</li>
<li><code>agreeableness</code>: Verträglichkeit.</li>
<li><code>neuroticism</code>: Neurotizismus.</li>
</ul>
<h3><code>Skills</code></h3>
<pre><code class="language-typescript">export interface Skills {
    [key: string]: number; // e.g. { healing: 15, woodcutting: 22, rhetoric: 5 }
}
</code></pre>
<p>Repräsentiert die Fähigkeiten eines Agenten. Schlüssel sind die Fähigkeitsnamen (Strings), Werte sind die Fähigkeitslevel (Zahlen).</p>
<h3><code>GoalType</code></h3>
<pre><code class="language-typescript">export type GoalType = &#39;becomeLeader&#39; | &#39;buildLargeHouse&#39; | &#39;masterSkill&#39; | &#39;avengeRival&#39; | &#39;achieveWealth&#39; | &#39;mentorYoungAgent&#39; | &#39;seekCounseling&#39; | &#39;findMeaning&#39; | &#39;forgiveRival&#39; | &#39;expressGrief&#39;;
</code></pre>
<p>Ein Literal-Typ, der die möglichen Arten von Zielen eines Agenten definiert.</p>
<h3><code>Goal</code></h3>
<pre><code class="language-typescript">export interface Goal {
    type: GoalType;
    status: &#39;active&#39; | &#39;completed&#39; | &#39;failed&#39;;
    progress: number; // 0-100
    description: string;
    targetId?: string;
}
</code></pre>
<p>Repräsentiert das Ziel eines Agenten.</p>
<ul>
<li><code>type</code>: Der Typ des Ziels, aus <code>GoalType</code>.</li>
<li><code>status</code>: Der aktuelle Status des Ziels (<code>active</code>, <code>completed</code>, <code>failed</code>).</li>
<li><code>progress</code>: Der Fortschritt des Ziels, eine Zahl von 0 bis 100.</li>
<li><code>description</code>: Eine Beschreibung des Ziels.</li>
<li><code>targetId</code>: Optional. Die ID eines anderen Agenten oder einer Entität, die mit dem Ziel in Beziehung steht.</li>
</ul>
<h3><code>Trauma</code></h3>
<pre><code class="language-typescript">export interface Trauma {
    event: string;
    timestamp: number;
    intensity: number; // 0-1
}
</code></pre>
<p>Repräsentiert ein traumatisches Ereignis in der Vergangenheit eines Agenten.</p>
<ul>
<li><code>event</code>: Eine Beschreibung des Ereignisses.</li>
<li><code>timestamp</code>: Der Zeitstempel des Ereignisses.</li>
<li><code>intensity</code>: Die Intensität des Traumas, normalisiert zwischen 0 und 1.</li>
</ul>
<h3><code>RelationshipType</code></h3>
<pre><code class="language-typescript">export type RelationshipType = &#39;stranger&#39; | &#39;acquaintance&#39; | &#39;friend&#39; | &#39;rival&#39; | &#39;partner&#39; | &#39;spouse&#39; | &#39;ex-partner&#39;;
</code></pre>
<p>Ein Literal-Typ, der die möglichen Arten von Beziehungen definiert.</p>
<h3><code>Relationship</code></h3>
<pre><code class="language-typescript">export interface Relationship {
    type: RelationshipType;
    score: number;
    disposition: Emotions;
}
</code></pre>
<p>Repräsentiert die Beziehung eines Agenten zu einem anderen Agenten.</p>
<ul>
<li><code>type</code>: Der Typ der Beziehung, aus <code>RelationshipType</code>.</li>
<li><code>score</code>: Ein numerischer Wert, der die Stärke der Beziehung darstellt.</li>
<li><code>disposition</code>: Die Emotionen, die dieser Agent gegenüber dem anderen Agenten empfindet.</li>
</ul>
<h3><code>Resonance</code></h3>
<pre><code class="language-typescript">export interface Resonance {
  [key:string]: number;
}
</code></pre>
<p>Represents the resonance of an agent. Keys are strings, and values are numbers.</p>
<h3><code>LogEntry</code></h3>
<pre><code class="language-typescript">export interface LogEntry {
  key: string;
  params?: { [key: string]: any };
}
</code></pre>
<p>Repräsentiert einen Eintrag im Log.</p>
<ul>
<li><code>key</code>: Ein String, der den Typ des Log-Eintrags angibt.</li>
<li><code>params</code>: Optional. Ein Objekt mit Parametern, die mit dem Log-Eintrag verknüpft sind.</li>
</ul>
<h3><code>SocialMemoryEntry</code></h3>
<pre><code class="language-typescript">export interface SocialMemoryEntry {
  agentId: string;
  action: string;
  result: &#39;accepted&#39; | &#39;rejected&#39; | &#39;initiated&#39; | &#39;reciprocated&#39; | &#39;observed&#39;;
  emotionalImpact: number; // -1 to 1
  timestamp: number;
  info?: string;
}
</code></pre>
<p>Repräsentiert einen Eintrag im sozialen Gedächtnis eines Agenten.</p>
<ul>
<li><code>agentId</code>: Die ID des Agenten, der die Interaktion durchgeführt hat.</li>
<li><code>action</code>: Eine Beschreibung der Aktion.</li>
<li><code>result</code>: Das Ergebnis der Interaktion.</li>
<li><code>emotionalImpact</code>: Der emotionale Einfluss der Interaktion, normalisiert von -1 bis 1.</li>
<li><code>timestamp</code>: Der Zeitstempel der Interaktion.</li>
<li><code>info</code>: Optional. Zusätzliche Informationen über die Interaktion.</li>
</ul>
<h3><code>ResourceType</code></h3>
<pre><code class="language-typescript">export type ResourceType = &#39;food&#39; | &#39;water&#39; | &#39;wood&#39; | &#39;medicine&#39; | &#39;iron&#39; | &#39;coal&#39; | &#39;stone&#39; | &#39;sand&#39; | &#39;clay&#39;;
</code></pre>
<p>Ein Literal-Typ, der die möglichen Ressourcentypen definiert.</p>
<h3><code>CraftedItemType</code></h3>
<pre><code class="language-typescript">export type CraftedItemType = &#39;sword&#39; | &#39;plow&#39; | &#39;advanced_medicine&#39; | &#39;iron_ingot&#39; | &#39;charcoal&#39; | &#39;steel_ingot&#39; | &#39;bricks&#39; | &#39;glass&#39; | &#39;tools&#39; | &#39;furniture&#39; | &#39;pottery&#39;;
</code></pre>
<p>Ein Literal-Typ, der die möglichen Typen von hergestellten Gegenständen definiert.</p>
<h3><code>ItemType</code></h3>
<pre><code class="language-typescript">export type ItemType = ResourceType | CraftedItemType;
</code></pre>
<p>Ein Typ, der entweder ein <code>ResourceType</code> oder ein <code>CraftedItemType</code> sein kann.</p>
<h3><code>Inventory</code></h3>
<pre><code class="language-typescript">export interface Inventory {
  [item: string]: number;
}
</code></pre>
<p>Repräsentiert das Inventar eines Agenten. Schlüssel sind die Namen der Items (Strings), Werte sind die Mengen (Zahlen).</p>
<h3><code>Recipe</code></h3>
<pre><code class="language-typescript">export interface Recipe {
    name: string;
    output: { item: CraftedItemType, quantity: number };
    ingredients: { [key in ItemType]?: number };
    requiredSkill?: { skill: keyof Skills, level: number };
    requiredTech?: string;
}
</code></pre>
<p>Repräsentiert ein Rezept zum Herstellen eines Items.</p>
<ul>
<li><code>name</code>: Der Name des Rezepts.</li>
<li><code>output</code>: Das hergestellte Item und die Menge.<ul>
<li><code>item</code>: Der Typ des Items, aus <code>CraftedItemType</code>.</li>
<li><code>quantity</code>: Die Menge des hergestellten Items.</li>
</ul>
</li>
<li><code>ingredients</code>: Die benötigten Zutaten und Mengen.</li>
<li><code>requiredSkill</code>: Optional. Die benötigte Fähigkeit und das Level, um das Rezept zu verwenden.<ul>
<li><code>skill</code>: Der Name der benötigten Fähigkeit.</li>
<li><code>level</code>: Das erforderliche Level.</li>
</ul>
</li>
<li><code>requiredTech</code>: Optional. Die ID der Technologie, die benötigt wird, um das Rezept zu verwenden.</li>
</ul>
<h3><code>TradeOffer</code></h3>
<pre><code class="language-typescript">export interface TradeOffer {
    offerId: string;
    fromAgentId: string;
    item: ItemType;
    quantity: number;
    price: number; // price per unit
}
</code></pre>
<p>Repräsentiert ein Handelsangebot.</p>
<ul>
<li><code>offerId</code>: Eine eindeutige ID für das Angebot.</li>
<li><code>fromAgentId</code>: Die ID des Agenten, der das Angebot macht.</li>
<li><code>item</code>: Der Typ des Items, das gehandelt wird, aus <code>ItemType</code>.</li>
<li><code>quantity</code>: Die Menge des Items, die gehandelt wird.</li>
<li><code>price</code>: Der Preis pro Einheit des Items.</li>
</ul>
<h3><code>Market</code></h3>
<pre><code class="language-typescript">export interface Market {
    id: string;
    name: string;
    listings: TradeOffer[];
}
</code></pre>
<p>Repräsentiert einen Markt.</p>
<ul>
<li><code>id</code>: Die eindeutige ID des Marktes.</li>
<li><code>name</code>: Der Name des Marktes.</li>
<li><code>listings</code>: Ein Array von <code>TradeOffer</code> Objekten, die die aktuellen Angebote auf dem Markt darstellen.</li>
</ul>
<h3><code>Law</code></h3>
<pre><code class="language-typescript">export interface Law {
    id: string;
    name: string;
    description: string;
    violatingAction: string; // The action name that this law prohibits
    punishment: {
        type: &#39;fine&#39; | &#39;arrest&#39;;
        amount: number; // For fine: amount, for arrest: duration in steps
    };
}
</code></pre>
<p>Repräsentiert ein Gesetz.</p>
<ul>
<li><code>id</code>: Die eindeutige ID des Gesetzes.</li>
<li><code>name</code>: Der Name des Gesetzes.</li>
<li><code>description</code>: Eine Beschreibung des Gesetzes.</li>
<li><code>violatingAction</code>: Der Name der Aktion, die das Gesetz verbietet.</li>
<li><code>punishment</code>: Die Strafe für die Verletzung des Gesetzes.<ul>
<li><code>type</code>: Der Typ der Strafe (<code>fine</code> oder <code>arrest</code>).</li>
<li><code>amount</code>: Der Betrag für eine Geldstrafe oder die Dauer der Verhaftung in Schritten.</li>
</ul>
</li>
</ul>
<h3><code>Government</code></h3>
<pre><code class="language-typescript">export interface Government {
    type: &#39;monarchy&#39; | &#39;democracy&#39;;
    leaderId: string | null;
    laws: Law[];
}
</code></pre>
<p>Repräsentiert die Regierung.</p>
<ul>
<li><code>type</code>: Der Typ der Regierung (<code>monarchy</code> oder <code>democracy</code>).</li>
<li><code>leaderId</code>: Die ID des Anführers, oder <code>null</code> wenn es keinen gibt.</li>
<li><code>laws</code>: Ein Array von <code>Law</code> Objekten, die die geltenden Gesetze darstellen.</li>
</ul>
<h3><code>Election</code></h3>
<pre><code class="language-typescript">export interface Election {
    isActive: boolean;
    candidates: string[];
    votes: { [candidateId: string]: number };
    termEndDate: number;
}
</code></pre>
<p>Repräsentiert eine Wahl.</p>
<ul>
<li><code>isActive</code>: Gibt an, ob die Wahl aktiv ist.</li>
<li><code>candidates</code>: Ein Array von IDs der Kandidaten.</li>
<li><code>votes</code>: Ein Objekt, das die Stimmen für jeden Kandidaten speichert.</li>
<li><code>termEndDate</code>: Der Zeitstempel, an dem die Amtszeit endet.</li>
</ul>
<h3><code>Technology</code></h3>
<pre><code class="language-typescript">export interface Technology {
    id: string;
    name: string;
    description: string;
    researchCost: number;
    unlocks: {
        actions?: string[];
        recipes?: string[];
    };
    requiredTech?: string[];
}
</code></pre>
<p>Repräsentiert eine Technologie.</p>
<ul>
<li><code>id</code>: Die eindeutige ID der Technologie.</li>
<li><code>name</code>: Der Name der Technologie.</li>
<li><code>description</code>: Eine Beschreibung der Technologie.</li>
<li><code>researchCost</code>: Die Kosten für die Erforschung der Technologie.</li>
<li><code>unlocks</code>: Ein Objekt, das die Dinge auflistet, die durch die Technologie freigeschaltet werden.<ul>
<li><code>actions</code>: Ein Array von Aktionsnamen, die freigeschaltet werden.</li>
<li><code>recipes</code>: Ein Array von Rezeptnamen, die freigeschaltet werden.</li>
</ul>
</li>
<li><code>requiredTech</code>: Ein Array von IDs der Technologien, die für die Erforschung dieser Technologie benötigt werden.</li>
</ul>
<h3><code>LongTermMemory</code></h3>
<pre><code class="language-typescript">export interface LongTermMemory {
    content: string;
    embedding: number[];
    timestamp: number;
}
</code></pre>
<p>Repräsentiert eine Eintrag im Langzeitgedächtnis eines Agenten.</p>
<ul>
<li><code>content</code>: Der Textinhalt des Speichereintrags.</li>
<li><code>embedding</code>: Ein numerisches Array, das die Einbettung des Inhalts darstellt (z. B. für semantische Suche).</li>
<li><code>timestamp</code>: Der Zeitstempel des Speichereintrags.</li>
</ul>
<h3><code>JailJournalEntry</code></h3>
<pre><code class="language-typescript">export interface JailJournalEntry {
  timestamp: number;
  entry: string;
}
</code></pre>
<p>Repräsentiert einen Eintrag in einem Gefängnis-Journal.</p>
<ul>
<li><code>timestamp</code>: Der Zeitstempel des Eintrags.</li>
<li><code>entry</code>: Der Textinhalt des Eintrags.</li>
</ul>
<h3><code>Agent</code></h3>
<pre><code class="language-typescript">export interface Agent {
  id: string;
  name: string;
  description: string;
  x: number;
  y: number;
  beliefNetwork: Beliefs;
  emotions: Emotions;
  resonance: Resonance;
  socialMemory: SocialMemoryEntry[];
  longTermMemory: LongTermMemory[];
  lastActions: Action[];
  adminAgent: boolean;
  health: number;
  isAlive: boolean;
  sickness?: string | null;
  conversationHistory: { speakerName: string; message: string; }[];
  age: number;
  genome: string[];
  relationships: { [agentId: string]: Relationship };
  cultureId: string | null;
  religionId: string | null;
  role: string | null;
  offspringCount: number;
  childrenIds?: string[];
  hunger: number;
  thirst: number;
  fatigue: number;
  inventory: Inventory;
  personality: Personality;
  goals: Goal[];
  stress: number;
  socialStatus: number;
  skills: Skills;
  trauma: Trauma[];
  psyche: Psyche;
  unconsciousState?: { [key: string]: number };
  // --- NEW ECONOMIC PROPERTIES ---
  currency: number;
  imprisonedUntil?: number;
  jailJournal?: JailJournalEntry[];
  job?: { factoryId: string, role: &#39;worker&#39; | &#39;owner&#39; };
  // --- NEW LEARNING PROPERTIES ---
  qTable: { [stateAction: string]: number; };
  lastStressLevel?: number;
}
</code></pre>
<p>Repräsentiert einen Agenten (eine KI-Entität) in der Simulation.</p>
<ul>
<li><code>id</code>: Die eindeutige ID des Agenten.</li>
<li><code>name</code>: Der Name des Agenten.</li>
<li><code>description</code>: Eine Beschreibung des Agenten.</li>
<li><code>x</code>: Die x-Koordinate des Agenten.</li>
<li><code>y</code>: Die y-Koordinate des Agenten.</li>
<li><code>beliefNetwork</code>: Das Glaubensnetzwerk des Agenten, vom Typ <code>Beliefs</code>.</li>
<li><code>emotions</code>: Die Emotionen des Agenten, vom Typ <code>Emotions</code>.</li>
<li><code>resonance</code>: Die Resonanz des Agenten, vom Typ <code>Resonance</code>.</li>
<li><code>socialMemory</code>: Das soziale Gedächtnis des Agenten, ein Array von <code>SocialMemoryEntry</code> Objekten.</li>
<li><code>longTermMemory</code>: Das Langzeitgedächtnis des Agenten, ein Array von <code>LongTermMemory</code> Objekten.</li>
<li><code>lastActions</code>: Ein Array der letzten Aktionen des Agenten, vom Typ <code>Action</code>.</li>
<li><code>adminAgent</code>: Ein boolescher Wert, der angibt, ob der Agent ein Administrator ist.</li>
<li><code>health</code>: Die Gesundheit des Agenten.</li>
<li><code>isAlive</code>: Ein boolescher Wert, der angibt, ob der Agent am Leben ist.</li>
<li><code>sickness</code>: Optional. Der Name der Krankheit, falls der Agent krank ist.</li>
<li><code>conversationHistory</code>: Der Konversationsverlauf des Agenten, ein Array von Objekten mit den Eigenschaften <code>speakerName</code> (String) und <code>message</code> (String).</li>
<li><code>age</code>: Das Alter des Agenten.</li>
<li><code>genome</code>: Ein Array von Strings, das das Genom des Agenten darstellt.</li>
<li><code>relationships</code>: Die Beziehungen des Agenten zu anderen Agenten, ein Objekt, dessen Schlüssel die Agenten-IDs und dessen Werte <code>Relationship</code> Objekte sind.</li>
<li><code>cultureId</code>: Die ID der Kultur, zu der der Agent gehört, oder <code>null</code>.</li>
<li><code>religionId</code>: Die ID der Religion, zu der der Agent gehört, oder <code>null</code>.</li>
<li><code>role</code>: Die Rolle des Agenten, oder <code>null</code>.</li>
<li><code>offspringCount</code>: Die Anzahl der Nachkommen des Agenten.</li>
<li><code>childrenIds</code>: Optional. Ein Array von IDs der Kinder des Agenten.</li>
<li><code>hunger</code>: Der Hunger des Agenten.</li>
<li><code>thirst</code>: Der Durst des Agenten.</li>
<li><code>fatigue</code>: Die Müdigkeit des Agenten.</li>
<li><code>inventory</code>: Das Inventar des Agenten, vom Typ <code>Inventory</code>.</li>
<li><code>personality</code>: Die Persönlichkeit des Agenten, vom Typ <code>Personality</code>.</li>
<li><code>goals</code>: Die Ziele des Agenten, ein Array von <code>Goal</code> Objekten.</li>
<li><code>stress</code>: Der Stresslevel des Agenten.</li>
<li><code>socialStatus</code>: Der soziale Status des Agenten.</li>
<li><code>skills</code>: Die Fähigkeiten des Agenten, vom Typ <code>Skills</code>.</li>
<li><code>trauma</code>: Die Traumata des Agenten, ein Array von <code>Trauma</code> Objekten.</li>
<li><code>psyche</code>: Die Psyche des Agenten, vom Typ <code>Psyche</code>.</li>
<li><code>unconsciousState</code>: Optional. Ein Objekt, das den unbewussten Zustand des Agenten repräsentiert.</li>
<li><code>currency</code>: Die Währung des Agenten.</li>
<li><code>imprisonedUntil</code>: Der Zeitstempel, bis zu dem der Agent inhaftiert ist, oder <code>undefined</code>.</li>
<li><code>jailJournal</code>: Optional. Ein Array von <code>JailJournalEntry</code> Objekten, die das Gefängnis-Journal des Agenten darstellen.</li>
<li><code>job</code>: Optional. Ein Objekt, das den Job des Agenten repräsentiert.<ul>
<li><code>factoryId</code>: Die ID der Fabrik.</li>
<li><code>role</code>: Die Rolle des Agenten in der Fabrik (<code>worker</code> oder <code>owner</code>).</li>
</ul>
</li>
<li><code>qTable</code>: Ein Objekt, das die Q-Tabelle des Agenten für Reinforcement Learning speichert.</li>
<li><code>lastStressLevel</code>: Optional. Der letzte Stresslevel des Agenten.</li>
</ul>
<h3><code>Entity</code></h3>
<pre><code class="language-typescript">export interface Entity {
  id: string;
  name: string;
  description: string;
  x: number;
  y: number;
  isResource?: boolean;
  resourceType?: ResourceType;
  quantity?: number;
  ownerId?: string | null;
  // --- NEW PROPERTIES ---
  isMarketplace?: boolean;
  isJail?: boolean;
  isFactory?: boolean;
  factoryDetails?: {
    product: CraftedItemType;
    efficiency: number; // e.g., 1.0 for standard output
    employees: string[];
  };
  inmates?: string[];
}
</code></pre>
<p>Repräsentiert eine Entität (z. B. ein Gebäude, eine Ressource) in der Simulation.</p>
<ul>
<li><code>id</code>: Die eindeutige ID der Entität.</li>
<li><code>name</code>: Der Name der Entität.</li>
<li><code>description</code>: Eine Beschreibung der Entität.</li>
<li><code>x</code>: Die x-Koordinate der Entität.</li>
<li><code>y</code>: Die y-Koordinate der Entität.</li>
<li><code>isResource</code>: Optional. Ein boolescher Wert, der angibt, ob die Entität eine Ressource ist.</li>
<li><code>resourceType</code>: Optional. Der Typ der Ressource, falls <code>isResource</code> <code>true</code> ist, aus <code>ResourceType</code>.</li>
<li><code>quantity</code>: Optional. Die Menge der Ressource, falls <code>isResource</code> <code>true</code> ist.</li>
<li><code>ownerId</code>: Optional. Die ID des Besitzers der Entität, oder <code>null</code>.</li>
<li><code>isMarketplace</code>: Optional. Ein boolescher Wert, der angibt, ob die Entität ein Marktplatz ist.</li>
<li><code>isJail</code>: Optional. Ein boolescher Wert, der angibt, ob die Entität ein Gefängnis ist.</li>
<li><code>isFactory</code>: Optional. Ein boolescher Wert, der angibt, ob die Entität eine Fabrik ist.</li>
<li><code>factoryDetails</code>: Optional. Details über die Fabrik, falls <code>isFactory</code> <code>true</code> ist.<ul>
<li><code>product</code>: Das Produkt, das in der Fabrik hergestellt wird, aus <code>CraftedItemType</code>.</li>
<li><code>efficiency</code>: Die Effizienz der Fabrik.</li>
<li><code>employees</code>: Ein Array von IDs der Angestellten.</li>
</ul>
</li>
<li><code>inmates</code>: Optional. Ein Array von IDs der Insassen des Gefängnisses.</li>
</ul>
<h3><code>EnvironmentState</code></h3>
<pre><code class="language-typescript">export interface EnvironmentState {
  [key: string]: any;
  width: number;
  height: number;
  time: number;
  // --- NEW POLITICAL PROPERTIES ---
  election: Election | null;
}
</code></pre>
<p>Repräsentiert den Zustand der Umgebung in der Simulation.</p>
<ul>
<li><code>[key: string]: any</code>: Platzhalter für zusätzliche umgebungsspezifische Daten.</li>
<li><code>width</code>: Die Breite der Umgebung.</li>
<li><code>height</code>: Die Höhe der Umgebung.</li>
<li><code>time</code>: Der aktuelle Zeitpunkt in der Simulation.</li>
<li><code>election</code>: Die aktuelle Wahl, vom Typ <code>Election</code>, oder <code>null</code>.</li>
</ul>
<h3><code>Religion</code></h3>
<pre><code class="language-typescript">export interface Religion {
  id: string;
  name: string;
  dogma: Beliefs;
  memberIds: string[];
}
</code></pre>
<p>Repräsentiert eine Religion.</p>
<ul>
<li><code>id</code>: Die eindeutige ID der Religion.</li>
<li><code>name</code>: Der Name der Religion.</li>
<li><code>dogma</code>: Die Glaubensvorstellungen der Religion, vom Typ <code>Beliefs</code>.</li>
<li><code>memberIds</code>: Ein Array von IDs der Mitglieder.</li>
</ul>
<h3><code>Culture</code></h3>
<pre><code class="language-typescript">export interface Culture {
  id:string;
  name: string;
  sharedBeliefs: Beliefs;
  memberIds: string[];
  // --- NEW TECH/LEARNING PROPERTIES ---
  researchPoints: number;
  knownTechnologies: string[];
}
</code></pre>
<p>Repräsentiert eine Kultur.</p>
<ul>
<li><code>id</code>: Die eindeutige ID der Kultur.</li>
<li><code>name</code>: Der Name der Kultur.</li>
<li><code>sharedBeliefs</code>: Die gemeinsamen Glaubensvorstellungen der Kultur, vom Typ <code>Beliefs</code>.</li>
<li><code>memberIds</code>: Ein Array von IDs der Mitglieder.</li>
<li><code>researchPoints</code>: Die Forschungspunkte der Kultur.</li>
<li><code>knownTechnologies</code>: Ein Array von IDs der bekannten Technologien.</li>
</ul>
<h3><code>Transaction</code></h3>
<pre><code class="language-typescript">export interface Transaction {
    from: string; // agentId or special source like &#39;WORLD&#39;, &#39;NATURE&#39;
    to: string; // agentId or special sink like &#39;MARKET&#39;
    item: ItemType | &#39;currency&#39;;
    quantity: number;
    step: number;
}
</code></pre>
<p>Repräsentiert eine Transaktion.</p>
<ul>
<li><code>from</code>: Die ID des Senders der Transaktion (Agent-ID oder spezielle Quelle wie &#39;WORLD&#39; oder &#39;NATURE&#39;).</li>
<li><code>to</code>: Die ID des Empfängers der Transaktion (Agent-ID oder spezielle Senke wie &#39;MARKET&#39;).</li>
<li><code>item</code>: Der Typ des Items, das transaktioniert wird, oder &#39;currency&#39;, aus <code>ItemType</code>.</li>
<li><code>quantity</code>: Die Menge des Items, das transaktioniert wird.</li>
<li><code>step</code>: Der aktuelle Simulationsschritt.</li>
</ul>
<h3><code>ActionContext</code></h3>
<pre><code class="language-typescript">export interface ActionContext {
    language: Language;
    marketPrices: { [item: string]: number };
    addListingToMarket: (marketId: string, offer: { fromAgentId: string, item: ItemType, quantity: number}) =&gt; void;
    executeTrade: (buyer: Agent, offer: TradeOffer) =&gt; void;
    castVote: (candidateId: string) =&gt; void;
    declareCandidacy: (agentId: string) =&gt; void;
    enactLaw: (law: Law) =&gt; void;
    addResearchPoints: (cultureId: string, points: number) =&gt; void;
    addSocialMemory: (agentId: string, memory: SocialMemoryEntry) =&gt; void;
    logTransaction: (transaction: Omit&lt;Transaction, &#39;step&#39;&gt;) =&gt; void;
}
</code></pre>
<p>Repräsentiert den Kontext, der für die Ausführung einer Aktion bereitgestellt wird.</p>
<ul>
<li><code>language</code>: Die aktuelle Sprache, vom Typ <code>Language</code>.</li>
<li><code>marketPrices</code>: Ein Objekt, das die aktuellen Marktpreise für Items speichert.  Schlüssel sind Item-Namen (Strings), Werte sind Preise (Zahlen).</li>
<li><code>addListingToMarket</code>: Eine Funktion zum Hinzufügen eines Angebots zum Markt.<ul>
<li><code>marketId</code>: Die ID des Marktes.</li>
<li><code>offer</code>: Das Angebot.<ul>
<li><code>fromAgentId</code>: Die ID des Agenten, der das Angebot macht.</li>
<li><code>item</code>: Der Item-Typ.</li>
<li><code>quantity</code>: Die Menge.</li>
</ul>
</li>
</ul>
</li>
<li><code>executeTrade</code>: Eine Funktion zum Ausführen eines Handels.<ul>
<li><code>buyer</code>: Der Käufer, vom Typ <code>Agent</code>.</li>
<li><code>offer</code>: Das Handelsangebot, vom Typ <code>TradeOffer</code>.</li>
</ul>
</li>
<li><code>castVote</code>: Eine Funktion zum Abgeben einer Stimme.<ul>
<li><code>candidateId</code>: Die ID des Kandidaten.</li>
</ul>
</li>
<li><code>declareCandidacy</code>: Eine Funktion zum Bekanntgeben der Kandidatur.<ul>
<li><code>agentId</code>: Die ID des Agenten.</li>
</ul>
</li>
<li><code>enactLaw</code>: Eine Funktion zum Erlassen eines Gesetzes.<ul>
<li><code>law</code>: Das Gesetz, vom Typ <code>Law</code>.</li>
</ul>
</li>
<li><code>addResearchPoints</code>: Eine Funktion zum Hinzufügen von Forschungspunkten.<ul>
<li><code>cultureId</code>: Die ID der Kultur.</li>
<li><code>points</code>: Die Anzahl der Punkte.</li>
</ul>
</li>
<li><code>addSocialMemory</code>: Eine Funktion zum Hinzufügen eines Eintrags zum sozialen Gedächtnis eines Agenten.<ul>
<li><code>agentId</code>: Die ID des Agenten.</li>
<li><code>memory</code>: Der soziale Gedächtniseintrag, vom Typ <code>SocialMemoryEntry</code>.</li>
</ul>
</li>
<li><code>logTransaction</code>: Eine Funktion zum Loggen einer Transaktion.<ul>
<li><code>transaction</code>: Die Transaktion, vom Typ <code>Transaction</code>.</li>
</ul>
</li>
</ul>
<h3><code>ActionEffect</code></h3>
<pre><code class="language-typescript">export interface ActionEffect {
    statChanges?: {
        health?: number;
        hunger?: number;
        thirst?: number;
        fatigue?: number;
        stress?: number;
        currency?: number;
    };
    costs?: { [item: string]: number };
    skillGain?: {
        skill: keyof Skills;
        amount: number;
    };
}
</code></pre>
<p>Repräsentiert die Auswirkungen einer Aktion.</p>
<ul>
<li><code>statChanges</code>: Optional. Änderungen an den Statistiken des Agenten.<ul>
<li><code>health</code>: Änderung der Gesundheit.</li>
<li><code>hunger</code>: Änderung des Hungers.</li>
<li><code>thirst</code>: Änderung des Durstes.</li>
<li><code>fatigue</code>: Änderung der Müdigkeit.</li>
<li><code>stress</code>: Änderung des Stresslevels.</li>
<li><code>currency</code>: Änderung der Währung.</li>
</ul>
</li>
<li><code>costs</code>: Optional. Kosten für die Ausführung der Aktion, die in der Regel Ressourcen sind. Schlüssel sind die Item-Namen, Werte sind die Mengen.</li>
<li><code>skillGain</code>: Optional. Erhöhung einer Fähigkeit.<ul>
<li><code>skill</code>: Der Name der Fähigkeit.</li>
<li><code>amount</code>: Der Zuwachs der Fähigkeit.</li>
</ul>
</li>
</ul>
<h3><code>Action</code></h3>
<pre><code class="language-typescript">export interface Action {
  name: string;
  description: string;
  beliefKey?: string;
  isIllegal?: boolean; // Dynamically set by simulation based on laws
  onSuccess?: { belief: string; delta: number; };
  onFailure?: { belief: string; delta: number; };
  effects?: ActionEffect;
  execute?: (agent: Agent, allAgents: Map&lt;string, Agent&gt;, allEntities: Map&lt;string, Entity&gt;, worldState: WorldState, context: ActionContext) =&gt; Promise&lt;ActionExecutionResult&gt;;
}
</code></pre>
<p>Repräsentiert eine Aktion, die von einem Agenten ausgeführt werden kann.</p>
<ul>
<li><code>name</code>: Der Name der Aktion.</li>
<li><code>description</code>: Eine Beschreibung der Aktion.</li>
<li><code>beliefKey</code>: Optional. Der Schlüssel des Glaubens, der von der Aktion beeinflusst wird.</li>
<li><code>isIllegal</code>: Optional. Ob die Aktion illegal ist. Wird dynamisch von der Simulation basierend auf Gesetzen gesetzt.</li>
<li><code>onSuccess</code>: Optional. Auswirkungen auf den Glauben bei Erfolg.<ul>
<li><code>belief</code>: Der Name des Glaubens, der beeinflusst wird.</li>
<li><code>delta</code>: Die Änderung des Glaubenswerts.</li>
</ul>
</li>
<li><code>onFailure</code>: Optional. Auswirkungen auf den Glauben bei Misserfolg.<ul>
<li><code>belief</code>: Der Name des Glaubens, der beeinflusst wird.</li>
<li><code>delta</code>: Die Änderung des Glaubenswerts.</li>
</ul>
</li>
<li><code>effects</code>: Optional. Die Auswirkungen der Aktion, vom Typ <code>ActionEffect</code>.</li>
<li><code>execute</code>: Optional. Eine Funktion, die die Aktion ausführt.<ul>
<li><code>agent</code>: Der Agent, der die Aktion ausführt, vom Typ <code>Agent</code>.</li>
<li><code>allAgents</code>: Eine Map aller Agenten, wobei die Schlüssel die Agenten-IDs sind.</li>
<li><code>allEntities</code>: Eine Map aller Entitäten, wobei die Schlüssel die Entitäten-IDs sind.</li>
<li><code>worldState</code>: Der aktuelle Weltzustand, vom Typ <code>WorldState</code>.</li>
<li><code>context</code>: Der Aktionskontext, vom Typ <code>ActionContext</code>.</li>
<li>Rückgabewert: Ein Promise, das ein <code>ActionExecutionResult</code> zurückgibt.</li>
</ul>
</li>
</ul>
<h3><code>WorldState</code></h3>
<pre><code class="language-typescript">export interface WorldState {
  environment: EnvironmentState;
  agents: Agent[];
  entities: Entity[];
  actions: Action[];
  cultures: Culture[];
  religions: Religion[];
  // --- NEW WORLD-LEVEL STATES ---
  government: Government;
  markets: Market[];
  techTree: Technology[];
  recipes: Recipe[];
  marketPrices?: { [item: string]: number };
  transactions?: Transaction[];
}
</code></pre>
<p>Repräsentiert den gesamten Zustand der Welt in der Simulation.</p>
<ul>
<li><code>environment</code>: Der Zustand der Umgebung, vom Typ <code>EnvironmentState</code>.</li>
<li><code>agents</code>: Ein Array von Agenten, vom Typ <code>Agent</code>.</li>
<li><code>entities</code>: Ein Array von Entitäten, vom Typ <code>Entity</code>.</li>
<li><code>actions</code>: Ein Array von Aktionen, vom Typ <code>Action</code>.</li>
<li><code>cultures</code>: Ein Array von Kulturen, vom Typ <code>Culture</code>.</li>
<li><code>religions</code>: Ein Array von Religionen, vom Typ <code>Religion</code>.</li>
<li><code>government</code>: Die Regierung, vom Typ <code>Government</code>.</li>
<li><code>markets</code>: Ein Array von Märkten, vom Typ <code>Market</code>.</li>
<li><code>techTree</code>: Ein Array von Technologien, vom Typ <code>Technology</code>.</li>
<li><code>recipes</code>: Ein Array von Rezepten, vom Typ <code>Recipe</code>.</li>
<li><code>marketPrices</code>: Optional. Die Marktpreise, ein Objekt, wobei Schlüssel Item-Namen sind und Werte die Preise.</li>
<li><code>transactions</code>: Optional. Ein Array von Transaktionen.</li>
</ul>
<h3><code>ActionExecutionResult</code></h3>
<pre><code class="language-typescript">export interface ActionExecutionResult {
    log: LogEntry;
    status: &#39;success&#39; | &#39;failure&#39; | &#39;neutral&#39;;
    reward: number;
    sideEffects?: {
        createAgent?: Partial&lt;Agent&gt; &amp; { description: string, parents: [Agent, Agent] };
        updateReligion?: { agentId: string, newReligionId: string | null };
        createEntity?: Partial&lt;Entity&gt; &amp; { ownerId?: string };
        addTrauma?: { agentId: string, trauma: Trauma };
        inventTechnology?: Technology;
        createRecipe?: Recipe;
        createAction?: Partial&lt;Action&gt; &amp; { name: string, description: string };
        createCulture?: Partial&lt;Culture&gt; &amp; { name: string, sharedBeliefs: Beliefs, founderId: string };
        updateAgentCulture?: { agentId: string, newCultureId: string | null };
    }
}
</code></pre>
<p>Repräsentiert das Ergebnis der Ausführung einer Aktion.</p>
<ul>
<li><code>log</code>: Der Log-Eintrag für die Aktion, vom Typ <code>LogEntry</code>.</li>
<li><code>status</code>: Der Status der Aktion (<code>success</code>, <code>failure</code>, <code>neutral</code>).</li>
<li><code>reward</code>: Die Belohnung für die Ausführung der Aktion.</li>
<li><code>sideEffects</code>: Optional.  Nebenwirkungen der Aktion.<ul>
<li><code>createAgent</code>:  Erstellt einen neuen Agenten.<ul>
<li><code>description</code>: Die Beschreibung des Agenten.</li>
<li><code>parents</code>: Ein Array von zwei Agenten, die die Eltern des neuen Agenten darstellen.</li>
</ul>
</li>
<li><code>updateReligion</code>:  Aktualisiert die Religion eines Agenten.<ul>
<li><code>agentId</code>: Die ID des Agenten.</li>
<li><code>newReligionId</code>: Die ID der neuen Religion, oder <code>null</code>.</li>
</ul>
</li>
<li><code>createEntity</code>:  Erstellt eine neue Entität.<ul>
<li><code>ownerId</code>:  Optional.  Die ID des Besitzers der Entität.</li>
</ul>
</li>
<li><code>addTrauma</code>: Fügt einem Agenten ein Trauma hinzu.<ul>
<li><code>agentId</code>: Die ID des Agenten.</li>
<li><code>trauma</code>: Das Trauma, vom Typ <code>Trauma</code>.</li>
</ul>
</li>
<li><code>inventTechnology</code>:  Erfindet eine neue Technologie.<ul>
<li><code>technology</code>:  Die Technologie, vom Typ <code>Technology</code>.</li>
</ul>
</li>
<li><code>createRecipe</code>:  Erstellt ein neues Rezept.<ul>
<li><code>recipe</code>: Das Rezept, vom Typ <code>Recipe</code>.</li>
</ul>
</li>
<li><code>createAction</code>: Erstellt eine neue Aktion.</li>
<li><code>createCulture</code>:  Erstellt eine neue Kultur.<ul>
<li><code>name</code>: Der Name der Kultur.</li>
<li><code>sharedBeliefs</code>: Die gemeinsamen Glaubensvorstellungen der Kultur.</li>
<li><code>founderId</code>: Die ID des Gründers.</li>
</ul>
</li>
<li><code>updateAgentCulture</code>: Aktualisiert die Kultur eines Agenten.<ul>
<li><code>agentId</code>: Die ID des Agenten.</li>
<li><code>newCultureId</code>: Die ID der neuen Kultur, oder <code>null</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><code>PsychoReport</code></h3>
<pre><code class="language-typescript">export interface PsychoReport {
  Psychodynamik: string;
  Persönlichkeitsbild: string;
  Beziehungsdynamik: string;
  &#39;Traumatische Spuren oder psychische Belastung&#39;: string;
  &#39;Kulturelle &amp; spirituelle Verarbeitung&#39;: string;
  &#39;Projektionen oder Verschiebungen&#39;: string;
  &#39;Therapeutische Empfehlung&#39;: string;
  unconscious_modifiers?: { [key: string
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-package-json" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> package.json</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## package.json

Dieses Dokument beschreibt die Metadaten und Abhängigkeiten eines JavaScript-Projekts.

### Metadaten

*   **name:** `&quot;ver.-28-realitysim-ai&quot;` - Der Name des Projekts.  Enthält Versionsinformationen und deutet auf ein KI-gestütztes Reality-Simulationsprojekt hin.
*   **private:** `true` -  Gibt an, dass das Projekt privat ist und nicht in der npm-Registry veröffentlicht werden soll.
*   **version:** `&quot;0.0.0&quot;` - Die aktuelle Version des Projekts.  Verwendet das Semantic Versioning-Schema.
*   **type:** `&quot;module&quot;` - Gibt an, dass das Projekt ES-Module verwendet.

### Skripte

*   **scripts:**  Ein Objekt, das Befehle definiert, die mit `npm run &lt;script&gt;` ausgeführt werden können.
    *   **dev:** `&quot;vite&quot;` - Startet einen lokalen Entwicklungsserver mit Vite.
    *   **build:** `&quot;vite build&quot;` - Baut das Projekt für die Produktion mit Vite.
    *   **preview:** `&quot;vite preview&quot;` - Startet eine lokale Vorschau der Produktion mit Vite.

### Abhängigkeiten

*   **dependencies:**  Ein Objekt, das die Abhängigkeiten des Projekts zur Laufzeit auflistet.
    *   **react:** `&quot;^19.1.1&quot;` -  Die React-Bibliothek für die Erstellung von User Interfaces.  Das Caret-Symbol `^` bedeutet, dass die angegebene Version oder eine kompatible, neuere Version verwendet wird.
    *   **react-dom:** `&quot;^19.1.1&quot;` -  Die React DOM-Bibliothek, die React-Komponenten im DOM rendert.  Das Caret-Symbol `^` bedeutet, dass die angegebene Version oder eine kompatible, neuere Version verwendet wird.
    *   **@google/genai:** `&quot;^1.11.0&quot;` -  Die Google Generative AI-Bibliothek.  Das Caret-Symbol `^` bedeutet, dass die angegebene Version oder eine kompatible, neuere Version verwendet wird.
    *   **recharts:** `&quot;^3.1.0&quot;` -  Eine React-basierte Charting-Bibliothek.  Das Caret-Symbol `^` bedeutet, dass die angegebene Version oder eine kompatible, neuere Version verwendet wird.

### Entwicklungsabhängigkeiten

*   **devDependencies:**  Ein Objekt, das Abhängigkeiten auflistet, die nur während der Entwicklung benötigt werden.
    *   **@types/node:** `&quot;^22.14.0&quot;` - TypeScript-Typdefinitionen für Node.js.  Das Caret-Symbol `^` bedeutet, dass die angegebene Version oder eine kompatible, neuere Version verwendet wird.
    *   **typescript:** `&quot;~5.8.2&quot;` - Die TypeScript-Sprache und der Compiler.  Das Tilde-Symbol `~` bedeutet, dass eine Patch-Version oder kompatible, neuere Version verwendet wird.
    *   **vite:** `&quot;^6.2.0&quot;` -  Ein schnelles Build-Tool für moderne Webanwendungen.  Das Caret-Symbol `^` bedeutet, dass die angegebene Version oder eine kompatible, neuere Version verwendet wird.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-index-html" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> index.html</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## index.html

Diese Datei ist die Haupteintrittspunkt-HTML-Datei für eine React-Anwendung. Sie definiert die grundlegende Struktur der Seite und lädt benötigte Ressourcen, wie CSS-Dateien und JavaScript-Module.

### Struktur

*   **`&lt;!DOCTYPE html&gt;`**: Deklariert den Dokumenttyp als HTML5.
*   **`&lt;html lang=&quot;en&quot;&gt;`**: Das Wurzelelement der HTML-Seite, deklariert die Sprache als Englisch.
    *   **`&lt;head&gt;`**: Enthält Meta-Informationen über die HTML-Seite.
        *   **`&lt;meta charset=&quot;UTF-8&quot; /&gt;`**: Legt die Zeichenkodierung auf UTF-8 fest.
        *   **`&lt;link rel=&quot;icon&quot; type=&quot;image/svg+xml&quot; href=&quot;/vite.svg&quot; /&gt;`**: Verknüpft ein SVG-Icon für die Webseite.
        *   **`&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;`**: Konfiguriert die Viewport-Einstellungen für responsives Design.
        *   **`&lt;title&gt;RealitySim AI&lt;/title&gt;`**: Definiert den Titel der Webseite, der in der Browser-Registerkarte angezeigt wird.
        *   **`&lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;`**: Lädt Tailwind CSS über eine CDN.
        *   **`&lt;script&gt;`**: Konfiguriert Tailwind CSS.
            *   **`tailwind.config`**: Konfigurationsobjekt für Tailwind CSS.
                *   **`theme`**: Definiert das Theme der Anwendung.
                    *   **`extend`**: Erweitert das Standard-Theme.
                        *   **`colors`**: Definiert benutzerdefinierte Farben.
                            *   **`slate`**: Definiert eine Farbskala.
                                *   **`850`**:  Farbe `#172033`.
        *   **`&lt;script type=&quot;importmap&quot;&gt;`**: Definiert eine Import Map, um Modulpfade zu vereinfachen.
            *   **`imports`**: Ein Objekt, das Modulnamen auf URLs abbildet.
                *   **`&quot;react/&quot;`**:  Mapped  `react/` auf `https://esm.sh/react@^19.1.1/`.
                *   **`&quot;react&quot;`**: Mapped `react` auf `https://esm.sh/react@^19.1.1`.
                *   **`&quot;react-dom/&quot;`**: Mapped `react-dom/` auf `https://esm.sh/react-dom@^19.1.1/`.
                *   **`&quot;@google/genai&quot;`**: Mapped `@google/genai` auf `https://esm.sh/@google/genai@^1.11.0`.
                *   **`&quot;recharts&quot;`**: Mapped `recharts` auf `https://esm.sh/recharts@^3.1.0`.
        *   **`&lt;link rel=&quot;stylesheet&quot; href=&quot;/index.css&quot;&gt;`**: Verknüpft eine CSS-Datei namens `index.css`.
    *   **`&lt;body&gt;`**: Enthält den sichtbaren Inhalt der HTML-Seite.
        *   **`class=&quot;bg-slate-900 text-slate-200&quot;`**:  Wendets  Tailwind CSS Klassen an, um den Hintergrund auf die Farbe `slate-900` zu setzen und die Textfarbe auf `slate-200`.
        *   **`&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;`**: Ein Container-Element mit der ID &quot;root&quot;, in das die React-Anwendung gerendert wird.
        *   **`&lt;script type=&quot;module&quot; src=&quot;/index.tsx&quot;&gt;&lt;/script&gt;`**: Lädt ein JavaScript-Modul namens `index.tsx`.  Dieses Modul ist der Haupteintrittspunkt für die React-Anwendung.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-index-tsx" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> index.tsx</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## index.tsx

Diese Datei ist der Einstiegspunkt (Entrypoint) für die React-Anwendung. Sie rendert die Hauptkomponente `App` innerhalb von zwei Context Providern.

**Importe:**

*   `React`: Das React-JavaScript-Framework.
*   `ReactDOM`: Das React DOM-Paket, das für das Rendern von React-Komponenten im DOM verwendet wird.
*   `App`: Die Hauptkomponente der Anwendung, definiert in `./App`.
*   `LanguageProvider`: Ein React Context Provider, der Sprachinformationen bereitstellt, importiert aus `./contexts/LanguageContext`.
*   `SettingsProvider`: Ein React Context Provider, der Anwendungseinstellungen bereitstellt, importiert aus `./contexts/SettingsContext`.

**Variablen:**

*   `rootElement`: Sucht das DOM-Element mit der ID &quot;root&quot;.
    *   Typ: `HTMLElement | null`
    *   Wert: Das DOM-Element mit der ID &quot;root&quot; oder `null`, falls kein Element gefunden wird.
*   `root`: Erstellt eine React-Root-Instanz für das Rendering der Anwendung.
    *   Typ: `ReactDOM.Root`

**Funktionen/Komponenten:**

*   `ReactDOM.createRoot(rootElement)`: Erstellt eine React-Root-Instanz, um die React-Anwendung in das DOM-Element `rootElement` zu rendern.
    *   Parameter:
        *   `rootElement`: Ein DOM-Element, in das die React-Anwendung gerendert wird (z.B. das Element mit der ID &quot;root&quot;).
    *   Rückgabewert: Eine `ReactDOM.Root`-Instanz.
*   `root.render(element)`: Rendert das React-Element in die React-Root-Instanz.
    *   Parameter:
        *   `element`: Das React-Element, das gerendert werden soll (z.B. `&lt;App /&gt;`).
*   `React.StrictMode`: Eine React-Komponente, die zusätzliche Überprüfungen und Warnungen während der Entwicklung ermöglicht.
*   `App`: Die Hauptkomponente der Anwendung.
    *   Zweck: Enthält die gesamte Anwendungslogik und -struktur.
    *   Props: Keine explizit deklarierten Props im gezeigten Codeausschnitt.
*   `LanguageProvider`: Context Provider, der Sprachkontext für die Anwendung bereitstellt.
    *   Zweck: Stellt Sprachinformationen (z.B. aktuelle Sprache) für die Kindkomponenten bereit.
    *   Props: Nicht explizit im gezeigten Codeausschnitt definiert.
*   `SettingsProvider`: Context Provider, der Anwendungseinstellungen bereitstellt.
    *   Zweck: Stellt Anwendungseinstellungen (z.B. Theme, Präferenzen) für die Kindkomponenten bereit.
    *   Props: Nicht explizit im gezeigten Codeausschnitt definiert.

**Code-Logik:**

1.  Sucht das DOM-Element mit der ID &quot;root&quot;.
2.  Wirft einen Fehler, wenn das &quot;root&quot;-Element nicht gefunden wird.
3.  Erstellt eine React-Root-Instanz für das &quot;root&quot;-Element.
4.  Rendert die `&lt;App /&gt;`-Komponente, umschlossen von `&lt;LanguageProvider&gt;` und `&lt;SettingsProvider&gt;` innerhalb von `&lt;React.StrictMode&gt;`.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-tsconfig-json" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> tsconfig.json</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## tsconfig.json

Diese Datei konfiguriert die Einstellungen des TypeScript-Compilers.

### compilerOptions

Dieses Objekt definiert die Optionen für den TypeScript-Compiler.

**Properties:**

*   **target**: `&quot;ES2022&quot;`

    Definiert die ECMAScript-Version, auf die der Code kompiliert wird. Hier wird ES2022 verwendet, was modernes JavaScript unterstützt.

*   **experimentalDecorators**: `true`

    Aktiviert die Verwendung von experimentellen Decorators. Decorators sind eine Form der Metaprogrammierung, die verwendet werden kann, um Klassen, Methoden, Eigenschaften und Parameter mit deklarativen Attributen zu versehen.

*   **useDefineForClassFields**: `false`

    Steuert, wie Klasseneigenschaften in JavaScript kompiliert werden. Wenn auf `false` gesetzt, werden Eigenschaften direkt im Konstruktor initialisiert, was mit neueren JavaScript-Versionen (ab ES2022) kompatibel ist.

*   **module**: `&quot;ESNext&quot;`

    Legt das Modulsystem fest, das für den Code verwendet wird.  `ESNext` ist eine spezielle Option, die den Compiler anweist, das neueste verfügbare Modulsystem zu verwenden (ähnlich wie `ES2020`, `ES2021`, etc.).

*   **lib**: `[&quot;ES2022&quot;, &quot;DOM&quot;, &quot;DOM.Iterable&quot;]`

    Listet Bibliotheken auf, die in den globalen Scope eingeschlossen werden sollen.
    *   `ES2022`: Enthält Typdefinitionen für ECMAScript 2022 Features.
    *   `DOM`: Enthält Typdefinitionen für das Document Object Model (DOM).
    *   `DOM.Iterable`: Enthält Typdefinitionen für iterierbare DOM-Elemente.

*   **skipLibCheck**: `true`

    Überspringt die Typprüfung für Deklarationsdateien (z.B. .d.ts-Dateien). Dies beschleunigt den Build-Prozess, kann aber potenzielle Typprobleme verbergen.

*   **moduleResolution**: `&quot;bundler&quot;`

    Gibt an, wie Modulpfade aufgelöst werden sollen.  `bundler` ist für Umgebungen wie Webpack, Rollup oder esbuild gedacht, die Module mit ihren eigenen Algorithmen auflösen.

*   **isolatedModules**: `true`

    Ermöglicht die isolierte Kompilierung jeder Datei. Dies ist erforderlich, um moderne Build-Tools und Transpiler effizient nutzen zu können.

*   **moduleDetection**: `&quot;force&quot;`

    Erzwingt die Modulerkennung.

*   **allowJs**: `true`

    Erlaubt das Einbinden von JavaScript-Dateien (.js) in den TypeScript-Code.

*   **jsx**: `&quot;react-jsx&quot;`

    Gibt an, wie JSX-Dateien (.tsx oder .jsx) kompiliert werden sollen.  `react-jsx` verwendet das neue, von React empfohlene JSX-Transformationsformat.

*   **paths**: `{ &quot;@/*&quot;: [&quot;./*&quot;] }`

    Definiert Pfad-Aliase.  Hier wird jeder Import, der mit `@/` beginnt, auf das aktuelle Verzeichnis (`./`) abgebildet.  Dies wird oft für vereinfachte Importpfade verwendet.

*   **allowImportingTsExtensions**: `true`

    Erlaubt das Importieren von TypeScript-Dateien (.ts, .tsx) ohne Dateierweiterung.

*   **noEmit**: `true`

    Verhindert, dass der Compiler Ausgabedateien (z.B. .js, .d.ts) generiert.  Dies ist nützlich, wenn der TypeScript-Compiler nur für die Typprüfung verwendet wird.
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-vite-config-ts" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> vite.config.ts</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">## `vite.config.ts`

### `defineConfig`

```typescript
defineConfig: (config: UserConfig | (() =&gt; UserConfig) | (() =&gt; Promise&lt;UserConfig&gt;)) =&gt; UserConfig
</code></pre>
<p>Erstellt die Konfiguration für Vite.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>config</code>:  Kann entweder ein <code>UserConfig</code> Objekt, eine Funktion die ein <code>UserConfig</code> Objekt zurückgibt, oder eine asynchrone Funktion sein, die ein <code>UserConfig</code> Objekt zurückgibt.  Die Funktion wird mit dem <code>mode</code> Parameter aufgerufen.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>UserConfig</code>:  Die Vite Konfiguration.</li>
</ul>
</li>
</ul>
<h3><code>loadEnv</code></h3>
<pre><code class="language-typescript">loadEnv: (mode: string, envDir: string, prefix?: string) =&gt; Record&lt;string, string&gt;
</code></pre>
<p>Lädt Umgebungsvariablen aus <code>.env</code> Dateien.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>mode</code>: Der Build-Modus (z.B. &#39;development&#39;, &#39;production&#39;).</li>
<li><code>envDir</code>: Das Verzeichnis, in dem nach <code>.env</code> Dateien gesucht werden soll.</li>
<li><code>prefix</code>: Ein optionales Präfix, um zu filtern, welche Variablen geladen werden.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>Record&lt;string, string&gt;</code>: Ein Objekt, das die geladenen Umgebungsvariablen enthält.</li>
</ul>
</li>
</ul>
<h3><code>path.resolve</code></h3>
<pre><code class="language-typescript">path.resolve(...paths: string[]): string
</code></pre>
<p>Löst eine Sequenz von Pfadsegmenten in einen absoluten Pfad auf.</p>
<ul>
<li><strong>Parameter:</strong><ul>
<li><code>...paths</code>: Eine Sequenz von Pfadsegmenten.</li>
</ul>
</li>
<li><strong>Rückgabewert:</strong><ul>
<li><code>string</code>: Der absolute Pfad.</li>
</ul>
</li>
</ul>
<h3>Konfigurationsobjekt (UserConfig)</h3>
<p>Ein Objekt, das die Konfiguration für Vite definiert. Dieses ist implizit im Code verwendet.</p>
<ul>
<li><strong><code>define</code></strong>:<ul>
<li><code>object</code>: Ein Objekt, das globale Konstanten definiert, die im Code ersetzt werden. In diesem Fall werden <code>process.env.API_KEY</code> und <code>process.env.GEMINI_API_KEY</code> definiert und mit dem Wert der Umgebungsvariablen <code>GEMINI_API_KEY</code> belegt.</li>
</ul>
</li>
<li><strong><code>resolve</code></strong>:<ul>
<li><code>object</code>: Konfiguriert wie Module aufgelöst werden.<ul>
<li><strong><code>alias</code></strong>:<ul>
<li><code>object</code>:  Definiert Aliasnamen für Modulpfade.<ul>
<li><code>@</code>:  Wird auf den Pfad des aktuellen Verzeichnisses (<code>.</code>) aufgelöst.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        </div>
        </div>
        <div id="file--gitignore" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> .gitignore</h2>
            <div class="prose prose-invert max-w-none">
            <pre><code class="language-markdown">`.gitignore`

Diese Datei listet Muster auf, die Git ignorieren soll. Dadurch werden bestimmte Dateien und Verzeichnisse aus der Versionskontrolle ausgeschlossen.

**Ignorierte Elemente:**

*   **logs:**  Das Verzeichnis &quot;logs&quot; wird ignoriert.
*   **\*.log:**  Alle Dateien mit der Erweiterung &quot;.log&quot; werden ignoriert.
*   **npm-debug.log\***:  Dateien, die mit &quot;npm-debug.log&quot; beginnen, werden ignoriert.
*   **yarn-debug.log\***: Dateien, die mit &quot;yarn-debug.log&quot; beginnen, werden ignoriert.
*   **yarn-error.log\***: Dateien, die mit &quot;yarn-error.log&quot; beginnen, werden ignoriert.
*   **pnpm-debug.log\***: Dateien, die mit &quot;pnpm-debug.log&quot; beginnen, werden ignoriert.
*   **lerna-debug.log\***: Dateien, die mit &quot;lerna-debug.log&quot; beginnen, werden ignoriert.
*   **node\_modules:** Das Verzeichnis &quot;node\_modules&quot; (für npm-Pakete) wird ignoriert.
*   **dist:** Das Verzeichnis &quot;dist&quot; (für Build-Ausgaben) wird ignoriert.
*   **dist-ssr:** Das Verzeichnis &quot;dist-ssr&quot; (für Server-Side Rendering Ausgaben) wird ignoriert.
*   **\*.local:** Alle Dateien, deren Namen mit &quot;.local&quot; enden, werden ignoriert.
*   **.vscode/\***:  Alle Dateien und Verzeichnisse innerhalb des &quot;.vscode&quot;-Verzeichnisses werden ignoriert.
*   **!.vscode/extensions.json:**  Die Datei &quot;extensions.json&quot; innerhalb des &quot;.vscode&quot;-Verzeichnisses *wird nicht* ignoriert.
*   **.idea:** Das Verzeichnis &quot;.idea&quot; (für IntelliJ IDEA Projektdateien) wird ignoriert.
*   **.DS\_Store:** Die Datei &quot;.DS\_Store&quot; (MacOS-spezifische Metadaten) wird ignoriert.
*   **\*.suo:** Dateien mit der Erweiterung &quot;.suo&quot; (Microsoft Visual Studio Solution User Options) werden ignoriert.
*   **\*.ntvs\***: Dateien, die mit &quot;.ntvs&quot; beginnen, werden ignoriert.
*   **\*.njsproj:**  Dateien mit der Erweiterung &quot;.njsproj&quot; (Node.js Projektdateien) werden ignoriert.
*   **\*.sln:**  Dateien mit der Erweiterung &quot;.sln&quot; (Microsoft Visual Studio Solution Dateien) werden ignoriert.
*   **\*.sw?:** Dateien mit der Erweiterung &quot;.sw?&quot; werden ignoriert.  Dieses Muster deckt temporäre Dateien ab (z.B. Swap-Dateien).
</code></pre>

            </div>
        </div>
        </div>
        <div id="file-README-md" class="file-section mb-12 scroll-mt-20">
        <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-4" style="color: var(--color-text);"><span style="color: var(--color-accent);">Datei:</span> README.md</h2>
            <div class="prose prose-invert max-w-none">
            <h1>Run and deploy your AI Studio app</h1>
<p>Dieses Dokument beschreibt die Schritte zum lokalen Ausführen der App.</p>
<h2>Run Locally</h2>
<p><strong>Voraussetzungen:</strong> Node.js</p>
<h3>Schritte</h3>
<ol>
<li><p><strong>Abhängigkeiten installieren:</strong>
<code>npm install</code></p>
<ul>
<li>Dieser Befehl installiert die im Projekt benötigten npm-Pakete.</li>
</ul>
</li>
<li><p><strong>GEMINI_API_KEY festlegen:</strong></p>
<ul>
<li>Setzen Sie die Umgebungsvariable <code>GEMINI_API_KEY</code> in der Datei <code>[.env.local](.env.local)</code> auf Ihren Gemini API-Schlüssel.</li>
</ul>
</li>
<li><p><strong>App ausführen:</strong>
<code>npm run dev</code></p>
<ul>
<li>Startet die App im Entwicklungsmodus.</li>
</ul>
</li>
</ol>

            </div>
        </div>
        </div>
            </main>
        </div>
    </body>
    </html>
    